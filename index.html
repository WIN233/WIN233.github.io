<!DOCTYPE html>
<head><meta charset="utf-8" /><meta content="minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no" name="viewport" /><link href="static/css/tabler-icons.min.css" rel="stylesheet" type="text/css" /><link href="static/css/style.css" rel="stylesheet" type="text/css" /><link href="static/css/custom.css" rel="stylesheet" type="text/css" /><link href="static/img/logo.png" rel="shortcut icon" type="image/png" /><link href="static/img/logo.png" rel="shortcut icon" sizes="192x192" /><link href="static/img/logo.png" rel="apple-touch-icon" /><meta name="apple-mobile-web-app-title" /><meta content="yes" name="apple-mobile-web-app-capable" /><meta content="yes" name="apple-touch-fullscreen" /><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style" /><meta content="yes" name="mobile-web-app-capable" /><meta property="og:title" /><meta content="site" property="og:type" /><meta content="static/img/logo.png" property="og:image" /><meta property="og:description" /><title></title><meta property="og:site_name" /><meta /></head><body><div id="root"></div><script>window.logseq_db="[&quot;~#datascript/DB&quot;,[&quot;^ &quot;,&quot;~:schema&quot;,[&quot;^ &quot;,&quot;~:ast/version&quot;,[&quot;^ &quot;],&quot;~:file/content&quot;,[&quot;^ &quot;],&quot;~:block/alias&quot;,[&quot;^ &quot;,&quot;~:db/valueType&quot;,&quot;~:db.type/ref&quot;,&quot;~:db/cardinality&quot;,&quot;~:db.cardinality/many&quot;],&quot;~:block/pre-block?&quot;,[&quot;^ &quot;],&quot;~:block/uuid&quot;,[&quot;^ &quot;,&quot;~:db/unique&quot;,&quot;~:db.unique/identity&quot;],&quot;~:block/priority&quot;,[&quot;^ &quot;],&quot;~:block/properties&quot;,[&quot;^ &quot;],&quot;~:block/journal?&quot;,[&quot;^ &quot;],&quot;~:block/namespace&quot;,[&quot;^ &quot;,&quot;^5&quot;,&quot;^6&quot;],&quot;~:block/updated-at&quot;,[&quot;^ &quot;],&quot;~:block/repeated?&quot;,[&quot;^ &quot;],&quot;~:db/type&quot;,[&quot;^ &quot;],&quot;~:file/handle&quot;,[&quot;^ &quot;],&quot;~:block/left&quot;,[&quot;^ &quot;,&quot;^5&quot;,&quot;^6&quot;,&quot;~:db/index&quot;,true],&quot;~:block/refs&quot;,[&quot;^ &quot;,&quot;^5&quot;,&quot;^6&quot;,&quot;^7&quot;,&quot;^8&quot;],&quot;~:block/scheduled&quot;,[&quot;^ &quot;],&quot;~:block/properties-order&quot;,[&quot;^ &quot;],&quot;~:block/created-at&quot;,[&quot;^ &quot;],&quot;~:block/deadline&quot;,[&quot;^ &quot;],&quot;~:block/collapsed?&quot;,[&quot;^ &quot;,&quot;^F&quot;,true],&quot;~:block/journal-day&quot;,[&quot;^ &quot;],&quot;~:block/format&quot;,[&quot;^ &quot;],&quot;~:block/tags&quot;,[&quot;^ &quot;,&quot;^5&quot;,&quot;^6&quot;,&quot;^7&quot;,&quot;^8&quot;],&quot;~:block/content&quot;,[&quot;^ &quot;],&quot;~:recent/pages&quot;,[&quot;^ &quot;],&quot;~:db/ident&quot;,[&quot;^ &quot;,&quot;^;&quot;,&quot;^&lt;&quot;],&quot;~:block/path-refs&quot;,[&quot;^ &quot;,&quot;^5&quot;,&quot;^6&quot;,&quot;^7&quot;,&quot;^8&quot;],&quot;~:block/parent&quot;,[&quot;^ &quot;,&quot;^5&quot;,&quot;^6&quot;,&quot;^F&quot;,true],&quot;~:block/heading-level&quot;,[&quot;^ &quot;],&quot;~:block/type&quot;,[&quot;^ &quot;],&quot;~:block/page&quot;,[&quot;^ &quot;,&quot;^5&quot;,&quot;^6&quot;,&quot;^F&quot;,true],&quot;~:block/name&quot;,[&quot;^ &quot;,&quot;^;&quot;,&quot;^&lt;&quot;],&quot;~:file/path&quot;,[&quot;^ &quot;,&quot;^;&quot;,&quot;^&lt;&quot;],&quot;~:block/file&quot;,[&quot;^ &quot;,&quot;^5&quot;,&quot;^6&quot;],&quot;~:block/marker&quot;,[&quot;^ &quot;],&quot;~:block/original-name&quot;,[&quot;^ &quot;,&quot;^;&quot;,&quot;^&lt;&quot;],&quot;~:schema/version&quot;,[&quot;^ &quot;]],&quot;~:datoms&quot;,[&quot;~#list&quot;,[[&quot;~#datascript/Datom&quot;,[1,&quot;^C&quot;,&quot;~:local-native-fs&quot;,536870913]],[&quot;^14&quot;,[1,&quot;^11&quot;,1,536870913]],[&quot;^14&quot;,[2,&quot;^J&quot;,1651850903540,536871485]],[&quot;^14&quot;,[2,&quot;^?&quot;,false,536870914]],[&quot;^14&quot;,[2,&quot;^X&quot;,&quot;card&quot;,536870913]],[&quot;^14&quot;,[2,&quot;^10&quot;,&quot;card&quot;,536870913]],[&quot;^14&quot;,[2,&quot;^A&quot;,1651850903540,536871485]],[&quot;^14&quot;,[2,&quot;^:&quot;,&quot;~u149074cb-6cad-492a-924c-ff5f059ec656&quot;,536873018]],[&quot;^14&quot;,[3,&quot;^J&quot;,1651850903540,536871485]],[&quot;^14&quot;,[3,&quot;^?&quot;,false,536870914]],[&quot;^14&quot;,[3,&quot;^X&quot;,&quot;todo&quot;,536870914]],[&quot;^14&quot;,[3,&quot;^10&quot;,&quot;TODO&quot;,536870914]],[&quot;^14&quot;,[3,&quot;^A&quot;,1651850903540,536871485]],[&quot;^14&quot;,[3,&quot;^:&quot;,&quot;~ud5330e50-fbea-4d36-bc0c-987b32903100&quot;,536873018]],[&quot;^14&quot;,[4,&quot;^J&quot;,1651850903540,536871485]],[&quot;^14&quot;,[4,&quot;^?&quot;,false,536870914]],[&quot;^14&quot;,[4,&quot;^X&quot;,&quot;now&quot;,536870914]],[&quot;^14&quot;,[4,&quot;^10&quot;,&quot;NOW&quot;,536870914]],[&quot;^14&quot;,[4,&quot;^A&quot;,1651850903540,536871485]],[&quot;^14&quot;,[4,&quot;^:&quot;,&quot;~u11eacb64-dfd6-4240-95d9-5ea10cbd2a1d&quot;,536873018]],[&quot;^14&quot;,[5,&quot;^J&quot;,1651850903540,536871485]],[&quot;^14&quot;,[5,&quot;^?&quot;,false,536870914]],[&quot;^14&quot;,[5,&quot;^X&quot;,&quot;later&quot;,536870914]],[&quot;^14&quot;,[5,&quot;^10&quot;,&quot;LATER&quot;,536870914]],[&quot;^14&quot;,[5,&quot;^A&quot;,1651850903540,536871485]],[&quot;^14&quot;,[5,&quot;^:&quot;,&quot;~udc3a3036-8959-4eaf-804c-4d7690e0e33a&quot;,536873018]],[&quot;^14&quot;,[6,&quot;^J&quot;,1651850903540,536871485]],[&quot;^14&quot;,[6,&quot;^?&quot;,false,536870914]],[&quot;^14&quot;,[6,&quot;^X&quot;,&quot;done&quot;,536870914]],[&quot;^14&quot;,[6,&quot;^10&quot;,&quot;DONE&quot;,536870914]],[&quot;^14&quot;,[6,&quot;^A&quot;,1651850903540,536871485]],[&quot;^14&quot;,[6,&quot;^:&quot;,&quot;~u57cd3cbe-5caa-47b8-8191-c23ff25ab616&quot;,536873018]],[&quot;^14&quot;,[7,&quot;^J&quot;,1651850903540,536871485]],[&quot;^14&quot;,[7,&quot;^?&quot;,false,536870914]],[&quot;^14&quot;,[7,&quot;^X&quot;,&quot;doing&quot;,536870914]],[&quot;^14&quot;,[7,&quot;^10&quot;,&quot;DOING&quot;,536870914]],[&quot;^14&quot;,[7,&quot;^A&quot;,1651850903540,536871485]],[&quot;^14&quot;,[7,&quot;^:&quot;,&quot;~uf37ac8db-d8ed-42db-abb6-54ae3cfdd213&quot;,536873018]],[&quot;^14&quot;,[8,&quot;^J&quot;,1651850903540,536871485]],[&quot;^14&quot;,[8,&quot;^?&quot;,false,536870914]],[&quot;^14&quot;,[8,&quot;^X&quot;,&quot;in-progress&quot;,536870914]],[&quot;^14&quot;,[8,&quot;^10&quot;,&quot;IN-PROGRESS&quot;,536870914]],[&quot;^14&quot;,[8,&quot;^A&quot;,1651850903540,536871485]],[&quot;^14&quot;,[8,&quot;^:&quot;,&quot;~u0c41448e-15a6-4202-8e35-09429c301b24&quot;,536873018]],[&quot;^14&quot;,[9,&quot;^J&quot;,1651850903540,536871485]],[&quot;^14&quot;,[9,&quot;^?&quot;,false,536870914]],[&quot;^14&quot;,[9,&quot;^X&quot;,&quot;c&quot;,536870914]],[&quot;^14&quot;,[9,&quot;^10&quot;,&quot;C&quot;,536870914]],[&quot;^14&quot;,[9,&quot;^A&quot;,1651850903540,536871485]],[&quot;^14&quot;,[9,&quot;^:&quot;,&quot;~u526c665a-e53d-4bdd-b66a-18fd10101bb4&quot;,536873018]],[&quot;^14&quot;,[10,&quot;^J&quot;,1651850903540,536871485]],[&quot;^14&quot;,[10,&quot;^?&quot;,false,536870914]],[&quot;^14&quot;,[10,&quot;^X&quot;,&quot;b&quot;,536870914]],[&quot;^14&quot;,[10,&quot;^10&quot;,&quot;B&quot;,536870914]],[&quot;^14&quot;,[10,&quot;^A&quot;,1651850903540,536871485]],[&quot;^14&quot;,[10,&quot;^:&quot;,&quot;~uf91c7ad9-fb98-4c56-94e1-dfb49edd71c2&quot;,536873018]],[&quot;^14&quot;,[11,&quot;^J&quot;,1651850903540,536871485]],[&quot;^14&quot;,[11,&quot;^?&quot;,false,536870914]],[&quot;^14&quot;,[11,&quot;^X&quot;,&quot;contents&quot;,536870914]],[&quot;^14&quot;,[11,&quot;^10&quot;,&quot;Contents&quot;,536870914]],[&quot;^14&quot;,[11,&quot;^A&quot;,1651850903540,536871485]],[&quot;^14&quot;,[11,&quot;^:&quot;,&quot;~u06a9e804-3c90-4b87-8dc2-1a8ec529b51a&quot;,536873018]],[&quot;^14&quot;,[12,&quot;^J&quot;,1651850903540,536871485]],[&quot;^14&quot;,[12,&quot;^?&quot;,false,536870914]],[&quot;^14&quot;,[12,&quot;^X&quot;,&quot;waiting&quot;,536870914]],[&quot;^14&quot;,[12,&quot;^10&quot;,&quot;WAITING&quot;,536870914]],[&quot;^14&quot;,[12,&quot;^A&quot;,1651850903540,536871485]],[&quot;^14&quot;,[12,&quot;^:&quot;,&quot;~uc83b0ab9-470c-4df1-93dc-779608f6475d&quot;,536873018]],[&quot;^14&quot;,[13,&quot;^J&quot;,1651850903540,536871485]],[&quot;^14&quot;,[13,&quot;^?&quot;,false,536870914]],[&quot;^14&quot;,[13,&quot;^X&quot;,&quot;favorites&quot;,536870914]],[&quot;^14&quot;,[13,&quot;^10&quot;,&quot;Favorites&quot;,536870914]],[&quot;^14&quot;,[13,&quot;^A&quot;,1651850903540,536871485]],[&quot;^14&quot;,[13,&quot;^:&quot;,&quot;~ubd4bd924-5f86-495f-90b2-aa1edea2b425&quot;,536873018]],[&quot;^14&quot;,[14,&quot;^J&quot;,1651850903540,536871485]],[&quot;^14&quot;,[14,&quot;^?&quot;,false,536870914]],[&quot;^14&quot;,[14,&quot;^X&quot;,&quot;a&quot;,536870914]],[&quot;^14&quot;,[14,&quot;^10&quot;,&quot;A&quot;,536870914]],[&quot;^14&quot;,[14,&quot;^A&quot;,1651850903540,536871485]],[&quot;^14&quot;,[14,&quot;^:&quot;,&quot;~ufbc3a9d4-e81b-4d63-a119-8b47c3410185&quot;,536873018]],[&quot;^14&quot;,[15,&quot;^J&quot;,1651850903540,536871485]],[&quot;^14&quot;,[15,&quot;^?&quot;,false,536870914]],[&quot;^14&quot;,[15,&quot;^X&quot;,&quot;wait&quot;,536870914]],[&quot;^14&quot;,[15,&quot;^10&quot;,&quot;WAIT&quot;,536870914]],[&quot;^14&quot;,[15,&quot;^A&quot;,1651850903540,536871485]],[&quot;^14&quot;,[15,&quot;^:&quot;,&quot;~u2be47af4-836e-47bd-9591-382b22d58dec&quot;,536873018]],[&quot;^14&quot;,[16,&quot;^2&quot;,1,536870915]],[&quot;^14&quot;,[16,&quot;^R&quot;,&quot;^2&quot;,536870915]],[&quot;^14&quot;,[17,&quot;^J&quot;,1651849852338,536870916]],[&quot;^14&quot;,[17,&quot;^N&quot;,&quot;~:markdown&quot;,536870916]],[&quot;^14&quot;,[17,&quot;^M&quot;,20220506,536870916]],[&quot;^14&quot;,[17,&quot;^?&quot;,true,536870916]],[&quot;^14&quot;,[17,&quot;^X&quot;,&quot;may 6th, 2022&quot;,536870916]],[&quot;^14&quot;,[17,&quot;^10&quot;,&quot;May 6th, 2022&quot;,536870916]],[&quot;^14&quot;,[17,&quot;^A&quot;,1651851139849,536871566]],[&quot;^14&quot;,[17,&quot;^:&quot;,&quot;~u62753a7c-7ff0-4847-96a9-c0b81dbaaef8&quot;,536870916]],[&quot;^14&quot;,[18,&quot;^P&quot;,&quot;[[Java并发]]&quot;,536870934]],[&quot;^14&quot;,[18,&quot;^N&quot;,&quot;^16&quot;,536870917]],[&quot;^14&quot;,[18,&quot;^M&quot;,20220506,536870917]],[&quot;^14&quot;,[18,&quot;^?&quot;,true,536870917]],[&quot;^14&quot;,[18,&quot;^E&quot;,17,536870917]],[&quot;^14&quot;,[18,&quot;^W&quot;,17,536870917]],[&quot;^14&quot;,[18,&quot;^T&quot;,17,536870917]],[&quot;^14&quot;,[18,&quot;^S&quot;,17,536870934]],[&quot;^14&quot;,[18,&quot;^S&quot;,24,536870934]],[&quot;^14&quot;,[18,&quot;^&gt;&quot;,[&quot;^ &quot;],536870934]],[&quot;^14&quot;,[18,&quot;^G&quot;,24,536870934]],[&quot;^14&quot;,[18,&quot;~:block/unordered&quot;,true,536870917]],[&quot;^14&quot;,[18,&quot;^:&quot;,&quot;~u62753a7c-4f3d-4caa-af65-4caf9b2c65b2&quot;,536870917]],[&quot;^14&quot;,[21,&quot;^P&quot;,&quot;&quot;,536870925]],[&quot;^14&quot;,[21,&quot;^N&quot;,&quot;^16&quot;,536870925]],[&quot;^14&quot;,[21,&quot;^E&quot;,11,536870925]],[&quot;^14&quot;,[21,&quot;^W&quot;,11,536870925]],[&quot;^14&quot;,[21,&quot;^T&quot;,11,536870925]],[&quot;^14&quot;,[21,&quot;^S&quot;,11,536870925]],[&quot;^14&quot;,[21,&quot;^17&quot;,true,536870925]],[&quot;^14&quot;,[21,&quot;^:&quot;,&quot;~u62753a7c-d2b5-4786-a824-8bcf6a4e3a37&quot;,536870925]],[&quot;^14&quot;,[24,&quot;^J&quot;,1651849907538,536870934]],[&quot;^14&quot;,[24,&quot;^?&quot;,false,536870934]],[&quot;^14&quot;,[24,&quot;^X&quot;,&quot;java并发&quot;,536870934]],[&quot;^14&quot;,[24,&quot;^10&quot;,&quot;Java并发&quot;,536870934]],[&quot;^14&quot;,[24,&quot;^A&quot;,1651851220576,536871636]],[&quot;^14&quot;,[24,&quot;^:&quot;,&quot;~u62753ab3-0b11-4545-8107-438f46951fa0&quot;,536870934]],[&quot;^14&quot;,[25,&quot;^P&quot;,&quot;[[2.创建并启动线程]]&quot;,536871022]],[&quot;^14&quot;,[25,&quot;^N&quot;,&quot;^16&quot;,536870935]],[&quot;^14&quot;,[25,&quot;^?&quot;,true,536870935]],[&quot;^14&quot;,[25,&quot;^E&quot;,18,536870935]],[&quot;^14&quot;,[25,&quot;^W&quot;,17,536870935]],[&quot;^14&quot;,[25,&quot;^T&quot;,17,536870935]],[&quot;^14&quot;,[25,&quot;^S&quot;,17,536871022]],[&quot;^14&quot;,[25,&quot;^S&quot;,41,536871022]],[&quot;^14&quot;,[25,&quot;^&gt;&quot;,[&quot;^ &quot;],536871022]],[&quot;^14&quot;,[25,&quot;^G&quot;,41,536871022]],[&quot;^14&quot;,[25,&quot;^17&quot;,true,536870935]],[&quot;^14&quot;,[25,&quot;^:&quot;,&quot;~u62753ab3-36d7-4511-b19d-b88dfbf9d385&quot;,536870935]],[&quot;^14&quot;,[26,&quot;^P&quot;,&quot;[[1.什么是线程]]&quot;,536870945]],[&quot;^14&quot;,[26,&quot;^N&quot;,&quot;^16&quot;,536870938]],[&quot;^14&quot;,[26,&quot;^?&quot;,false,536870938]],[&quot;^14&quot;,[26,&quot;^E&quot;,24,536870938]],[&quot;^14&quot;,[26,&quot;^W&quot;,24,536870938]],[&quot;^14&quot;,[26,&quot;^T&quot;,24,536870938]],[&quot;^14&quot;,[26,&quot;^S&quot;,24,536870945]],[&quot;^14&quot;,[26,&quot;^S&quot;,29,536870945]],[&quot;^14&quot;,[26,&quot;^&gt;&quot;,[&quot;^ &quot;],536870945]],[&quot;^14&quot;,[26,&quot;^G&quot;,29,536870945]],[&quot;^14&quot;,[26,&quot;^17&quot;,true,536870938]],[&quot;^14&quot;,[26,&quot;^:&quot;,&quot;~u62753ab5-efc7-41e1-9869-79f0f7d37c1d&quot;,536870938]],[&quot;^14&quot;,[27,&quot;^R&quot;,&quot;^Q&quot;,536870939]],[&quot;^14&quot;,[29,&quot;^J&quot;,1651849918356,536870945]],[&quot;^14&quot;,[29,&quot;^?&quot;,false,536870945]],[&quot;^14&quot;,[29,&quot;^X&quot;,&quot;1.什么是线程&quot;,536870945]],[&quot;^14&quot;,[29,&quot;^10&quot;,&quot;1.什么是线程&quot;,536870945]],[&quot;^14&quot;,[29,&quot;^A&quot;,1651850015991,536871004]],[&quot;^14&quot;,[29,&quot;^:&quot;,&quot;~u62753abe-2dc8-42f0-81be-6e99271681eb&quot;,536870945]],[&quot;^14&quot;,[30,&quot;^P&quot;,&quot;[[2.创建并启动线程]]&quot;,536871580]],[&quot;^14&quot;,[30,&quot;^N&quot;,&quot;^16&quot;,536870946]],[&quot;^14&quot;,[30,&quot;^?&quot;,false,536870946]],[&quot;^14&quot;,[30,&quot;^E&quot;,26,536870946]],[&quot;^14&quot;,[30,&quot;^W&quot;,24,536870946]],[&quot;^14&quot;,[30,&quot;^T&quot;,24,536870946]],[&quot;^14&quot;,[30,&quot;^S&quot;,24,536871580]],[&quot;^14&quot;,[30,&quot;^S&quot;,41,536871580]],[&quot;^14&quot;,[30,&quot;^&gt;&quot;,[&quot;^ &quot;],536871580]],[&quot;^14&quot;,[30,&quot;^G&quot;,41,536871580]],[&quot;^14&quot;,[30,&quot;^17&quot;,true,536870946]],[&quot;^14&quot;,[30,&quot;^:&quot;,&quot;~u62753abe-04f9-4f5f-bdad-c304015d4567&quot;,536870946]],[&quot;^14&quot;,[31,&quot;^P&quot;,&quot;线程（英语：thread）是操作系统能够进行运算调度的最小单位。大部分情况下，它被包含在进程之中，是进程中的实际运作单位。一条线程指的是进程中一个单一顺序的控制流，[[#red]]^^一个进程中可以并发多个线程^^，每条线程并行执行不同的任务。在Unix System V及SunOS中也被称为[[#red]]^^轻量进程（lightweight processes）^^，但轻量进程更多指内核线程（kernel thread），而把用户线程（user thread）称为线程。&quot;,536870970]],[&quot;^14&quot;,[31,&quot;^N&quot;,&quot;^16&quot;,536870949]],[&quot;^14&quot;,[31,&quot;^?&quot;,false,536870949]],[&quot;^14&quot;,[31,&quot;^E&quot;,29,536870949]],[&quot;^14&quot;,[31,&quot;^W&quot;,29,536870949]],[&quot;^14&quot;,[31,&quot;^T&quot;,29,536870949]],[&quot;^14&quot;,[31,&quot;^S&quot;,29,536870970]],[&quot;^14&quot;,[31,&quot;^S&quot;,36,536870970]],[&quot;^14&quot;,[31,&quot;^&gt;&quot;,[&quot;^ &quot;],536870970]],[&quot;^14&quot;,[31,&quot;^G&quot;,36,536870970]],[&quot;^14&quot;,[31,&quot;^17&quot;,true,536870949]],[&quot;^14&quot;,[31,&quot;^:&quot;,&quot;~u62753ac0-5dc5-4542-b831-b2aac78687fc&quot;,536870949]],[&quot;^14&quot;,[35,&quot;^P&quot;,&quot;线程是独立调度和分派的基本单位。线程可以为操作系统内核调度的内核线程，如Win32线程；由用户进程自行调度的用户线程，如Linux平台的[[#red]]^^POSIX Thread^^；或者由内核与用户进程，如Windows 7的线程，进行混合调度。&quot;,536870970]],[&quot;^14&quot;,[35,&quot;^N&quot;,&quot;^16&quot;,536870970]],[&quot;^14&quot;,[35,&quot;^E&quot;,31,536870970]],[&quot;^14&quot;,[35,&quot;^W&quot;,29,536870970]],[&quot;^14&quot;,[35,&quot;^T&quot;,29,536870970]],[&quot;^14&quot;,[35,&quot;^S&quot;,29,536870970]],[&quot;^14&quot;,[35,&quot;^S&quot;,36,536870970]],[&quot;^14&quot;,[35,&quot;^G&quot;,36,536870970]],[&quot;^14&quot;,[35,&quot;^17&quot;,true,536870970]],[&quot;^14&quot;,[35,&quot;^:&quot;,&quot;~ufc378763-3084-4038-a408-a328a71270e4&quot;,536870970]],[&quot;^14&quot;,[36,&quot;^J&quot;,1651849949779,536870970]],[&quot;^14&quot;,[36,&quot;^?&quot;,false,536870970]],[&quot;^14&quot;,[36,&quot;^X&quot;,&quot;_red&quot;,536870970]],[&quot;^14&quot;,[36,&quot;^10&quot;,&quot;#red&quot;,536870970]],[&quot;^14&quot;,[36,&quot;^A&quot;,1651849949779,536870970]],[&quot;^14&quot;,[36,&quot;^:&quot;,&quot;~u62753add-c3fc-4623-ae2c-0bab75edd936&quot;,536870970]],[&quot;^14&quot;,[37,&quot;^P&quot;,&quot;[[#red]]^^同一进程中的多条线程将共享该进程中的全部系统资源，如虚拟地址空间，文件描述符和信号处理等等。^^但同一进程中的多个线程有各自的调用栈（call stack），自己的寄存器环境（register context），自己的线程本地存储（thread-local storage）。&quot;,536870982]],[&quot;^14&quot;,[37,&quot;^N&quot;,&quot;^16&quot;,536870973]],[&quot;^14&quot;,[37,&quot;^?&quot;,false,536870973]],[&quot;^14&quot;,[37,&quot;^E&quot;,35,536870973]],[&quot;^14&quot;,[37,&quot;^W&quot;,29,536870973]],[&quot;^14&quot;,[37,&quot;^T&quot;,29,536870973]],[&quot;^14&quot;,[37,&quot;^S&quot;,29,536870982]],[&quot;^14&quot;,[37,&quot;^S&quot;,36,536870982]],[&quot;^14&quot;,[37,&quot;^&gt;&quot;,[&quot;^ &quot;],536870982]],[&quot;^14&quot;,[37,&quot;^G&quot;,36,536870982]],[&quot;^14&quot;,[37,&quot;^17&quot;,true,536870973]],[&quot;^14&quot;,[37,&quot;^:&quot;,&quot;~u62753b01-e318-40be-a6f1-0b2246d5e381&quot;,536870973]],[&quot;^14&quot;,[38,&quot;^P&quot;,&quot;一个进程可以有很多线程来处理，每条线程并行执行不同的任务。如果进程要完成的任务很多，这样需很多线程，也要调用很多核心，在多核或多CPU，或支持Hyper-threading的CPU上使用多线程程序设计的好处是显而易见的，即提高了程序的执行吞吐率。以人工作的样子想像，核心相当于人，人越多则能同时处理的事情越多，而线程相当于手，手越多则工作效率越高。在单CPU单核的计算机上，使用多线程技术，也可以把进程中负责I/O处理、人机交互而常被阻塞的部分与密集计算的部分分开来执行，编写专门的workhorse线程执行密集计算，虽然多任务比不上多核，但因为具备多线程的能力，从而提高了程序的执行效率。&quot;,536870982]],[&quot;^14&quot;,[38,&quot;^N&quot;,&quot;^16&quot;,536870982]],[&quot;^14&quot;,[38,&quot;^E&quot;,37,536870982]],[&quot;^14&quot;,[38,&quot;^W&quot;,29,536870982]],[&quot;^14&quot;,[38,&quot;^T&quot;,29,536870982]],[&quot;^14&quot;,[38,&quot;^S&quot;,29,536870982]],[&quot;^14&quot;,[38,&quot;^17&quot;,true,536870982]],[&quot;^14&quot;,[38,&quot;^:&quot;,&quot;~ubff9cbd0-b208-4595-ab97-173c716cabc6&quot;,536870982]],[&quot;^14&quot;,[39,&quot;^P&quot;,&quot;\\n&gt; [线程](https://zh.wikipedia.org/wiki/%E7%BA%BF%E7%A8%8B)&quot;,536871004]],[&quot;^14&quot;,[39,&quot;^N&quot;,&quot;^16&quot;,536871001]],[&quot;^14&quot;,[39,&quot;^?&quot;,false,536871001]],[&quot;^14&quot;,[39,&quot;^E&quot;,38,536871001]],[&quot;^14&quot;,[39,&quot;^W&quot;,29,536871001]],[&quot;^14&quot;,[39,&quot;^T&quot;,29,536871001]],[&quot;^14&quot;,[39,&quot;^S&quot;,29,536871004]],[&quot;^14&quot;,[39,&quot;^&gt;&quot;,[&quot;^ &quot;],536871004]],[&quot;^14&quot;,[39,&quot;^17&quot;,true,536871001]],[&quot;^14&quot;,[39,&quot;^:&quot;,&quot;~u62753b1f-5d80-452e-89e9-a32c62000da0&quot;,536871001]],[&quot;^14&quot;,[41,&quot;^J&quot;,1651850051372,536871022]],[&quot;^14&quot;,[41,&quot;^?&quot;,false,536871022]],[&quot;^14&quot;,[41,&quot;^X&quot;,&quot;2.创建并启动线程&quot;,536871022]],[&quot;^14&quot;,[41,&quot;^10&quot;,&quot;2.创建并启动线程&quot;,536871022]],[&quot;^14&quot;,[41,&quot;^A&quot;,1651850186066,536871105]],[&quot;^14&quot;,[41,&quot;^:&quot;,&quot;~u62753b43-3e0a-4ab8-b8db-a2a7189be997&quot;,536871022]],[&quot;^14&quot;,[70,&quot;^P&quot;,&quot;## **Reference**&quot;,536871102]],[&quot;^14&quot;,[70,&quot;^N&quot;,&quot;^16&quot;,536871031]],[&quot;^14&quot;,[70,&quot;^U&quot;,2,536871102]],[&quot;^14&quot;,[70,&quot;^E&quot;,41,536871081]],[&quot;^14&quot;,[70,&quot;^W&quot;,41,536871031]],[&quot;^14&quot;,[70,&quot;^T&quot;,41,536871031]],[&quot;^14&quot;,[70,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[70,&quot;^&gt;&quot;,[&quot;^ &quot;],536871102]],[&quot;^14&quot;,[70,&quot;~:block/size&quot;,2,536871102]],[&quot;^14&quot;,[70,&quot;^V&quot;,&quot;~:heading&quot;,536871102]],[&quot;^14&quot;,[70,&quot;^17&quot;,true,536871031]],[&quot;^14&quot;,[70,&quot;^:&quot;,&quot;~u3c270d10-146d-4a53-b865-7d1d890a488f&quot;,536871031]],[&quot;^14&quot;,[72,&quot;^P&quot;,&quot;\\n&gt; https://docs.oracle.com/javase/8/docs/api/index.html&quot;,536871102]],[&quot;^14&quot;,[72,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[72,&quot;^E&quot;,70,536871102]],[&quot;^14&quot;,[72,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[72,&quot;^T&quot;,41,536871102]],[&quot;^14&quot;,[72,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[72,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[72,&quot;^:&quot;,&quot;~u37492830-2fd4-4894-b915-e7e1c8ba4a3e&quot;,536871102]],[&quot;^14&quot;,[73,&quot;^P&quot;,&quot;A thread is a thread of execution in a program. The Java Virtual Machine allows an application to have multiple threads of execution running concurrently.&quot;,536871102]],[&quot;^14&quot;,[73,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[73,&quot;^E&quot;,72,536871102]],[&quot;^14&quot;,[73,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[73,&quot;^T&quot;,41,536871102]],[&quot;^14&quot;,[73,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[73,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[73,&quot;^:&quot;,&quot;~u43bfdfa9-50e5-4204-8066-ef63450c69f4&quot;,536871102]],[&quot;^14&quot;,[74,&quot;^P&quot;,&quot;线程是程序中的执行程序。Java 虚拟机允许应用程序同时运行多个执行线程。&quot;,536871102]],[&quot;^14&quot;,[74,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[74,&quot;^E&quot;,73,536871102]],[&quot;^14&quot;,[74,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[74,&quot;^T&quot;,73,536871102]],[&quot;^14&quot;,[74,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[74,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[74,&quot;^:&quot;,&quot;~u5bbf18ab-668f-4629-a901-76914e736a4d&quot;,536871102]],[&quot;^14&quot;,[75,&quot;^P&quot;,&quot;Every thread has a priority. Threads with higher priority are executed in preference to threads with lower priority. Each thread may or may not also be marked as a daemon. When code running in some thread creates a new Thread object, the new thread has its priority initially set equal to the priority of the creating thread, and is a daemon thread if and only if the creating thread is a daemon.&quot;,536871102]],[&quot;^14&quot;,[75,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[75,&quot;^E&quot;,73,536871102]],[&quot;^14&quot;,[75,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[75,&quot;^T&quot;,41,536871102]],[&quot;^14&quot;,[75,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[75,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[75,&quot;^:&quot;,&quot;~u8e3817ad-fd64-4d69-b8e9-2b2aaa983b54&quot;,536871102]],[&quot;^14&quot;,[76,&quot;^P&quot;,&quot;每个线程都有一个优先级。具有较高优先级的线程优先于具有较低优先级的线程执行。线程可能会也可能不会被标记为守护进程。当在某个线程中运行的代码创建一个新的 Thread 对象时，新线程的优先级最初设置为等于创建线程的优先级，并且当且仅当创建线程是守护进程时，它才是守护线程。&quot;,536871102]],[&quot;^14&quot;,[76,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[76,&quot;^E&quot;,75,536871102]],[&quot;^14&quot;,[76,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[76,&quot;^T&quot;,75,536871102]],[&quot;^14&quot;,[76,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[76,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[76,&quot;^:&quot;,&quot;~u77cddd64-c003-457e-b58e-c5d1c197182f&quot;,536871102]],[&quot;^14&quot;,[77,&quot;^P&quot;,&quot;When a Java Virtual Machine starts up, there is usually a single non-daemon thread (which typically calls the method named main of some designated class). The Java Virtual Machine continues to execute threads until either of the following occurs:&quot;,536871102]],[&quot;^14&quot;,[77,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[77,&quot;^E&quot;,75,536871102]],[&quot;^14&quot;,[77,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[77,&quot;^T&quot;,41,536871102]],[&quot;^14&quot;,[77,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[77,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[77,&quot;^:&quot;,&quot;~u6d2c520d-d3ee-4879-9ed0-49734f36b545&quot;,536871102]],[&quot;^14&quot;,[78,&quot;^P&quot;,&quot;当 Java 虚拟机启动时，通常有一个非守护线程（通常调用某个指定类的名为 main 的方法）。 Java 虚拟机继续执行线程，直到发生以下任一情况：&quot;,536871102]],[&quot;^14&quot;,[78,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[78,&quot;^E&quot;,77,536871102]],[&quot;^14&quot;,[78,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[78,&quot;^T&quot;,77,536871102]],[&quot;^14&quot;,[78,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[78,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[78,&quot;^:&quot;,&quot;~uf8a79685-65ba-42e2-9df6-e825a4acb0c6&quot;,536871102]],[&quot;^14&quot;,[79,&quot;^P&quot;,&quot;The exit method of class Runtime has been called and the security manager has permitted the exit operation to take place.&quot;,536871102]],[&quot;^14&quot;,[79,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[79,&quot;^E&quot;,78,536871102]],[&quot;^14&quot;,[79,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[79,&quot;^T&quot;,77,536871102]],[&quot;^14&quot;,[79,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[79,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[79,&quot;^:&quot;,&quot;~ud36d78d1-99df-49fc-abb7-0489215c86d5&quot;,536871102]],[&quot;^14&quot;,[80,&quot;^P&quot;,&quot;已调用 Runtime 类的退出方法，并且安全管理器已允许进行退出操作。&quot;,536871102]],[&quot;^14&quot;,[80,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[80,&quot;^E&quot;,79,536871102]],[&quot;^14&quot;,[80,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[80,&quot;^T&quot;,79,536871102]],[&quot;^14&quot;,[80,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[80,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[80,&quot;^:&quot;,&quot;~ud8816f00-412d-467f-a14b-0422987c815a&quot;,536871102]],[&quot;^14&quot;,[81,&quot;^P&quot;,&quot;All threads that are not daemon threads have died, either by returning from the call to the run method or by throwing an exception that propagates beyond the run method.&quot;,536871102]],[&quot;^14&quot;,[81,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[81,&quot;^E&quot;,79,536871102]],[&quot;^14&quot;,[81,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[81,&quot;^T&quot;,77,536871102]],[&quot;^14&quot;,[81,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[81,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[81,&quot;^:&quot;,&quot;~ud8f8f080-0f17-49e6-a8fd-829056248c8a&quot;,536871102]],[&quot;^14&quot;,[82,&quot;^P&quot;,&quot;所有不是守护线程的线程都已经死亡，要么通过调用 run 方法返回，要么抛出传播到 run 方法之外的异常。&quot;,536871102]],[&quot;^14&quot;,[82,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[82,&quot;^E&quot;,81,536871102]],[&quot;^14&quot;,[82,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[82,&quot;^T&quot;,81,536871102]],[&quot;^14&quot;,[82,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[82,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[82,&quot;^:&quot;,&quot;~u3b98f2f1-e478-4626-9df5-c91c9d8db226&quot;,536871102]],[&quot;^14&quot;,[83,&quot;^P&quot;,&quot;### 关于虚拟机启动时就有一个非守护线程的验证&quot;,536871102]],[&quot;^14&quot;,[83,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[83,&quot;^U&quot;,3,536871102]],[&quot;^14&quot;,[83,&quot;^E&quot;,77,536871102]],[&quot;^14&quot;,[83,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[83,&quot;^T&quot;,41,536871102]],[&quot;^14&quot;,[83,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[83,&quot;^18&quot;,3,536871102]],[&quot;^14&quot;,[83,&quot;^V&quot;,&quot;^19&quot;,536871102]],[&quot;^14&quot;,[83,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[83,&quot;^:&quot;,&quot;~u18748fd3-a8ed-4afd-ad23-62ce6d7115af&quot;,536871102]],[&quot;^14&quot;,[84,&quot;^P&quot;,&quot;\\n``` java\\n public class TryConcurrency {\\n     public static void main(String[] args) {\\n         // 验证启动程序后JVM会自动创建main线程\\n         try {\\n             Thread.sleep(1000 * 100L);\\n         } catch (InterruptedException e) {\\n             e.printStackTrace();\\n         }\\n     }\\n }\\n```&quot;,536871102]],[&quot;^14&quot;,[84,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[84,&quot;^E&quot;,83,536871102]],[&quot;^14&quot;,[84,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[84,&quot;^T&quot;,41,536871102]],[&quot;^14&quot;,[84,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[84,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[84,&quot;^:&quot;,&quot;~ue227c952-6226-4de5-b420-88c827bb3c43&quot;,536871102]],[&quot;^14&quot;,[85,&quot;^P&quot;,&quot;打开jconsole&quot;,536871102]],[&quot;^14&quot;,[85,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[85,&quot;^E&quot;,84,536871102]],[&quot;^14&quot;,[85,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[85,&quot;^T&quot;,41,536871102]],[&quot;^14&quot;,[85,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[85,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[85,&quot;^:&quot;,&quot;~ub5193f9d-d1cf-4466-94e1-f3ccd74833bc&quot;,536871102]],[&quot;^14&quot;,[86,&quot;^P&quot;,&quot;![image.png](../assets/image_1651850185513_0.png)&quot;,536871105]],[&quot;^14&quot;,[86,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[86,&quot;^E&quot;,85,536871102]],[&quot;^14&quot;,[86,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[86,&quot;^T&quot;,41,536871102]],[&quot;^14&quot;,[86,&quot;^S&quot;,41,536871105]],[&quot;^14&quot;,[86,&quot;^&gt;&quot;,[&quot;^ &quot;],536871105]],[&quot;^14&quot;,[86,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[86,&quot;^:&quot;,&quot;~ufc4766f4-1801-4ab4-98a1-704faae84d51&quot;,536871102]],[&quot;^14&quot;,[87,&quot;^P&quot;,&quot;&quot;,536871102]],[&quot;^14&quot;,[87,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[87,&quot;^E&quot;,86,536871102]],[&quot;^14&quot;,[87,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[87,&quot;^T&quot;,41,536871102]],[&quot;^14&quot;,[87,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[87,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[87,&quot;^:&quot;,&quot;~uda5f7226-8ad6-4679-9986-4bd00c72731c&quot;,536871102]],[&quot;^14&quot;,[88,&quot;^P&quot;,&quot;### 创建线程的方式&quot;,536871102]],[&quot;^14&quot;,[88,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[88,&quot;^U&quot;,3,536871102]],[&quot;^14&quot;,[88,&quot;^E&quot;,87,536871102]],[&quot;^14&quot;,[88,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[88,&quot;^T&quot;,41,536871102]],[&quot;^14&quot;,[88,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[88,&quot;^18&quot;,3,536871102]],[&quot;^14&quot;,[88,&quot;^V&quot;,&quot;^19&quot;,536871102]],[&quot;^14&quot;,[88,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[88,&quot;^:&quot;,&quot;~u25ae3a58-9f64-4186-b83a-a9f3b6a19f1e&quot;,536871102]],[&quot;^14&quot;,[89,&quot;^P&quot;,&quot;There are two ways to create a new thread of execution. One is to declare a class to be a subclass of Thread. This subclass should override the run method of class Thread. An instance of the subclass can then be allocated and started. For example, a thread that computes primes larger than a stated value could be written as follows:&quot;,536871102]],[&quot;^14&quot;,[89,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[89,&quot;^E&quot;,88,536871102]],[&quot;^14&quot;,[89,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[89,&quot;^T&quot;,88,536871102]],[&quot;^14&quot;,[89,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[89,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[89,&quot;^:&quot;,&quot;~ucde12c1c-dbbf-40f7-ac83-bb5d7616b74e&quot;,536871102]],[&quot;^14&quot;,[90,&quot;^P&quot;,&quot;有两种方法可以创建一个新的执行线程。一种是将类声明为 Thread 的子类。这个子类应该重写类 Thread 的 run 方法。然后可以分配和启动子类的实例。&quot;,536871102]],[&quot;^14&quot;,[90,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[90,&quot;^E&quot;,89,536871102]],[&quot;^14&quot;,[90,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[90,&quot;^T&quot;,89,536871102]],[&quot;^14&quot;,[90,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[90,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[90,&quot;^:&quot;,&quot;~u4d4b39ad-8961-409f-ad51-69bc85ac46b4&quot;,536871102]],[&quot;^14&quot;,[91,&quot;^P&quot;,&quot;\\n``` java\\n //这里共有两个线程执行，一个是main函数，一个是t1\\n public class TryConcurrency {\\n     public static void main(String[] args) {\\n         Thread t1 = new Thread(\\&quot;Custom-Thread\\&quot;) {\\n               @Override\\n               public void run() {\\n                   for (int i = 0; i &lt; 100; i++) {\\n                       println(\\&quot;Task i=&gt;\\&quot; + i);\\n                       try {\\n                           Thread.sleep(1000 * 1L);\\n                       } catch (InterruptedException e) {\\n                           e.printStackTrace();\\n                       }\\n                   }\\n               }\\n           };\\n           t1.start();\\n           for (int j = 0; j &lt; 100; j++) {\\n                 println(\\&quot;Task j=&gt;\\&quot; + j);\\n           }\\n     }\\n   \\tprivate static void println(String message) {\\n         System.out.println(message);\\n     }\\n }\\n```&quot;,536871102]],[&quot;^14&quot;,[91,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[91,&quot;^E&quot;,88,536871102]],[&quot;^14&quot;,[91,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[91,&quot;^T&quot;,41,536871102]],[&quot;^14&quot;,[91,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[91,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[91,&quot;^:&quot;,&quot;~u71b09ac4-8919-4025-861b-7cd29e0b491f&quot;,536871102]],[&quot;^14&quot;,[92,&quot;^P&quot;,&quot;\\n``` java\\n //这里模拟了两个线程读写数据库，可以看到运行结果是并行执行的\\n public class TryConcurrency {\\n     public static void main(String[] args) {\\n         new Thread(\\&quot;READ-Thread\\&quot;) {\\n             @Override\\n             public void run() {\\n                 readFromDataBase();\\n             }\\n         }.start();\\n         new Thread(\\&quot;WRITE-Thread\\&quot;) {\\n             @Override\\n             public void run() {\\n                 writeDataToFile();\\n             }\\n         }.start();\\n     }\\n   \\tprivate static void println(String message) {\\n         System.out.println(message);\\n     }\\n   \\t/**\\n      * 读数据\\n      */\\n     private static void readFromDataBase() {\\n         // read data from database and handle it\\n         try {\\n             println(\\&quot;Begin read data from db.\\&quot;);\\n             Thread.sleep(1000 * 1L);\\n             println(\\&quot;Read data done and start handle it.\\&quot;);\\n         } catch (InterruptedException e) {\\n             e.printStackTrace();\\n         }\\n         println(\\&quot;The data handle finish and successfully.\\&quot;);\\n     }\\n \\n     /**\\n      * 写数据\\n      */\\n     private static void writeDataToFile() {\\n         // write data to file\\n         try {\\n             println(\\&quot;Begin write data to file.\\&quot;);\\n             Thread.sleep(1000 * 1L);\\n             println(\\&quot;Write data done and start handle it.\\&quot;);\\n         } catch (InterruptedException e) {\\n             e.printStackTrace();\\n         }\\n         println(\\&quot;The data handle finish and successfully.\\&quot;);\\n     }\\n \\n }\\n```&quot;,536871102]],[&quot;^14&quot;,[92,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[92,&quot;^E&quot;,91,536871102]],[&quot;^14&quot;,[92,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[92,&quot;^T&quot;,41,536871102]],[&quot;^14&quot;,[92,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[92,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[92,&quot;^:&quot;,&quot;~uef7cd527-cd34-4e8d-95f4-3f6ac1f3a8d0&quot;,536871102]],[&quot;^14&quot;,[93,&quot;^P&quot;,&quot;&quot;,536871102]],[&quot;^14&quot;,[93,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[93,&quot;^E&quot;,92,536871102]],[&quot;^14&quot;,[93,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[93,&quot;^T&quot;,41,536871102]],[&quot;^14&quot;,[93,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[93,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[93,&quot;^:&quot;,&quot;~ub38bf6a9-ce44-4a4f-8926-f2d4ede17151&quot;,536871102]],[&quot;^14&quot;,[94,&quot;^P&quot;,&quot;&quot;,536871102]],[&quot;^14&quot;,[94,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[94,&quot;^E&quot;,93,536871102]],[&quot;^14&quot;,[94,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[94,&quot;^T&quot;,41,536871102]],[&quot;^14&quot;,[94,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[94,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[94,&quot;^:&quot;,&quot;~ua6d63666-8801-4559-ba17-78d7c7099adf&quot;,536871102]],[&quot;^14&quot;,[95,&quot;^P&quot;,&quot;&quot;,536871102]],[&quot;^14&quot;,[95,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[95,&quot;^E&quot;,94,536871102]],[&quot;^14&quot;,[95,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[95,&quot;^T&quot;,41,536871102]],[&quot;^14&quot;,[95,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[95,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[95,&quot;^:&quot;,&quot;~ubc12544e-56d6-4886-b678-3b284c3b83b3&quot;,536871102]],[&quot;^14&quot;,[96,&quot;^P&quot;,&quot;&quot;,536871102]],[&quot;^14&quot;,[96,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[96,&quot;^E&quot;,95,536871102]],[&quot;^14&quot;,[96,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[96,&quot;^T&quot;,41,536871102]],[&quot;^14&quot;,[96,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[96,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[96,&quot;^:&quot;,&quot;~u43b90697-c2ad-4c24-b790-58b81e62ab91&quot;,536871102]],[&quot;^14&quot;,[97,&quot;^P&quot;,&quot;&quot;,536871102]],[&quot;^14&quot;,[97,&quot;^N&quot;,&quot;^16&quot;,536871102]],[&quot;^14&quot;,[97,&quot;^E&quot;,96,536871102]],[&quot;^14&quot;,[97,&quot;^W&quot;,41,536871102]],[&quot;^14&quot;,[97,&quot;^T&quot;,41,536871102]],[&quot;^14&quot;,[97,&quot;^S&quot;,41,536871102]],[&quot;^14&quot;,[97,&quot;^17&quot;,true,536871102]],[&quot;^14&quot;,[97,&quot;^:&quot;,&quot;~u3eee8624-2f17-494d-9e9e-36cef20ab768&quot;,536871102]],[&quot;^14&quot;,[98,&quot;^P&quot;,&quot;[[3.线程的生命周期]]&quot;,536871129]],[&quot;^14&quot;,[98,&quot;^N&quot;,&quot;^16&quot;,536871108]],[&quot;^14&quot;,[98,&quot;^?&quot;,true,536871108]],[&quot;^14&quot;,[98,&quot;^E&quot;,25,536871108]],[&quot;^14&quot;,[98,&quot;^W&quot;,17,536871108]],[&quot;^14&quot;,[98,&quot;^T&quot;,17,536871108]],[&quot;^14&quot;,[98,&quot;^S&quot;,17,536871129]],[&quot;^14&quot;,[98,&quot;^S&quot;,99,536871129]],[&quot;^14&quot;,[98,&quot;^&gt;&quot;,[&quot;^ &quot;],536871129]],[&quot;^14&quot;,[98,&quot;^G&quot;,99,536871129]],[&quot;^14&quot;,[98,&quot;^17&quot;,true,536871108]],[&quot;^14&quot;,[98,&quot;^:&quot;,&quot;~u62753bd4-7fb0-4188-bf0e-8db252e74986&quot;,536871108]],[&quot;^14&quot;,[99,&quot;^J&quot;,1651850222176,536871129]],[&quot;^14&quot;,[99,&quot;^?&quot;,false,536871129]],[&quot;^14&quot;,[99,&quot;^X&quot;,&quot;3.线程的生命周期&quot;,536871129]],[&quot;^14&quot;,[99,&quot;^10&quot;,&quot;3.线程的生命周期&quot;,536871129]],[&quot;^14&quot;,[99,&quot;^A&quot;,1651850277938,536871171]],[&quot;^14&quot;,[99,&quot;^:&quot;,&quot;~u62753bee-811b-4cb7-b22c-a16e5b60dc8c&quot;,536871129]],[&quot;^14&quot;,[100,&quot;^P&quot;,&quot;## Reference&quot;,536871134]],[&quot;^14&quot;,[100,&quot;^N&quot;,&quot;^16&quot;,536871132]],[&quot;^14&quot;,[100,&quot;^U&quot;,2,536871134]],[&quot;^14&quot;,[100,&quot;^?&quot;,false,536871132]],[&quot;^14&quot;,[100,&quot;^E&quot;,99,536871132]],[&quot;^14&quot;,[100,&quot;^W&quot;,99,536871132]],[&quot;^14&quot;,[100,&quot;^T&quot;,99,536871132]],[&quot;^14&quot;,[100,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[100,&quot;^&gt;&quot;,[&quot;^ &quot;],536871134]],[&quot;^14&quot;,[100,&quot;^18&quot;,2,536871134]],[&quot;^14&quot;,[100,&quot;^V&quot;,&quot;^19&quot;,536871134]],[&quot;^14&quot;,[100,&quot;^17&quot;,true,536871132]],[&quot;^14&quot;,[100,&quot;^:&quot;,&quot;~u62753bef-252c-44b2-9c3d-525015a27710&quot;,536871132]],[&quot;^14&quot;,[101,&quot;^P&quot;,&quot;\\n&gt; https://www.baeldung.com/java-thread-lifecycle&quot;,536871134]],[&quot;^14&quot;,[101,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[101,&quot;^E&quot;,100,536871134]],[&quot;^14&quot;,[101,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[101,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[101,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[101,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[101,&quot;^:&quot;,&quot;~u5a8f06e3-95f5-41af-a777-6c24ff178c0f&quot;,536871134]],[&quot;^14&quot;,[102,&quot;^P&quot;,&quot;\\n&gt; https://www.scientecheasy.com/2020/08/life-cycle-of-thread-in-java.html/&quot;,536871134]],[&quot;^14&quot;,[102,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[102,&quot;^E&quot;,101,536871134]],[&quot;^14&quot;,[102,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[102,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[102,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[102,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[102,&quot;^:&quot;,&quot;~u12905b84-2702-4203-a240-99998797aa65&quot;,536871134]],[&quot;^14&quot;,[103,&quot;^P&quot;,&quot;### 线程的生命周期&quot;,536871134]],[&quot;^14&quot;,[103,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[103,&quot;^U&quot;,3,536871134]],[&quot;^14&quot;,[103,&quot;^E&quot;,102,536871134]],[&quot;^14&quot;,[103,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[103,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[103,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[103,&quot;^18&quot;,3,536871134]],[&quot;^14&quot;,[103,&quot;^V&quot;,&quot;^19&quot;,536871134]],[&quot;^14&quot;,[103,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[103,&quot;^:&quot;,&quot;~uea3713a7-5728-4fd1-a36c-c17617f37b61&quot;,536871134]],[&quot;^14&quot;,[104,&quot;^P&quot;,&quot;Java中线程的生命周期基本上是线程的状态转换，从它的诞生开始到它的死亡结束。当创建线程实例并通过调用[[#red]]^^Thread^^ 类的 [[#red]]^^start()^^ 方法执行时，线程进入[[$red]]^^runnable state(Blocked)^^。&quot;,536871134]],[&quot;^14&quot;,[104,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[104,&quot;^E&quot;,103,536871134]],[&quot;^14&quot;,[104,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[104,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[104,&quot;^S&quot;,36,536871134]],[&quot;^14&quot;,[104,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[104,&quot;^S&quot;,141,536871134]],[&quot;^14&quot;,[104,&quot;^G&quot;,36,536871134]],[&quot;^14&quot;,[104,&quot;^G&quot;,141,536871134]],[&quot;^14&quot;,[104,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[104,&quot;^:&quot;,&quot;~ucb4d0d02-db8c-4e23-ac54-91cfbdbd9f8d&quot;,536871134]],[&quot;^14&quot;,[105,&quot;^P&quot;,&quot;&quot;,536871134]],[&quot;^14&quot;,[105,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[105,&quot;^E&quot;,104,536871134]],[&quot;^14&quot;,[105,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[105,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[105,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[105,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[105,&quot;^:&quot;,&quot;~u5c3502a8-ff23-4b77-8c3e-05e7a02c796c&quot;,536871134]],[&quot;^14&quot;,[106,&quot;^P&quot;,&quot;线程从[[$red]]^^runnable state(Blocked)^^，回到[[$red]]^^runnable state^^ 并继续执行语句。当线程退出 [[#red]]^^run()^^ 方法时，它就会死掉。线程的这些状态转换在 Java 中称为线程生命周期。&quot;,536871134]],[&quot;^14&quot;,[106,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[106,&quot;^E&quot;,105,536871134]],[&quot;^14&quot;,[106,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[106,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[106,&quot;^S&quot;,36,536871134]],[&quot;^14&quot;,[106,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[106,&quot;^S&quot;,141,536871134]],[&quot;^14&quot;,[106,&quot;^G&quot;,36,536871134]],[&quot;^14&quot;,[106,&quot;^G&quot;,141,536871134]],[&quot;^14&quot;,[106,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[106,&quot;^:&quot;,&quot;~u4f182378-79e6-44b2-ace9-707850b6be44&quot;,536871134]],[&quot;^14&quot;,[107,&quot;^P&quot;,&quot;### 线程状态&quot;,536871134]],[&quot;^14&quot;,[107,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[107,&quot;^U&quot;,3,536871134]],[&quot;^14&quot;,[107,&quot;^E&quot;,106,536871134]],[&quot;^14&quot;,[107,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[107,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[107,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[107,&quot;^18&quot;,3,536871134]],[&quot;^14&quot;,[107,&quot;^V&quot;,&quot;^19&quot;,536871134]],[&quot;^14&quot;,[107,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[107,&quot;^:&quot;,&quot;~u013d3423-bd6c-4a40-aafc-315f9ae56def&quot;,536871134]],[&quot;^14&quot;,[108,&quot;^P&quot;,&quot;线程是程序中的一条执行路径，在其生命周期中进入以下五种状态中的任意一种。五种状态如下：&quot;,536871134]],[&quot;^14&quot;,[108,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[108,&quot;^E&quot;,107,536871134]],[&quot;^14&quot;,[108,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[108,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[108,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[108,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[108,&quot;^:&quot;,&quot;~ub83595e6-0d2d-43fe-a430-09acfbd31b66&quot;,536871134]],[&quot;^14&quot;,[109,&quot;^P&quot;,&quot;1. New&quot;,536871134]],[&quot;^14&quot;,[109,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[109,&quot;^E&quot;,108,536871134]],[&quot;^14&quot;,[109,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[109,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[109,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[109,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[109,&quot;^:&quot;,&quot;~u424a7fca-2997-4678-8c24-3a23261cc735&quot;,536871134]],[&quot;^14&quot;,[110,&quot;^P&quot;,&quot;2. Runnable&quot;,536871134]],[&quot;^14&quot;,[110,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[110,&quot;^E&quot;,109,536871134]],[&quot;^14&quot;,[110,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[110,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[110,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[110,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[110,&quot;^:&quot;,&quot;~ub813db8f-5651-4f8f-98b8-2b727cf21b58&quot;,536871134]],[&quot;^14&quot;,[111,&quot;^P&quot;,&quot;3. Running&quot;,536871134]],[&quot;^14&quot;,[111,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[111,&quot;^E&quot;,110,536871134]],[&quot;^14&quot;,[111,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[111,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[111,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[111,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[111,&quot;^:&quot;,&quot;~u51a8575e-410d-41c8-bfa3-8f0cbd97714c&quot;,536871134]],[&quot;^14&quot;,[112,&quot;^P&quot;,&quot;4. Blocked (Non-runnable state)&quot;,536871134]],[&quot;^14&quot;,[112,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[112,&quot;^E&quot;,111,536871134]],[&quot;^14&quot;,[112,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[112,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[112,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[112,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[112,&quot;^:&quot;,&quot;~ube2223a2-18a8-471e-87a1-b88fd27bc4b0&quot;,536871134]],[&quot;^14&quot;,[113,&quot;^P&quot;,&quot;5. Dead（terminated）\\n![image.png](../assets/image_1651850244864_0.png)&quot;,536871141]],[&quot;^14&quot;,[113,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[113,&quot;^E&quot;,112,536871134]],[&quot;^14&quot;,[113,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[113,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[113,&quot;^S&quot;,99,536871141]],[&quot;^14&quot;,[113,&quot;^&gt;&quot;,[&quot;^ &quot;],536871141]],[&quot;^14&quot;,[113,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[113,&quot;^:&quot;,&quot;~u126441bc-56f1-41f8-ba2c-4d3f7f24be6b&quot;,536871134]],[&quot;^14&quot;,[114,&quot;^P&quot;,&quot;[[$red]]^^1. New（Newborn State）：^^当我们使用Thread类创建一个线程对象时，线程就诞生了，并且处于Newborn状态。也就是说，当一个线程诞生时，它会进入Newborn state，但尚未在实例上调用 [[#red]]^^start()^^ 方法。&quot;,536871147]],[&quot;^14&quot;,[114,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[114,&quot;^E&quot;,113,536871134]],[&quot;^14&quot;,[114,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[114,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[114,&quot;^S&quot;,36,536871147]],[&quot;^14&quot;,[114,&quot;^S&quot;,99,536871147]],[&quot;^14&quot;,[114,&quot;^S&quot;,141,536871147]],[&quot;^14&quot;,[114,&quot;^G&quot;,36,536871147]],[&quot;^14&quot;,[114,&quot;^G&quot;,141,536871147]],[&quot;^14&quot;,[114,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[114,&quot;^:&quot;,&quot;~u62777058-08c3-4b53-a686-3818a89eee48&quot;,536871134]],[&quot;^14&quot;,[116,&quot;^P&quot;,&quot;换句话说，线程对象存在但它不能执行任何语句，因为它对于线程来说是不可执行的。只能在新线程上调用 [[#red]]^^start()^^ 方法；否则，将抛出 **IllegalThreadStateException**。&quot;,536871134]],[&quot;^14&quot;,[116,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[116,&quot;^E&quot;,143,536871151]],[&quot;^14&quot;,[116,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[116,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[116,&quot;^S&quot;,36,536871144]],[&quot;^14&quot;,[116,&quot;^S&quot;,99,536871144]],[&quot;^14&quot;,[116,&quot;^G&quot;,36,536871144]],[&quot;^14&quot;,[116,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[116,&quot;^:&quot;,&quot;~u1fff1d7d-cb91-4e46-9d27-34e4ef783350&quot;,536871134]],[&quot;^14&quot;,[117,&quot;^P&quot;,&quot;当调用两次[[#red]]^^start()^^方法时，将会抛出**IllegalThreadStateException**&quot;,536871134]],[&quot;^14&quot;,[117,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[117,&quot;^E&quot;,116,536871134]],[&quot;^14&quot;,[117,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[117,&quot;^T&quot;,116,536871134]],[&quot;^14&quot;,[117,&quot;^S&quot;,36,536871134]],[&quot;^14&quot;,[117,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[117,&quot;^G&quot;,36,536871134]],[&quot;^14&quot;,[117,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[117,&quot;^:&quot;,&quot;~ub5861ecc-7803-46ba-94b0-6df75b6ffa9e&quot;,536871134]],[&quot;^14&quot;,[118,&quot;^P&quot;,&quot;![image.png](../assets/image_1651664064906_0.png)&quot;,536871134]],[&quot;^14&quot;,[118,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[118,&quot;^E&quot;,117,536871134]],[&quot;^14&quot;,[118,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[118,&quot;^T&quot;,116,536871134]],[&quot;^14&quot;,[118,&quot;^S&quot;,36,536871134]],[&quot;^14&quot;,[118,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[118,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[118,&quot;^:&quot;,&quot;~ub864de87-4ac4-47e2-864c-5d761baf378e&quot;,536871134]],[&quot;^14&quot;,[119,&quot;^P&quot;,&quot;2. [[$red]]^^Runnable state:^^Runnable state意味着线程已准备好执行。当在新线程上调用 [[#red]]^^start()^^ 方法时，线程进入Runnable state。&quot;,536871134]],[&quot;^14&quot;,[119,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[119,&quot;^E&quot;,116,536871134]],[&quot;^14&quot;,[119,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[119,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[119,&quot;^S&quot;,36,536871134]],[&quot;^14&quot;,[119,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[119,&quot;^S&quot;,141,536871134]],[&quot;^14&quot;,[119,&quot;^G&quot;,36,536871134]],[&quot;^14&quot;,[119,&quot;^G&quot;,141,536871134]],[&quot;^14&quot;,[119,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[119,&quot;^:&quot;,&quot;~u7370fe3f-c171-4346-b18c-a355e00212a8&quot;,536871134]],[&quot;^14&quot;,[120,&quot;^P&quot;,&quot;在Runnable state下，线程已准备好执行并正在等待处理器可用（CPU 时间）。也就是说，线程已加入等待执行的线程队列。&quot;,536871134]],[&quot;^14&quot;,[120,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[120,&quot;^E&quot;,119,536871134]],[&quot;^14&quot;,[120,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[120,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[120,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[120,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[120,&quot;^:&quot;,&quot;~u8bea670d-6759-499a-a466-bb26c3d88b78&quot;,536871134]],[&quot;^14&quot;,[121,&quot;^P&quot;,&quot;如果所有线程具有相同的优先级，CPU 将按照先到先服务（FIFO）的方式为线程执行分配时隙（**time slicing**）。为线程分配时间的过程称为时间片（**time slicing**）。线程可以从running、waiting或new states进入可运行状态。（不同操作系统实现不同，这个优先级可能并不能按照预期运行）&quot;,536871134]],[&quot;^14&quot;,[121,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[121,&quot;^E&quot;,120,536871134]],[&quot;^14&quot;,[121,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[121,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[121,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[121,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[121,&quot;^:&quot;,&quot;~u76c4e6db-dcd6-4b11-9e87-6333eed40d20&quot;,536871134]],[&quot;^14&quot;,[122,&quot;^P&quot;,&quot;3. [[$red]]^^Running state^^:运行意味着处理器（CPU）已经为线程分配了时间槽以供其执行。当线程调度器从可运行状态中选择一个线程执行时，它进入运行状态。看上图。\\n在Running state下，处理器将其时间分配给线程执行并执行它的[[#red]]^^run^^方法。这是线程执行其实际功能的状态。线程只能从runnable state进入running state。&quot;,536871134]],[&quot;^14&quot;,[122,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[122,&quot;^E&quot;,121,536871134]],[&quot;^14&quot;,[122,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[122,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[122,&quot;^S&quot;,36,536871134]],[&quot;^14&quot;,[122,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[122,&quot;^S&quot;,141,536871134]],[&quot;^14&quot;,[122,&quot;^G&quot;,36,536871134]],[&quot;^14&quot;,[122,&quot;^G&quot;,141,536871134]],[&quot;^14&quot;,[122,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[122,&quot;^:&quot;,&quot;~ud250f1b1-f13b-4037-bc3f-200fb2502ba0&quot;,536871134]],[&quot;^14&quot;,[123,&quot;^P&quot;,&quot;&quot;,536871134]],[&quot;^14&quot;,[123,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[123,&quot;^E&quot;,122,536871134]],[&quot;^14&quot;,[123,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[123,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[123,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[123,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[123,&quot;^:&quot;,&quot;~u54a93642-f8be-4cfa-bcf6-29e39ed6664e&quot;,536871134]],[&quot;^14&quot;,[124,&quot;^P&quot;,&quot;正在运行的线程在以下任何一种情况下都可能放弃控制权，进入blocked state。&quot;,536871134]],[&quot;^14&quot;,[124,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[124,&quot;^E&quot;,123,536871134]],[&quot;^14&quot;,[124,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[124,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[124,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[124,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[124,&quot;^:&quot;,&quot;~ua5c654c2-1693-4da0-aeba-2ef817386585&quot;,536871134]],[&quot;^14&quot;,[125,&quot;^P&quot;,&quot;![image.png](../assets/image_1651850267825_0.png)&quot;,536871160]],[&quot;^14&quot;,[125,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[125,&quot;^E&quot;,124,536871134]],[&quot;^14&quot;,[125,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[125,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[125,&quot;^S&quot;,99,536871160]],[&quot;^14&quot;,[125,&quot;^&gt;&quot;,[&quot;^ &quot;],536871160]],[&quot;^14&quot;,[125,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[125,&quot;^:&quot;,&quot;~u6aba79f7-594b-4208-ab0a-42c76a13e117&quot;,536871134]],[&quot;^14&quot;,[126,&quot;^P&quot;,&quot;3.1 当线程调用 sleep() 方法休眠指定时间段时，该线程在此时间段内移除队列。一旦该时间段过去，线程再次重新进入runnable state。&quot;,536871134]],[&quot;^14&quot;,[126,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[126,&quot;^E&quot;,125,536871134]],[&quot;^14&quot;,[126,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[126,&quot;^T&quot;,125,536871134]],[&quot;^14&quot;,[126,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[126,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[126,&quot;^:&quot;,&quot;~u74c5a665-f16f-4b49-9c66-c5194404cb2f&quot;,536871134]],[&quot;^14&quot;,[127,&quot;^P&quot;,&quot;3.2 当一个线程为了满足某些条件而使用suspend()方法暂停一段时间。可以使用 resume() 方法恢复挂起的线程。&quot;,536871134]],[&quot;^14&quot;,[127,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[127,&quot;^E&quot;,126,536871134]],[&quot;^14&quot;,[127,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[127,&quot;^T&quot;,125,536871134]],[&quot;^14&quot;,[127,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[127,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[127,&quot;^:&quot;,&quot;~u4c9adfb0-083a-480b-b08f-981f13fe92f2&quot;,536871134]],[&quot;^14&quot;,[128,&quot;^P&quot;,&quot;3.3 当在线程上调用wait()方法等待一段时间。处于等待状态的线程可以使用 notify() 或 notifyAll() 方法再次运行。&quot;,536871134]],[&quot;^14&quot;,[128,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[128,&quot;^E&quot;,127,536871134]],[&quot;^14&quot;,[128,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[128,&quot;^T&quot;,125,536871134]],[&quot;^14&quot;,[128,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[128,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[128,&quot;^:&quot;,&quot;~ua3a21008-239d-4af6-890e-1021a93c42e6&quot;,536871134]],[&quot;^14&quot;,[129,&quot;^P&quot;,&quot;4. [[$red]]^^Blocked state:^^ 当线程被挂起、休眠或等待一段时间以满足某种条件时，就认为它处于Blocked state。&quot;,536871134]],[&quot;^14&quot;,[129,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[129,&quot;^E&quot;,125,536871134]],[&quot;^14&quot;,[129,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[129,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[129,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[129,&quot;^S&quot;,141,536871134]],[&quot;^14&quot;,[129,&quot;^G&quot;,141,536871134]],[&quot;^14&quot;,[129,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[129,&quot;^:&quot;,&quot;~u71ee01ed-9b45-4c6e-b86f-95a7a0b4754b&quot;,536871134]],[&quot;^14&quot;,[130,&quot;^P&quot;,&quot;5. [[$red]]^^Dead state（terminated ）:^^ 当线程的run()方法完成语句的执行时，线程会自动死掉或进入Dead state。也就是说，当线程退出 run() 方法时，线程被终止或死亡。当调用 stop() 方法时，线程也可能是Dead state。&quot;,536871134]],[&quot;^14&quot;,[130,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[130,&quot;^E&quot;,129,536871134]],[&quot;^14&quot;,[130,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[130,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[130,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[130,&quot;^S&quot;,141,536871134]],[&quot;^14&quot;,[130,&quot;^G&quot;,141,536871134]],[&quot;^14&quot;,[130,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[130,&quot;^:&quot;,&quot;~u90ee3110-2eab-42bf-b257-823aa5f2fff0&quot;,536871134]],[&quot;^14&quot;,[131,&quot;^P&quot;,&quot;&quot;,536871134]],[&quot;^14&quot;,[131,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[131,&quot;^E&quot;,130,536871134]],[&quot;^14&quot;,[131,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[131,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[131,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[131,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[131,&quot;^:&quot;,&quot;~u179481e9-1dcc-4d90-a0c3-457efabacc28&quot;,536871134]],[&quot;^14&quot;,[132,&quot;^P&quot;,&quot;在 Java 中线程的生命周期中，线程以多种方式从一种状态移动到另一种状态。这是因为在多线程环境中，当多个线程执行时，一次只能有一个线程使用 CPU。&quot;,536871134]],[&quot;^14&quot;,[132,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[132,&quot;^E&quot;,131,536871134]],[&quot;^14&quot;,[132,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[132,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[132,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[132,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[132,&quot;^:&quot;,&quot;~u886eddfb-6129-4baf-a5dc-9cc25140a57e&quot;,536871134]],[&quot;^14&quot;,[133,&quot;^P&quot;,&quot;所有其他线程都处于其他状态，要么等待它们打开 CPU，要么等待满足某些条件。因此，线程始终处于五种状态中的任何一种。&quot;,536871134]],[&quot;^14&quot;,[133,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[133,&quot;^E&quot;,132,536871134]],[&quot;^14&quot;,[133,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[133,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[133,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[133,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[133,&quot;^:&quot;,&quot;~u9683caec-8ce9-440c-941b-944cf00947e6&quot;,536871134]],[&quot;^14&quot;,[134,&quot;^P&quot;,&quot;### 关于Thread [[#red]]^^run()^^方法的设计&quot;,536871164]],[&quot;^14&quot;,[134,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[134,&quot;^U&quot;,3,536871164]],[&quot;^14&quot;,[134,&quot;^E&quot;,133,536871134]],[&quot;^14&quot;,[134,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[134,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[134,&quot;^S&quot;,36,536871164]],[&quot;^14&quot;,[134,&quot;^S&quot;,99,536871164]],[&quot;^14&quot;,[134,&quot;^G&quot;,36,536871164]],[&quot;^14&quot;,[134,&quot;^18&quot;,3,536871134]],[&quot;^14&quot;,[134,&quot;^V&quot;,&quot;^19&quot;,536871164]],[&quot;^14&quot;,[134,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[134,&quot;^:&quot;,&quot;~u5b961cef-9e00-45c1-a53f-2424a4601174&quot;,536871134]],[&quot;^14&quot;,[136,&quot;^P&quot;,&quot;上图的target其实就是Runnable，也就是创建线程的第二种方式 [[2.创建并启动线程]] ，通过构造函数传入Runnable，其实就是利用了模板方法设计模式，如果以第一种，就是覆盖[[#red]]^^run()^^方法。&quot;,536871134]],[&quot;^14&quot;,[136,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[136,&quot;^E&quot;,144,536871168]],[&quot;^14&quot;,[136,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[136,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[136,&quot;^S&quot;,36,536871163]],[&quot;^14&quot;,[136,&quot;^S&quot;,41,536871163]],[&quot;^14&quot;,[136,&quot;^S&quot;,99,536871163]],[&quot;^14&quot;,[136,&quot;^G&quot;,36,536871163]],[&quot;^14&quot;,[136,&quot;^G&quot;,41,536871163]],[&quot;^14&quot;,[136,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[136,&quot;^:&quot;,&quot;~u1d23bacd-b111-47af-8d7b-0ae4b2b26486&quot;,536871134]],[&quot;^14&quot;,[137,&quot;^P&quot;,&quot;&quot;,536871134]],[&quot;^14&quot;,[137,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[137,&quot;^E&quot;,136,536871134]],[&quot;^14&quot;,[137,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[137,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[137,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[137,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[137,&quot;^:&quot;,&quot;~ubaf13eb0-17b2-460d-a5ff-1dfb8fc5c668&quot;,536871134]],[&quot;^14&quot;,[138,&quot;^P&quot;,&quot;&quot;,536871134]],[&quot;^14&quot;,[138,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[138,&quot;^E&quot;,137,536871134]],[&quot;^14&quot;,[138,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[138,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[138,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[138,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[138,&quot;^:&quot;,&quot;~ud9ad754b-3166-4ce3-8b8a-1cdd5390f042&quot;,536871134]],[&quot;^14&quot;,[139,&quot;^P&quot;,&quot;&quot;,536871134]],[&quot;^14&quot;,[139,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[139,&quot;^E&quot;,138,536871134]],[&quot;^14&quot;,[139,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[139,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[139,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[139,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[139,&quot;^:&quot;,&quot;~uc2d6b157-01bd-4fd0-a1bc-7f2b87b6f29e&quot;,536871134]],[&quot;^14&quot;,[140,&quot;^P&quot;,&quot;&quot;,536871134]],[&quot;^14&quot;,[140,&quot;^N&quot;,&quot;^16&quot;,536871134]],[&quot;^14&quot;,[140,&quot;^E&quot;,139,536871134]],[&quot;^14&quot;,[140,&quot;^W&quot;,99,536871134]],[&quot;^14&quot;,[140,&quot;^T&quot;,99,536871134]],[&quot;^14&quot;,[140,&quot;^S&quot;,99,536871134]],[&quot;^14&quot;,[140,&quot;^17&quot;,true,536871134]],[&quot;^14&quot;,[140,&quot;^:&quot;,&quot;~u46ff9b51-4c4d-4c3d-a0ed-413e841f5fdf&quot;,536871134]],[&quot;^14&quot;,[141,&quot;^J&quot;,1651850233897,536871134]],[&quot;^14&quot;,[141,&quot;^?&quot;,false,536871134]],[&quot;^14&quot;,[141,&quot;^X&quot;,&quot;$red&quot;,536871134]],[&quot;^14&quot;,[141,&quot;^10&quot;,&quot;$red&quot;,536871134]],[&quot;^14&quot;,[141,&quot;^A&quot;,1651850233897,536871134]],[&quot;^14&quot;,[141,&quot;^:&quot;,&quot;~u62753bf9-626c-49c1-b122-707c607f9277&quot;,536871134]],[&quot;^14&quot;,[143,&quot;^P&quot;,&quot;![image.png](../assets/image_1651850256541_0.png)&quot;,536871154]],[&quot;^14&quot;,[143,&quot;^N&quot;,&quot;^16&quot;,536871151]],[&quot;^14&quot;,[143,&quot;^E&quot;,114,536871151]],[&quot;^14&quot;,[143,&quot;^W&quot;,99,536871151]],[&quot;^14&quot;,[143,&quot;^T&quot;,99,536871151]],[&quot;^14&quot;,[143,&quot;^S&quot;,99,536871154]],[&quot;^14&quot;,[143,&quot;^&gt;&quot;,[&quot;^ &quot;],536871154]],[&quot;^14&quot;,[143,&quot;^17&quot;,true,536871151]],[&quot;^14&quot;,[143,&quot;^:&quot;,&quot;~u62753c10-bbf8-47e6-b319-571a5fbcb508&quot;,536871151]],[&quot;^14&quot;,[144,&quot;^P&quot;,&quot;![image.png](../assets/image_1651850277341_0.png)&quot;,536871171]],[&quot;^14&quot;,[144,&quot;^N&quot;,&quot;^16&quot;,536871168]],[&quot;^14&quot;,[144,&quot;^E&quot;,134,536871168]],[&quot;^14&quot;,[144,&quot;^W&quot;,99,536871168]],[&quot;^14&quot;,[144,&quot;^T&quot;,99,536871168]],[&quot;^14&quot;,[144,&quot;^S&quot;,99,536871171]],[&quot;^14&quot;,[144,&quot;^&gt;&quot;,[&quot;^ &quot;],536871171]],[&quot;^14&quot;,[144,&quot;^17&quot;,true,536871168]],[&quot;^14&quot;,[144,&quot;^:&quot;,&quot;~u62753c24-8f09-4be5-9c59-d58dc57b03cb&quot;,536871168]],[&quot;^14&quot;,[145,&quot;^P&quot;,&quot;[[4.采用多线程模拟银行排队叫号]]&quot;,536871193]],[&quot;^14&quot;,[145,&quot;^N&quot;,&quot;^16&quot;,536871174]],[&quot;^14&quot;,[145,&quot;^?&quot;,true,536871174]],[&quot;^14&quot;,[145,&quot;^E&quot;,98,536871174]],[&quot;^14&quot;,[145,&quot;^W&quot;,17,536871174]],[&quot;^14&quot;,[145,&quot;^T&quot;,17,536871174]],[&quot;^14&quot;,[145,&quot;^S&quot;,17,536871193]],[&quot;^14&quot;,[145,&quot;^S&quot;,146,536871193]],[&quot;^14&quot;,[145,&quot;^&gt;&quot;,[&quot;^ &quot;],536871193]],[&quot;^14&quot;,[145,&quot;^G&quot;,146,536871193]],[&quot;^14&quot;,[145,&quot;^17&quot;,true,536871174]],[&quot;^14&quot;,[145,&quot;^:&quot;,&quot;~u62753c41-faf7-439c-a3e6-e6e6a01be1ec&quot;,536871174]],[&quot;^14&quot;,[146,&quot;^J&quot;,1651850314542,536871193]],[&quot;^14&quot;,[146,&quot;^?&quot;,false,536871193]],[&quot;^14&quot;,[146,&quot;^X&quot;,&quot;4.采用多线程模拟银行排队叫号&quot;,536871193]],[&quot;^14&quot;,[146,&quot;^10&quot;,&quot;4.采用多线程模拟银行排队叫号&quot;,536871193]],[&quot;^14&quot;,[146,&quot;^A&quot;,1651850327502,536871203]],[&quot;^14&quot;,[146,&quot;^:&quot;,&quot;~u62753c4a-e63b-473a-9f06-ab91fba27555&quot;,536871193]],[&quot;^14&quot;,[147,&quot;^P&quot;,&quot;\\n``` java\\n /**\\n  * 柜台，业务处理窗口。继承Runnable接口\\n  */\\n public class TicketWindowRunnable implements Runnable {\\n     private int index = 1;\\n     private static final int MAX = 50;\\n \\n     @Override\\n     public void run() {\\n         while (index &lt;= MAX) {\\n             System.out.println(Thread.currentThread().getName() + \\&quot; 的号码是：\\&quot; + (index++));\\n             try {\\n                 Thread.sleep(100);\\n             } catch (InterruptedException e) {\\n                 e.printStackTrace();\\n             }\\n         }\\n     }\\n }\\n \\n \\n /**\\n  * 银行大厅\\n  */\\n public class BankRunnable {\\n     public static void main(String[] args) {\\n         // 1. 一个runnable实例被多个线程共享\\n         TicketWindowRunnable ticketWindow = new TicketWindowRunnable();\\n \\n \\n         Thread windowThread1 = new Thread(ticketWindow, \\&quot;一号窗口\\&quot;);\\n         Thread windowThread2 = new Thread(ticketWindow, \\&quot;二号窗口\\&quot;);\\n         Thread windowThread3 = new Thread(ticketWindow, \\&quot;三号窗口\\&quot;);\\n         windowThread1.start();\\n         windowThread2.start();\\n         windowThread3.start();\\n     }\\n }\\n```&quot;,536871203]],[&quot;^14&quot;,[147,&quot;^N&quot;,&quot;^16&quot;,536871196]],[&quot;^14&quot;,[147,&quot;^?&quot;,false,536871196]],[&quot;^14&quot;,[147,&quot;^E&quot;,146,536871196]],[&quot;^14&quot;,[147,&quot;^W&quot;,146,536871196]],[&quot;^14&quot;,[147,&quot;^T&quot;,146,536871196]],[&quot;^14&quot;,[147,&quot;^S&quot;,146,536871203]],[&quot;^14&quot;,[147,&quot;^&gt;&quot;,[&quot;^ &quot;],536871203]],[&quot;^14&quot;,[147,&quot;^17&quot;,true,536871196]],[&quot;^14&quot;,[147,&quot;^:&quot;,&quot;~u62753c4b-bcc1-45ac-be76-36721bf9a2a2&quot;,536871196]],[&quot;^14&quot;,[150,&quot;^P&quot;,&quot;&quot;,536871203]],[&quot;^14&quot;,[150,&quot;^N&quot;,&quot;^16&quot;,536871203]],[&quot;^14&quot;,[150,&quot;^E&quot;,147,536871203]],[&quot;^14&quot;,[150,&quot;^W&quot;,146,536871203]],[&quot;^14&quot;,[150,&quot;^T&quot;,146,536871203]],[&quot;^14&quot;,[150,&quot;^S&quot;,146,536871203]],[&quot;^14&quot;,[150,&quot;^17&quot;,true,536871203]],[&quot;^14&quot;,[150,&quot;^:&quot;,&quot;~u5074fa63-3573-4714-b076-539dc63a2d1a&quot;,536871203]],[&quot;^14&quot;,[151,&quot;^P&quot;,&quot;&quot;,536871203]],[&quot;^14&quot;,[151,&quot;^N&quot;,&quot;^16&quot;,536871203]],[&quot;^14&quot;,[151,&quot;^E&quot;,150,536871203]],[&quot;^14&quot;,[151,&quot;^W&quot;,146,536871203]],[&quot;^14&quot;,[151,&quot;^T&quot;,146,536871203]],[&quot;^14&quot;,[151,&quot;^S&quot;,146,536871203]],[&quot;^14&quot;,[151,&quot;^17&quot;,true,536871203]],[&quot;^14&quot;,[151,&quot;^:&quot;,&quot;~u28db86d7-d8b6-473c-9e66-9e8b3b8da789&quot;,536871203]],[&quot;^14&quot;,[152,&quot;^P&quot;,&quot;[[5.策略模式在Thread和Runnable中的应用]]&quot;,536871215]],[&quot;^14&quot;,[152,&quot;^N&quot;,&quot;^16&quot;,536871206]],[&quot;^14&quot;,[152,&quot;^?&quot;,true,536871206]],[&quot;^14&quot;,[152,&quot;^E&quot;,145,536871206]],[&quot;^14&quot;,[152,&quot;^W&quot;,17,536871206]],[&quot;^14&quot;,[152,&quot;^T&quot;,17,536871206]],[&quot;^14&quot;,[152,&quot;^S&quot;,17,536871215]],[&quot;^14&quot;,[152,&quot;^S&quot;,153,536871215]],[&quot;^14&quot;,[152,&quot;^&gt;&quot;,[&quot;^ &quot;],536871215]],[&quot;^14&quot;,[152,&quot;^G&quot;,153,536871215]],[&quot;^14&quot;,[152,&quot;^17&quot;,true,536871206]],[&quot;^14&quot;,[152,&quot;^:&quot;,&quot;~u62753c6a-9289-40fb-9054-9e0d2f0e1055&quot;,536871206]],[&quot;^14&quot;,[153,&quot;^J&quot;,1651850359437,536871215]],[&quot;^14&quot;,[153,&quot;^?&quot;,false,536871215]],[&quot;^14&quot;,[153,&quot;^X&quot;,&quot;5.策略模式在thread和runnable中的应用&quot;,536871215]],[&quot;^14&quot;,[153,&quot;^10&quot;,&quot;5.策略模式在Thread和Runnable中的应用&quot;,536871215]],[&quot;^14&quot;,[153,&quot;^A&quot;,1651850365699,536871220]],[&quot;^14&quot;,[153,&quot;^:&quot;,&quot;~u62753c77-4c0a-4715-b48f-c4e10b63ae54&quot;,536871215]],[&quot;^14&quot;,[154,&quot;^P&quot;,&quot;首先看看什么是策略模式，如何使用&quot;,536871220]],[&quot;^14&quot;,[154,&quot;^N&quot;,&quot;^16&quot;,536871218]],[&quot;^14&quot;,[154,&quot;^?&quot;,false,536871218]],[&quot;^14&quot;,[154,&quot;^E&quot;,153,536871218]],[&quot;^14&quot;,[154,&quot;^W&quot;,153,536871218]],[&quot;^14&quot;,[154,&quot;^T&quot;,153,536871218]],[&quot;^14&quot;,[154,&quot;^S&quot;,153,536871220]],[&quot;^14&quot;,[154,&quot;^&gt;&quot;,[&quot;^ &quot;],536871220]],[&quot;^14&quot;,[154,&quot;^17&quot;,true,536871218]],[&quot;^14&quot;,[154,&quot;^:&quot;,&quot;~u62753c78-4446-48bf-b8ea-b0d5e5cff6e6&quot;,536871218]],[&quot;^14&quot;,[155,&quot;^P&quot;,&quot;\\n``` java\\n import lombok.Data;\\n \\n /**\\n  * 税务计算器。Runnable与多线程设计模式\\n  */\\n @Data\\n public class TaxCalculator {\\n     // 薪水\\n     private final double salary;\\n     // 奖金\\n     private final double bonus;\\n \\n     private CalculatorStrategy calculatorStrategy;\\n \\n     public TaxCalculator(double salary, double bonus) {\\n         this.salary = salary;\\n         this.bonus = bonus;\\n     }\\n \\n     public TaxCalculator(double salary, double bonus, CalculatorStrategy calculatorStrategy) {\\n         this.salary = salary;\\n         this.bonus = bonus;\\n         this.calculatorStrategy = calculatorStrategy;\\n     }\\n \\n     /**\\n      * 计算税率\\n      *\\n      * @return\\n      */\\n     protected double calcTax() {\\n         return calculatorStrategy.calculate(salary, bonus);\\n     }\\n \\n     /**\\n      * 计算\\n      *\\n      * @return\\n      */\\n     public double calculate() {\\n         return this.calcTax();\\n     }\\n }\\n \\n \\n import org.junit.Test;\\n \\n /**\\n  * 计算税率：工资*0.1 + 奖金*0.15\\n  */\\n public class TaxCalculatorMain {\\n     /**\\n      * 1. 模版方法\\n      */\\n     @Test\\n     public void test1() {\\n         TaxCalculator calculator = new TaxCalculator(10000d, 2000d) {\\n             @Override\\n             protected double calcTax() {\\n                 return getSalary() * 0.1 + getBonus() * 0.15;\\n             }\\n         };\\n         System.out.println(calculator.calculate());\\n     }\\n \\n     /**\\n      * 2.1 策略模式\\n      */\\n     @Test\\n     public void test2() {\\n         TaxCalculator calculator = new TaxCalculator(10000d, 2000d);\\n         CalculatorStrategy strategy = new SimpleCalculatorStrategy();\\n         calculator.setCalculatorStrategy(strategy);\\n         System.out.println(calculator.calculate());\\n     }\\n \\n     /**\\n      * 2.2 策略模式-Java8Lambda-1\\n      */\\n     @Test\\n     public void test3() {\\n         TaxCalculator calculator = new TaxCalculator(10000d, 2000d);\\n         calculator.setCalculatorStrategy((s, b) -&gt; s * 0.1 + b * 0.15);\\n         System.out.println(calculator.calculate());\\n     }\\n \\n     /**\\n      * 2.2 策略模式-Java8Lambda-2\\n      */\\n     @Test\\n     public void test4() {\\n         TaxCalculator calculator = new TaxCalculator(10000d, 2000d, (s, b) -&gt; s * 0.1 + b * 0.15);\\n         System.out.println(calculator.calculate());\\n     }\\n }\\n \\n /**\\n  * 计算税率：工资*0.1 + 奖金*0.15\\n  */\\n public class SimpleCalculatorStrategy implements CalculatorStrategy {\\n     private final static double SALARY_RATE = 0.1;\\n     private final static double BONUS_RATE = 0.15;\\n \\n     @Override\\n     public double calculate(double salary, double bonus) {\\n         return salary * SALARY_RATE + bonus * BONUS_RATE;\\n     }\\n }\\n \\n @FunctionalInterface\\n public interface CalculatorStrategy {\\n     /**\\n      *\\n      * @param salary 薪水\\n      * @param bonus 奖金\\n      * @return 税收\\n      */\\n     double calculate(double salary, double bonus);\\n }\\n \\n```&quot;,536871220]],[&quot;^14&quot;,[155,&quot;^N&quot;,&quot;^16&quot;,536871220]],[&quot;^14&quot;,[155,&quot;^E&quot;,154,536871220]],[&quot;^14&quot;,[155,&quot;^W&quot;,153,536871220]],[&quot;^14&quot;,[155,&quot;^T&quot;,153,536871220]],[&quot;^14&quot;,[155,&quot;^S&quot;,153,536871220]],[&quot;^14&quot;,[155,&quot;^17&quot;,true,536871220]],[&quot;^14&quot;,[155,&quot;^:&quot;,&quot;~uc9e00a3b-7a09-476f-8d95-eebb46dc32fe&quot;,536871220]],[&quot;^14&quot;,[156,&quot;^P&quot;,&quot;从上面代码不难看出，其实就是通过设置不同的策略去执行不同的逻辑，Thread也同理，[[#red]]^^start()^^的时候其实就是start0()通过jni的形式去调用了Runnable中的[[#red]]^^run()^^方法&quot;,536871220]],[&quot;^14&quot;,[156,&quot;^N&quot;,&quot;^16&quot;,536871220]],[&quot;^14&quot;,[156,&quot;^E&quot;,155,536871220]],[&quot;^14&quot;,[156,&quot;^W&quot;,153,536871220]],[&quot;^14&quot;,[156,&quot;^T&quot;,153,536871220]],[&quot;^14&quot;,[156,&quot;^S&quot;,36,536871220]],[&quot;^14&quot;,[156,&quot;^S&quot;,153,536871220]],[&quot;^14&quot;,[156,&quot;^G&quot;,36,536871220]],[&quot;^14&quot;,[156,&quot;^17&quot;,true,536871220]],[&quot;^14&quot;,[156,&quot;^:&quot;,&quot;~u692a7242-f40c-47cb-9121-83cd2fa45e64&quot;,536871220]],[&quot;^14&quot;,[160,&quot;^P&quot;,&quot;[[6.关于Thread的构造函数的源码分析]]&quot;,536871233]],[&quot;^14&quot;,[160,&quot;^N&quot;,&quot;^16&quot;,536871230]],[&quot;^14&quot;,[160,&quot;^?&quot;,true,536871230]],[&quot;^14&quot;,[160,&quot;^E&quot;,152,536871230]],[&quot;^14&quot;,[160,&quot;^W&quot;,17,536871230]],[&quot;^14&quot;,[160,&quot;^T&quot;,17,536871230]],[&quot;^14&quot;,[160,&quot;^S&quot;,17,536871233]],[&quot;^14&quot;,[160,&quot;^S&quot;,161,536871233]],[&quot;^14&quot;,[160,&quot;^&gt;&quot;,[&quot;^ &quot;],536871233]],[&quot;^14&quot;,[160,&quot;^G&quot;,161,536871233]],[&quot;^14&quot;,[160,&quot;^17&quot;,true,536871230]],[&quot;^14&quot;,[160,&quot;^:&quot;,&quot;~u62753c86-3fdf-480d-bad3-441ba1d3d8d4&quot;,536871230]],[&quot;^14&quot;,[161,&quot;^J&quot;,1651850387303,536871233]],[&quot;^14&quot;,[161,&quot;^?&quot;,false,536871233]],[&quot;^14&quot;,[161,&quot;^X&quot;,&quot;6.关于thread的构造函数的源码分析&quot;,536871233]],[&quot;^14&quot;,[161,&quot;^10&quot;,&quot;6.关于Thread的构造函数的源码分析&quot;,536871233]],[&quot;^14&quot;,[161,&quot;^A&quot;,1651850611013,536871321]],[&quot;^14&quot;,[161,&quot;^:&quot;,&quot;~u62753c93-1dd6-4e05-81ec-486477ba250d&quot;,536871233]],[&quot;^14&quot;,[162,&quot;^P&quot;,&quot;## Reference&quot;,536871257]],[&quot;^14&quot;,[162,&quot;^N&quot;,&quot;^16&quot;,536871234]],[&quot;^14&quot;,[162,&quot;^U&quot;,2,536871257]],[&quot;^14&quot;,[162,&quot;^?&quot;,false,536871234]],[&quot;^14&quot;,[162,&quot;^E&quot;,161,536871234]],[&quot;^14&quot;,[162,&quot;^W&quot;,161,536871234]],[&quot;^14&quot;,[162,&quot;^T&quot;,161,536871234]],[&quot;^14&quot;,[162,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[162,&quot;^&gt;&quot;,[&quot;^ &quot;],536871257]],[&quot;^14&quot;,[162,&quot;^18&quot;,2,536871257]],[&quot;^14&quot;,[162,&quot;^V&quot;,&quot;^19&quot;,536871257]],[&quot;^14&quot;,[162,&quot;^17&quot;,true,536871234]],[&quot;^14&quot;,[162,&quot;^:&quot;,&quot;~u62753c93-7d65-4897-a401-ace49f26b5b3&quot;,536871234]],[&quot;^14&quot;,[201,&quot;^P&quot;,&quot;\\n&gt; https://medium.com/platform-engineer/understanding-java-memory-model-1d0863f6d973&quot;,536871257]],[&quot;^14&quot;,[201,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[201,&quot;^E&quot;,162,536871257]],[&quot;^14&quot;,[201,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[201,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[201,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[201,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[201,&quot;^:&quot;,&quot;~u33e7a4ed-3831-40f6-88f5-0be5a708efe2&quot;,536871257]],[&quot;^14&quot;,[202,&quot;^P&quot;,&quot;\\n&gt; https://www.baeldung.com/java-stack-heap&quot;,536871257]],[&quot;^14&quot;,[202,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[202,&quot;^E&quot;,201,536871257]],[&quot;^14&quot;,[202,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[202,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[202,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[202,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[202,&quot;^:&quot;,&quot;~u6681bfae-07ba-445b-9587-387aa8ce419e&quot;,536871257]],[&quot;^14&quot;,[203,&quot;^P&quot;,&quot;\\n&gt; https://www.cnblogs.com/ityouknow/p/5610232.html&quot;,536871257]],[&quot;^14&quot;,[203,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[203,&quot;^E&quot;,202,536871257]],[&quot;^14&quot;,[203,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[203,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[203,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[203,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[203,&quot;^:&quot;,&quot;~u1f34246d-8f7c-4f63-ab16-453194fc6fe9&quot;,536871257]],[&quot;^14&quot;,[204,&quot;^P&quot;,&quot;\\n&gt; https://blog.csdn.net/jalja365/article/details/109810000&quot;,536871257]],[&quot;^14&quot;,[204,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[204,&quot;^E&quot;,203,536871257]],[&quot;^14&quot;,[204,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[204,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[204,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[204,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[204,&quot;^:&quot;,&quot;~uba481bab-da14-493c-994f-5073cfc4a987&quot;,536871257]],[&quot;^14&quot;,[205,&quot;^P&quot;,&quot;### [[#green]]^^target^^参数&quot;,536871257]],[&quot;^14&quot;,[205,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[205,&quot;^U&quot;,3,536871257]],[&quot;^14&quot;,[205,&quot;^E&quot;,204,536871257]],[&quot;^14&quot;,[205,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[205,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[205,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[205,&quot;^S&quot;,236,536871257]],[&quot;^14&quot;,[205,&quot;^G&quot;,236,536871257]],[&quot;^14&quot;,[205,&quot;^18&quot;,3,536871257]],[&quot;^14&quot;,[205,&quot;^V&quot;,&quot;^19&quot;,536871257]],[&quot;^14&quot;,[205,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[205,&quot;^:&quot;,&quot;~u1d0972a5-f681-4c2e-aeb6-00187cba9a22&quot;,536871257]],[&quot;^14&quot;,[206,&quot;^P&quot;,&quot;target参数是一个Runnable类型的字段，其中，当调用[[#red]]^^run()^^方法的时候会判断[[#green]]^^target^^是否为空，如果不为空，就会执行[[#green]]^^target^^的[[#red]]^^run()^^方法&quot;,536871257]],[&quot;^14&quot;,[206,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[206,&quot;^E&quot;,205,536871257]],[&quot;^14&quot;,[206,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[206,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[206,&quot;^S&quot;,36,536871257]],[&quot;^14&quot;,[206,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[206,&quot;^S&quot;,236,536871257]],[&quot;^14&quot;,[206,&quot;^G&quot;,36,536871257]],[&quot;^14&quot;,[206,&quot;^G&quot;,236,536871257]],[&quot;^14&quot;,[206,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[206,&quot;^:&quot;,&quot;~u109cb6ed-0044-4b82-a56b-41fe00170fc8&quot;,536871257]],[&quot;^14&quot;,[208,&quot;^P&quot;,&quot;![image.png](../assets/image_1651850526667_0.png)&quot;,536871287]],[&quot;^14&quot;,[208,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[208,&quot;^E&quot;,238,536871281]],[&quot;^14&quot;,[208,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[208,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[208,&quot;^S&quot;,161,536871287]],[&quot;^14&quot;,[208,&quot;^&gt;&quot;,[&quot;^ &quot;],536871287]],[&quot;^14&quot;,[208,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[208,&quot;^:&quot;,&quot;~u387b1579-c7ca-4e15-9180-2e833be3743c&quot;,536871257]],[&quot;^14&quot;,[209,&quot;^P&quot;,&quot;### [[#green]]^^name^^参数&quot;,536871257]],[&quot;^14&quot;,[209,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[209,&quot;^U&quot;,3,536871257]],[&quot;^14&quot;,[209,&quot;^E&quot;,208,536871257]],[&quot;^14&quot;,[209,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[209,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[209,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[209,&quot;^S&quot;,236,536871257]],[&quot;^14&quot;,[209,&quot;^G&quot;,236,536871257]],[&quot;^14&quot;,[209,&quot;^18&quot;,3,536871257]],[&quot;^14&quot;,[209,&quot;^V&quot;,&quot;^19&quot;,536871257]],[&quot;^14&quot;,[209,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[209,&quot;^:&quot;,&quot;~ufd7cffb7-cb42-47da-b480-461677cb559a&quot;,536871257]],[&quot;^14&quot;,[210,&quot;^P&quot;,&quot;![image.png](../assets/image_1651850547991_0.png)&quot;,536871302]],[&quot;^14&quot;,[210,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[210,&quot;^E&quot;,209,536871257]],[&quot;^14&quot;,[210,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[210,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[210,&quot;^S&quot;,161,536871302]],[&quot;^14&quot;,[210,&quot;^&gt;&quot;,[&quot;^ &quot;],536871302]],[&quot;^14&quot;,[210,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[210,&quot;^:&quot;,&quot;~u985fff3c-74ca-44cb-99c0-93842a3dfb9d&quot;,536871257]],[&quot;^14&quot;,[211,&quot;^P&quot;,&quot;默认的构造函数调用了init方法，其中Thread name的默认生成方式为\\&quot;Thread-\\&quot; + [[#red]]^^nextThreadNum()^^，这个方法就是对Thread中的一个静态变量[[#green]]^^threadInitNumber^^进行自增&quot;,536871257]],[&quot;^14&quot;,[211,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[211,&quot;^E&quot;,210,536871306]],[&quot;^14&quot;,[211,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[211,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[211,&quot;^S&quot;,36,536871306]],[&quot;^14&quot;,[211,&quot;^S&quot;,161,536871306]],[&quot;^14&quot;,[211,&quot;^S&quot;,236,536871306]],[&quot;^14&quot;,[211,&quot;^G&quot;,36,536871306]],[&quot;^14&quot;,[211,&quot;^G&quot;,236,536871306]],[&quot;^14&quot;,[211,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[211,&quot;^:&quot;,&quot;~ue5013331-eb4a-4bbd-80e4-769f9bfaba0d&quot;,536871257]],[&quot;^14&quot;,[212,&quot;^P&quot;,&quot;![image.png](../assets/image_1651850581186_0.png)&quot;,536871312]],[&quot;^14&quot;,[212,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[212,&quot;^E&quot;,211,536871257]],[&quot;^14&quot;,[212,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[212,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[212,&quot;^S&quot;,161,536871312]],[&quot;^14&quot;,[212,&quot;^&gt;&quot;,[&quot;^ &quot;],536871312]],[&quot;^14&quot;,[212,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[212,&quot;^:&quot;,&quot;~u5cb23408-a297-44b6-ab60-4d8e7d09b7c7&quot;,536871257]],[&quot;^14&quot;,[213,&quot;^P&quot;,&quot;### [[#green]]^^g^^参数（Thread Group）&quot;,536871257]],[&quot;^14&quot;,[213,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[213,&quot;^U&quot;,3,536871257]],[&quot;^14&quot;,[213,&quot;^E&quot;,212,536871257]],[&quot;^14&quot;,[213,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[213,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[213,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[213,&quot;^S&quot;,236,536871257]],[&quot;^14&quot;,[213,&quot;^G&quot;,236,536871257]],[&quot;^14&quot;,[213,&quot;^18&quot;,3,536871257]],[&quot;^14&quot;,[213,&quot;^V&quot;,&quot;^19&quot;,536871257]],[&quot;^14&quot;,[213,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[213,&quot;^:&quot;,&quot;~ua7d08e43-083c-49f4-89f8-8628d7de9b1a&quot;,536871257]],[&quot;^14&quot;,[214,&quot;^P&quot;,&quot;![image.png](../assets/image_1651850596010_0.png)&quot;,536871315]],[&quot;^14&quot;,[214,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[214,&quot;^E&quot;,213,536871257]],[&quot;^14&quot;,[214,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[214,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[214,&quot;^S&quot;,161,536871315]],[&quot;^14&quot;,[214,&quot;^&gt;&quot;,[&quot;^ &quot;],536871315]],[&quot;^14&quot;,[214,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[214,&quot;^:&quot;,&quot;~u18946eb2-7066-4d63-8026-46bf69c9f87d&quot;,536871257]],[&quot;^14&quot;,[215,&quot;^P&quot;,&quot;可以看到，默认是取了当前线程的Thread Group&quot;,536871257]],[&quot;^14&quot;,[215,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[215,&quot;^E&quot;,214,536871257]],[&quot;^14&quot;,[215,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[215,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[215,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[215,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[215,&quot;^:&quot;,&quot;~uae25279a-ea0a-49a2-9ddc-bbbf906b0899&quot;,536871257]],[&quot;^14&quot;,[216,&quot;^P&quot;,&quot;当在main函数中调用创建Thread，那么parent的Thread Group就是main函数的group&quot;,536871257]],[&quot;^14&quot;,[216,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[216,&quot;^E&quot;,215,536871257]],[&quot;^14&quot;,[216,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[216,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[216,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[216,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[216,&quot;^:&quot;,&quot;~u7228b602-7410-427f-9e93-2adb199c3ed8&quot;,536871257]],[&quot;^14&quot;,[217,&quot;^P&quot;,&quot;\\n``` java\\n public class CreateThread2 {\\n     public static void main(String[] args) {\\n         Thread t = new Thread() {\\n             @Override\\n             public void run() {\\n                 try {\\n                     Thread.sleep(100);\\n                 } catch (InterruptedException e) {\\n                     e.printStackTrace();\\n                 }\\n             }\\n         };\\n         t.start();\\n         System.out.println(t.getThreadGroup());\\n         System.out.println(Thread.currentThread().getName());\\n         System.out.println(Thread.currentThread().getThreadGroup().getName());\\n         System.out.println(\\&quot;===========\\&quot;);\\n }\\n //console\\n java.lang.ThreadGroup[name=main,maxpri=10]\\n main\\n main\\n ===========\\n```&quot;,536871257]],[&quot;^14&quot;,[217,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[217,&quot;^E&quot;,216,536871257]],[&quot;^14&quot;,[217,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[217,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[217,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[217,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[217,&quot;^:&quot;,&quot;~uf34027de-949c-46d4-abc5-e03d0f7a9505&quot;,536871257]],[&quot;^14&quot;,[218,&quot;^P&quot;,&quot;### 通过代码观察默认的Thread Group创建了哪些线程&quot;,536871257]],[&quot;^14&quot;,[218,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[218,&quot;^U&quot;,3,536871257]],[&quot;^14&quot;,[218,&quot;^E&quot;,217,536871257]],[&quot;^14&quot;,[218,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[218,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[218,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[218,&quot;^18&quot;,3,536871257]],[&quot;^14&quot;,[218,&quot;^V&quot;,&quot;^19&quot;,536871257]],[&quot;^14&quot;,[218,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[218,&quot;^:&quot;,&quot;~u9fcc10d1-a492-4bea-a941-769035f15fca&quot;,536871257]],[&quot;^14&quot;,[219,&quot;^P&quot;,&quot;\\n``` java\\n import java.util.Arrays;\\n \\n public class CreateThread2 {\\n     public static void main(String[] args) {\\n         Thread t = new Thread() {\\n             @Override\\n             public void run() {\\n                 try {\\n                     Thread.sleep(100);\\n                 } catch (InterruptedException e) {\\n                     e.printStackTrace();\\n                 }\\n             }\\n         };\\n         t.start();\\n \\n         ThreadGroup threadGroup = Thread.currentThread().getThreadGroup();\\n         System.out.println(threadGroup.activeCount());\\n         Thread[] threads = new Thread[threadGroup.activeCount()];\\n         threadGroup.enumerate(threads);\\n         Arrays.stream(threads).forEach(System.out::println);\\n     }\\n }\\n //console\\n 3\\n Thread[main,5,main]\\n Thread[Monitor Ctrl-Break,5,main]\\n Thread[Thread-0,5,main]\\n```&quot;,536871257]],[&quot;^14&quot;,[219,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[219,&quot;^E&quot;,218,536871257]],[&quot;^14&quot;,[219,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[219,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[219,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[219,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[219,&quot;^:&quot;,&quot;~uc2ba6894-218b-4804-8e63-82a126a0b4ef&quot;,536871257]],[&quot;^14&quot;,[220,&quot;^P&quot;,&quot;可以看到默认创建了3个线程&quot;,536871257]],[&quot;^14&quot;,[220,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[220,&quot;^E&quot;,219,536871257]],[&quot;^14&quot;,[220,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[220,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[220,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[220,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[220,&quot;^:&quot;,&quot;~u33bc0740-7b5d-4526-b8ee-002ab3258679&quot;,536871257]],[&quot;^14&quot;,[221,&quot;^P&quot;,&quot;### [[#green]]^^stackSize^^参数&quot;,536871257]],[&quot;^14&quot;,[221,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[221,&quot;^U&quot;,3,536871257]],[&quot;^14&quot;,[221,&quot;^E&quot;,220,536871257]],[&quot;^14&quot;,[221,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[221,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[221,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[221,&quot;^S&quot;,236,536871257]],[&quot;^14&quot;,[221,&quot;^G&quot;,236,536871257]],[&quot;^14&quot;,[221,&quot;^18&quot;,3,536871257]],[&quot;^14&quot;,[221,&quot;^V&quot;,&quot;^19&quot;,536871257]],[&quot;^14&quot;,[221,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[221,&quot;^:&quot;,&quot;~u8e00de3a-4b6c-4a2a-8d11-7878fbdb2cd8&quot;,536871257]],[&quot;^14&quot;,[222,&quot;^P&quot;,&quot;The stack size is the approximate number of bytes of address space that the virtual machine is to allocate for this thread&apos;s stack. The effect of the stackSize parameter, if any, is highly platform dependent.（stack size是虚拟机要为此线程堆栈分配的地址空间的近似字节数。 stackSize 参数的影响（如果有）高度依赖于平台。）不同平台下不同，有的平台下可能不起作用&quot;,536871257]],[&quot;^14&quot;,[222,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[222,&quot;^E&quot;,221,536871257]],[&quot;^14&quot;,[222,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[222,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[222,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[222,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[222,&quot;^:&quot;,&quot;~u4aa3a059-2c8c-4b22-bfba-45fa3cdedbdf&quot;,536871257]],[&quot;^14&quot;,[223,&quot;^P&quot;,&quot;On some platforms, specifying a higher value for the stackSize parameter may allow a thread to achieve greater recursion depth before throwing a StackOverflowError. Similarly, specifying a lower value may allow a greater number of threads to exist concurrently without throwing an OutOfMemoryError (or other internal error). The details of the relationship between the value of the stackSize parameter and the maximum recursion depth and concurrency level are platform-dependent. On some platforms, the value of the stackSize parameter may have no effect whatsoever.（在某些平台上，为 stackSize 参数指定更高的值可能允许线程在抛出 StackOverflowError 之前实现更大的递归深度。类似地，指定较低的值可能允许更多线程同时存在，而不会引发 OutOfMemoryError（或其他内部错误）。 stackSize 参数的值与最大递归深度和并发级别之间的关系细节取决于平台。[[#blue]]^^在某些平台上，stackSize 参数的值可能没有任何影响^^。）&quot;,536871257]],[&quot;^14&quot;,[223,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[223,&quot;^E&quot;,222,536871257]],[&quot;^14&quot;,[223,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[223,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[223,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[223,&quot;^S&quot;,237,536871257]],[&quot;^14&quot;,[223,&quot;^G&quot;,237,536871257]],[&quot;^14&quot;,[223,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[223,&quot;^:&quot;,&quot;~ub0f6054f-9790-4b95-9b1d-86487415528a&quot;,536871257]],[&quot;^14&quot;,[224,&quot;^P&quot;,&quot;提到stack size就不得不说JVM内存结构，这里后续再做笔记详细了解，简单贴个图了解一下栈内存就行了。&quot;,536871257]],[&quot;^14&quot;,[224,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[224,&quot;^E&quot;,223,536871257]],[&quot;^14&quot;,[224,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[224,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[224,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[224,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[224,&quot;^:&quot;,&quot;~ua2f1544f-0062-49ff-a3fe-820d61c0e92a&quot;,536871257]],[&quot;^14&quot;,[225,&quot;^P&quot;,&quot;![image.png](../assets/image_1651850610467_0.png)&quot;,536871321]],[&quot;^14&quot;,[225,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[225,&quot;^E&quot;,224,536871257]],[&quot;^14&quot;,[225,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[225,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[225,&quot;^S&quot;,161,536871321]],[&quot;^14&quot;,[225,&quot;^&gt;&quot;,[&quot;^ &quot;],536871321]],[&quot;^14&quot;,[225,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[225,&quot;^:&quot;,&quot;~u45ec5945-37ac-4271-b550-4ee91d11dfd6&quot;,536871257]],[&quot;^14&quot;,[226,&quot;^P&quot;,&quot;每个线程都具有自己独立的栈帧，所以stack size就是设置栈帧的大小&quot;,536871257]],[&quot;^14&quot;,[226,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[226,&quot;^E&quot;,225,536871257]],[&quot;^14&quot;,[226,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[226,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[226,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[226,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[226,&quot;^:&quot;,&quot;~ub25fa79c-265b-4f76-9b7f-9341f48a4cf5&quot;,536871257]],[&quot;^14&quot;,[227,&quot;^P&quot;,&quot;这里以递归调用方法演示方法压栈和stack size的影响&quot;,536871257]],[&quot;^14&quot;,[227,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[227,&quot;^E&quot;,226,536871257]],[&quot;^14&quot;,[227,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[227,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[227,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[227,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[227,&quot;^:&quot;,&quot;~u974c41d5-55f6-4958-bc42-3384406bcc13&quot;,536871257]],[&quot;^14&quot;,[228,&quot;^P&quot;,&quot;参考这篇文章吧，不总结了，我的电脑上stackSize不起作用，所以尽量不要设置这个参数&quot;,536871257]],[&quot;^14&quot;,[228,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[228,&quot;^E&quot;,227,536871257]],[&quot;^14&quot;,[228,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[228,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[228,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[228,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[228,&quot;^:&quot;,&quot;~ubcb92ded-242e-4787-907f-f59a101794e9&quot;,536871257]],[&quot;^14&quot;,[229,&quot;^P&quot;,&quot;https://blog.csdn.net/jalja365/article/details/109810000&quot;,536871257]],[&quot;^14&quot;,[229,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[229,&quot;^E&quot;,228,536871257]],[&quot;^14&quot;,[229,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[229,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[229,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[229,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[229,&quot;^:&quot;,&quot;~u569f66d8-2208-47a8-a71f-c26cf1dccaa5&quot;,536871257]],[&quot;^14&quot;,[230,&quot;^P&quot;,&quot;在我的电脑上指定stackSize测试下来是没用的，代码如下&quot;,536871257]],[&quot;^14&quot;,[230,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[230,&quot;^E&quot;,229,536871257]],[&quot;^14&quot;,[230,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[230,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[230,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[230,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[230,&quot;^:&quot;,&quot;~ub875b385-71d3-432b-b4f6-cdeb38290df4&quot;,536871257]],[&quot;^14&quot;,[231,&quot;^P&quot;,&quot;\\n``` java\\n public class CreateThread4 {\\n     private static int counter = 0;\\n \\n     public static void main(String[] args) {\\n         Thread t = new Thread(null, new Runnable() {\\n             @Override\\n             public void run() {\\n                 try {\\n                     add(0);\\n                 } catch (Error e) {\\n                     e.printStackTrace();\\n                     System.out.println(counter);\\n                 }\\n             }\\n \\n             private void add(int i) {\\n                 counter++;\\n                 add(i + 1);\\n             }\\n         }, \\&quot;stackSizeTest\\&quot;, 1);\\n \\n         t.start();\\n     }\\n }\\n \\n // java.lang.StackOverflowError    14996\\n```&quot;,536871257]],[&quot;^14&quot;,[231,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[231,&quot;^E&quot;,230,536871257]],[&quot;^14&quot;,[231,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[231,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[231,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[231,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[231,&quot;^:&quot;,&quot;~uf3b855bf-4474-4285-b305-7dbc831d5ec9&quot;,536871257]],[&quot;^14&quot;,[232,&quot;^P&quot;,&quot;&quot;,536871257]],[&quot;^14&quot;,[232,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[232,&quot;^E&quot;,231,536871257]],[&quot;^14&quot;,[232,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[232,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[232,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[232,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[232,&quot;^:&quot;,&quot;~u13dac8c6-3528-4edb-8ad0-79176758091c&quot;,536871257]],[&quot;^14&quot;,[233,&quot;^P&quot;,&quot;&quot;,536871257]],[&quot;^14&quot;,[233,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[233,&quot;^E&quot;,232,536871257]],[&quot;^14&quot;,[233,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[233,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[233,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[233,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[233,&quot;^:&quot;,&quot;~u54cc3890-3b34-48c8-8f09-58ab1559a329&quot;,536871257]],[&quot;^14&quot;,[234,&quot;^P&quot;,&quot;&quot;,536871257]],[&quot;^14&quot;,[234,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[234,&quot;^E&quot;,233,536871257]],[&quot;^14&quot;,[234,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[234,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[234,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[234,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[234,&quot;^:&quot;,&quot;~u62e499aa-1cbc-46fc-b00a-ec437f2bacc9&quot;,536871257]],[&quot;^14&quot;,[235,&quot;^P&quot;,&quot;&quot;,536871257]],[&quot;^14&quot;,[235,&quot;^N&quot;,&quot;^16&quot;,536871257]],[&quot;^14&quot;,[235,&quot;^E&quot;,234,536871257]],[&quot;^14&quot;,[235,&quot;^W&quot;,161,536871257]],[&quot;^14&quot;,[235,&quot;^T&quot;,161,536871257]],[&quot;^14&quot;,[235,&quot;^S&quot;,161,536871257]],[&quot;^14&quot;,[235,&quot;^17&quot;,true,536871257]],[&quot;^14&quot;,[235,&quot;^:&quot;,&quot;~u00e2fb3e-77ca-4d05-b74d-e7c67321c17d&quot;,536871257]],[&quot;^14&quot;,[236,&quot;^J&quot;,1651850454047,536871257]],[&quot;^14&quot;,[236,&quot;^?&quot;,false,536871257]],[&quot;^14&quot;,[236,&quot;^X&quot;,&quot;_green&quot;,536871257]],[&quot;^14&quot;,[236,&quot;^10&quot;,&quot;#green&quot;,536871257]],[&quot;^14&quot;,[236,&quot;^A&quot;,1651850454047,536871257]],[&quot;^14&quot;,[236,&quot;^:&quot;,&quot;~u62753cd6-1e34-4c77-9d1a-9ea1e8990e61&quot;,536871257]],[&quot;^14&quot;,[237,&quot;^J&quot;,1651850454050,536871257]],[&quot;^14&quot;,[237,&quot;^?&quot;,false,536871257]],[&quot;^14&quot;,[237,&quot;^X&quot;,&quot;_blue&quot;,536871257]],[&quot;^14&quot;,[237,&quot;^10&quot;,&quot;#blue&quot;,536871257]],[&quot;^14&quot;,[237,&quot;^A&quot;,1651850454050,536871257]],[&quot;^14&quot;,[237,&quot;^:&quot;,&quot;~u62753cd6-c305-49a2-889a-ff85e62a662b&quot;,536871257]],[&quot;^14&quot;,[238,&quot;^P&quot;,&quot;![image.png](../assets/image_1651850511844_0.png)&quot;,536871290]],[&quot;^14&quot;,[238,&quot;^N&quot;,&quot;^16&quot;,536871281]],[&quot;^14&quot;,[238,&quot;^E&quot;,206,536871281]],[&quot;^14&quot;,[238,&quot;^W&quot;,161,536871281]],[&quot;^14&quot;,[238,&quot;^T&quot;,161,536871281]],[&quot;^14&quot;,[238,&quot;^S&quot;,161,536871290]],[&quot;^14&quot;,[238,&quot;^&gt;&quot;,[&quot;^ &quot;],536871290]],[&quot;^14&quot;,[238,&quot;^17&quot;,true,536871281]],[&quot;^14&quot;,[238,&quot;^:&quot;,&quot;~u62753d0c-03b3-4e32-99f0-d9b7566bed34&quot;,536871281]],[&quot;^14&quot;,[240,&quot;^P&quot;,&quot;[[7.Daemon线程]]&quot;,536871337]],[&quot;^14&quot;,[240,&quot;^N&quot;,&quot;^16&quot;,536871324]],[&quot;^14&quot;,[240,&quot;^?&quot;,true,536871324]],[&quot;^14&quot;,[240,&quot;^E&quot;,160,536871324]],[&quot;^14&quot;,[240,&quot;^W&quot;,17,536871324]],[&quot;^14&quot;,[240,&quot;^T&quot;,17,536871324]],[&quot;^14&quot;,[240,&quot;^S&quot;,17,536871337]],[&quot;^14&quot;,[240,&quot;^S&quot;,241,536871337]],[&quot;^14&quot;,[240,&quot;^&gt;&quot;,[&quot;^ &quot;],536871337]],[&quot;^14&quot;,[240,&quot;^G&quot;,241,536871337]],[&quot;^14&quot;,[240,&quot;^17&quot;,true,536871324]],[&quot;^14&quot;,[240,&quot;^:&quot;,&quot;~u62753d7a-ebe9-4aab-a619-1ec2f1125a38&quot;,536871324]],[&quot;^14&quot;,[241,&quot;^J&quot;,1651850634710,536871337]],[&quot;^14&quot;,[241,&quot;^?&quot;,false,536871337]],[&quot;^14&quot;,[241,&quot;^X&quot;,&quot;7.daemon线程&quot;,536871337]],[&quot;^14&quot;,[241,&quot;^10&quot;,&quot;7.Daemon线程&quot;,536871337]],[&quot;^14&quot;,[241,&quot;^A&quot;,1651850653670,536871342]],[&quot;^14&quot;,[241,&quot;^:&quot;,&quot;~u62753d8a-0c5a-415c-ab75-63d7c1831152&quot;,536871337]],[&quot;^14&quot;,[242,&quot;^P&quot;,&quot;## Reference&quot;,536871342]],[&quot;^14&quot;,[242,&quot;^N&quot;,&quot;^16&quot;,536871340]],[&quot;^14&quot;,[242,&quot;^U&quot;,2,536871342]],[&quot;^14&quot;,[242,&quot;^?&quot;,false,536871340]],[&quot;^14&quot;,[242,&quot;^E&quot;,241,536871340]],[&quot;^14&quot;,[242,&quot;^W&quot;,241,536871340]],[&quot;^14&quot;,[242,&quot;^T&quot;,241,536871340]],[&quot;^14&quot;,[242,&quot;^S&quot;,241,536871342]],[&quot;^14&quot;,[242,&quot;^&gt;&quot;,[&quot;^ &quot;],536871342]],[&quot;^14&quot;,[242,&quot;^18&quot;,2,536871342]],[&quot;^14&quot;,[242,&quot;^V&quot;,&quot;^19&quot;,536871342]],[&quot;^14&quot;,[242,&quot;^17&quot;,true,536871340]],[&quot;^14&quot;,[242,&quot;^:&quot;,&quot;~u62753d8b-f42e-4971-ae4b-bdb46717f8f0&quot;,536871340]],[&quot;^14&quot;,[243,&quot;^P&quot;,&quot;\\n&gt; https://www.cnblogs.com/quanxiaoha/p/10731361.html&quot;,536871342]],[&quot;^14&quot;,[243,&quot;^N&quot;,&quot;^16&quot;,536871342]],[&quot;^14&quot;,[243,&quot;^E&quot;,242,536871342]],[&quot;^14&quot;,[243,&quot;^W&quot;,241,536871342]],[&quot;^14&quot;,[243,&quot;^T&quot;,241,536871342]],[&quot;^14&quot;,[243,&quot;^S&quot;,241,536871342]],[&quot;^14&quot;,[243,&quot;^17&quot;,true,536871342]],[&quot;^14&quot;,[243,&quot;^:&quot;,&quot;~u8bb561ec-8a9b-44f9-8dc7-582cdc1089c2&quot;,536871342]],[&quot;^14&quot;,[244,&quot;^P&quot;,&quot;\\n&gt; https://www.cnblogs.com/xiarongjin/p/8310144.html&quot;,536871342]],[&quot;^14&quot;,[244,&quot;^N&quot;,&quot;^16&quot;,536871342]],[&quot;^14&quot;,[244,&quot;^E&quot;,243,536871342]],[&quot;^14&quot;,[244,&quot;^W&quot;,241,536871342]],[&quot;^14&quot;,[244,&quot;^T&quot;,241,536871342]],[&quot;^14&quot;,[244,&quot;^S&quot;,241,536871342]],[&quot;^14&quot;,[244,&quot;^17&quot;,true,536871342]],[&quot;^14&quot;,[244,&quot;^:&quot;,&quot;~u076a768e-8bab-4a7f-9718-acc26397444b&quot;,536871342]],[&quot;^14&quot;,[245,&quot;^P&quot;,&quot;\\n&gt; https://www.baeldung.com/java-daemon-thread&quot;,536871342]],[&quot;^14&quot;,[245,&quot;^N&quot;,&quot;^16&quot;,536871342]],[&quot;^14&quot;,[245,&quot;^E&quot;,244,536871342]],[&quot;^14&quot;,[245,&quot;^W&quot;,241,536871342]],[&quot;^14&quot;,[245,&quot;^T&quot;,241,536871342]],[&quot;^14&quot;,[245,&quot;^S&quot;,241,536871342]],[&quot;^14&quot;,[245,&quot;^17&quot;,true,536871342]],[&quot;^14&quot;,[245,&quot;^:&quot;,&quot;~u45c768b5-d5b4-4f5a-b172-46f026b56fe4&quot;,536871342]],[&quot;^14&quot;,[246,&quot;^P&quot;,&quot;&quot;,536871342]],[&quot;^14&quot;,[246,&quot;^N&quot;,&quot;^16&quot;,536871342]],[&quot;^14&quot;,[246,&quot;^E&quot;,245,536871342]],[&quot;^14&quot;,[246,&quot;^W&quot;,241,536871342]],[&quot;^14&quot;,[246,&quot;^T&quot;,241,536871342]],[&quot;^14&quot;,[246,&quot;^S&quot;,241,536871342]],[&quot;^14&quot;,[246,&quot;^17&quot;,true,536871342]],[&quot;^14&quot;,[246,&quot;^:&quot;,&quot;~uf4d5b85a-53d6-4e0a-927e-94fa204b272e&quot;,536871342]],[&quot;^14&quot;,[247,&quot;^P&quot;,&quot;Java 提供两种类型的线程：**用户线程**和**守护线程**。&quot;,536871342]],[&quot;^14&quot;,[247,&quot;^N&quot;,&quot;^16&quot;,536871342]],[&quot;^14&quot;,[247,&quot;^E&quot;,246,536871342]],[&quot;^14&quot;,[247,&quot;^W&quot;,241,536871342]],[&quot;^14&quot;,[247,&quot;^T&quot;,241,536871342]],[&quot;^14&quot;,[247,&quot;^S&quot;,241,536871342]],[&quot;^14&quot;,[247,&quot;^17&quot;,true,536871342]],[&quot;^14&quot;,[247,&quot;^:&quot;,&quot;~ubc95bc20-8abd-43f4-9de6-8f8a025f2d29&quot;,536871342]],[&quot;^14&quot;,[248,&quot;^P&quot;,&quot;用户线程是高优先级线程。JVM 将在终止之前等待任何用户线程完成其任务。&quot;,536871342]],[&quot;^14&quot;,[248,&quot;^N&quot;,&quot;^16&quot;,536871342]],[&quot;^14&quot;,[248,&quot;^E&quot;,247,536871342]],[&quot;^14&quot;,[248,&quot;^W&quot;,241,536871342]],[&quot;^14&quot;,[248,&quot;^T&quot;,241,536871342]],[&quot;^14&quot;,[248,&quot;^S&quot;,241,536871342]],[&quot;^14&quot;,[248,&quot;^17&quot;,true,536871342]],[&quot;^14&quot;,[248,&quot;^:&quot;,&quot;~uc6bf1a75-ef29-42d0-ae72-47c87b7c2d3b&quot;,536871342]],[&quot;^14&quot;,[249,&quot;^P&quot;,&quot;另一方面，守护线程是低优先级线程，其唯一作用是为用户线程提供服务。&quot;,536871342]],[&quot;^14&quot;,[249,&quot;^N&quot;,&quot;^16&quot;,536871342]],[&quot;^14&quot;,[249,&quot;^E&quot;,248,536871342]],[&quot;^14&quot;,[249,&quot;^W&quot;,241,536871342]],[&quot;^14&quot;,[249,&quot;^T&quot;,241,536871342]],[&quot;^14&quot;,[249,&quot;^S&quot;,241,536871342]],[&quot;^14&quot;,[249,&quot;^17&quot;,true,536871342]],[&quot;^14&quot;,[249,&quot;^:&quot;,&quot;~u46f20fb4-02a0-489a-b2dd-1eda68524434&quot;,536871342]],[&quot;^14&quot;,[250,&quot;^P&quot;,&quot;由于守护线程旨在为用户线程提供服务，并且仅在用户线程运行时才需要，**因此一旦所有用户线程完成执行，它们就不会阻止 JVM 退出**。&quot;,536871342]],[&quot;^14&quot;,[250,&quot;^N&quot;,&quot;^16&quot;,536871342]],[&quot;^14&quot;,[250,&quot;^E&quot;,249,536871342]],[&quot;^14&quot;,[250,&quot;^W&quot;,241,536871342]],[&quot;^14&quot;,[250,&quot;^T&quot;,241,536871342]],[&quot;^14&quot;,[250,&quot;^S&quot;,241,536871342]],[&quot;^14&quot;,[250,&quot;^17&quot;,true,536871342]],[&quot;^14&quot;,[250,&quot;^:&quot;,&quot;~uf85bf859-f166-4a2c-9a12-8a66397be8ed&quot;,536871342]],[&quot;^14&quot;,[251,&quot;^P&quot;,&quot;这就是为什么通常存在于守护线程中的无限循环不会引起问题的原因，因为**任何代码，包括finally块，都不会在所有用户线程完成执行后执行**。因此，不建议将守护线程用于 I/O 任务。&quot;,536871342]],[&quot;^14&quot;,[251,&quot;^N&quot;,&quot;^16&quot;,536871342]],[&quot;^14&quot;,[251,&quot;^E&quot;,250,536871342]],[&quot;^14&quot;,[251,&quot;^W&quot;,241,536871342]],[&quot;^14&quot;,[251,&quot;^T&quot;,241,536871342]],[&quot;^14&quot;,[251,&quot;^S&quot;,241,536871342]],[&quot;^14&quot;,[251,&quot;^17&quot;,true,536871342]],[&quot;^14&quot;,[251,&quot;^:&quot;,&quot;~ubc8eae6b-2992-48a4-9f7e-689230b3a6f6&quot;,536871342]],[&quot;^14&quot;,[252,&quot;^P&quot;,&quot;但是，此规则也有例外。守护程序线程中设计不良的代码会阻止 JVM 退出。例如，在正在运行的守护线程上调用Thread.join()可以阻止应用程序的关闭。&quot;,536871342]],[&quot;^14&quot;,[252,&quot;^N&quot;,&quot;^16&quot;,536871342]],[&quot;^14&quot;,[252,&quot;^E&quot;,251,536871342]],[&quot;^14&quot;,[252,&quot;^W&quot;,241,536871342]],[&quot;^14&quot;,[252,&quot;^T&quot;,241,536871342]],[&quot;^14&quot;,[252,&quot;^S&quot;,241,536871342]],[&quot;^14&quot;,[252,&quot;^17&quot;,true,536871342]],[&quot;^14&quot;,[252,&quot;^:&quot;,&quot;~u32ec437c-d5c0-4380-ab69-2f1e2af830e2&quot;,536871342]],[&quot;^14&quot;,[253,&quot;^P&quot;,&quot;## 守护线程的使用&quot;,536871342]],[&quot;^14&quot;,[253,&quot;^N&quot;,&quot;^16&quot;,536871342]],[&quot;^14&quot;,[253,&quot;^U&quot;,2,536871342]],[&quot;^14&quot;,[253,&quot;^E&quot;,252,536871342]],[&quot;^14&quot;,[253,&quot;^W&quot;,241,536871342]],[&quot;^14&quot;,[253,&quot;^T&quot;,241,536871342]],[&quot;^14&quot;,[253,&quot;^S&quot;,241,536871342]],[&quot;^14&quot;,[253,&quot;^18&quot;,2,536871342]],[&quot;^14&quot;,[253,&quot;^V&quot;,&quot;^19&quot;,536871342]],[&quot;^14&quot;,[253,&quot;^17&quot;,true,536871342]],[&quot;^14&quot;,[253,&quot;^:&quot;,&quot;~u58cd1b35-3369-4952-a3bb-64f8c5f27acb&quot;,536871342]],[&quot;^14&quot;,[254,&quot;^P&quot;,&quot;守护线程对于后台支持任务很有用，例如垃圾收集、释放未使用对象的内存以及从缓存中删除不需要的条目。大多数 JVM 线程都是守护线程。&quot;,536871342]],[&quot;^14&quot;,[254,&quot;^N&quot;,&quot;^16&quot;,536871342]],[&quot;^14&quot;,[254,&quot;^E&quot;,253,536871342]],[&quot;^14&quot;,[254,&quot;^W&quot;,241,536871342]],[&quot;^14&quot;,[254,&quot;^T&quot;,241,536871342]],[&quot;^14&quot;,[254,&quot;^S&quot;,241,536871342]],[&quot;^14&quot;,[254,&quot;^17&quot;,true,536871342]],[&quot;^14&quot;,[254,&quot;^:&quot;,&quot;~ua45959da-1acd-473a-bff0-8125d26735ef&quot;,536871342]],[&quot;^14&quot;,[255,&quot;^P&quot;,&quot;## 创建守护线程&quot;,536871342]],[&quot;^14&quot;,[255,&quot;^N&quot;,&quot;^16&quot;,536871342]],[&quot;^14&quot;,[255,&quot;^U&quot;,2,536871342]],[&quot;^14&quot;,[255,&quot;^E&quot;,254,536871342]],[&quot;^14&quot;,[255,&quot;^W&quot;,241,536871342]],[&quot;^14&quot;,[255,&quot;^T&quot;,241,536871342]],[&quot;^14&quot;,[255,&quot;^S&quot;,241,536871342]],[&quot;^14&quot;,[255,&quot;^18&quot;,2,536871342]],[&quot;^14&quot;,[255,&quot;^V&quot;,&quot;^19&quot;,536871342]],[&quot;^14&quot;,[255,&quot;^17&quot;,true,536871342]],[&quot;^14&quot;,[255,&quot;^:&quot;,&quot;~u8fbe4065-8969-4c2a-9471-f649c5ea69ba&quot;,536871342]],[&quot;^14&quot;,[256,&quot;^P&quot;,&quot;要将线程设置为守护线程，我们需要做的就是调用Thread.[[#red]]^^setDaemon(true)^^，注意，必须在[[#red]]^^start()^^之前调用&quot;,536871342]],[&quot;^14&quot;,[256,&quot;^N&quot;,&quot;^16&quot;,536871342]],[&quot;^14&quot;,[256,&quot;^E&quot;,255,536871342]],[&quot;^14&quot;,[256,&quot;^W&quot;,241,536871342]],[&quot;^14&quot;,[256,&quot;^T&quot;,241,536871342]],[&quot;^14&quot;,[256,&quot;^S&quot;,36,536871342]],[&quot;^14&quot;,[256,&quot;^S&quot;,241,536871342]],[&quot;^14&quot;,[256,&quot;^G&quot;,36,536871342]],[&quot;^14&quot;,[256,&quot;^17&quot;,true,536871342]],[&quot;^14&quot;,[256,&quot;^:&quot;,&quot;~ua84f69d3-5d9d-4092-84b0-09d8d69b0976&quot;,536871342]],[&quot;^14&quot;,[257,&quot;^P&quot;,&quot;下面的程序，假如创建一个线程不是守护线程，那么主线程结束后，可以看到的结果是jvm还没用退出，t还在执行；但如果是守护线程[[#red]]^^setDaemon(true)^^，那么主线程结束后，jvm也就退出了，线程也将退出，从程序的执行结果可以看到，Thread name done以及finally的语句都没打印。&quot;,536871342]],[&quot;^14&quot;,[257,&quot;^N&quot;,&quot;^16&quot;,536871342]],[&quot;^14&quot;,[257,&quot;^E&quot;,256,536871342]],[&quot;^14&quot;,[257,&quot;^W&quot;,241,536871342]],[&quot;^14&quot;,[257,&quot;^T&quot;,241,536871342]],[&quot;^14&quot;,[257,&quot;^S&quot;,36,536871342]],[&quot;^14&quot;,[257,&quot;^S&quot;,241,536871342]],[&quot;^14&quot;,[257,&quot;^G&quot;,36,536871342]],[&quot;^14&quot;,[257,&quot;^17&quot;,true,536871342]],[&quot;^14&quot;,[257,&quot;^:&quot;,&quot;~u6d6f9ede-37a2-4ff0-9baf-4cd5b5283ab7&quot;,536871342]],[&quot;^14&quot;,[258,&quot;^P&quot;,&quot;\\n``` java\\n public class DaemonThread {\\n     public static void main(String[] args) throws InterruptedException {\\n         // new\\n         Thread t = new Thread() {\\n             @Override\\n             public void run() {\\n                 try {\\n                     System.out.println(Thread.currentThread().getName() + \\&quot; running\\&quot;);\\n                     Thread.sleep(1000_0);\\n                     System.out.println(Thread.currentThread().getName() + \\&quot; done\\&quot;);\\n                 } catch (InterruptedException e) {\\n                     e.printStackTrace();\\n                 } finally {\\n                     System.out.println(\\&quot;finally\\&quot;);\\n                 }\\n             }\\n         };\\n         t.setDaemon(true);\\n         // runnable -&gt; running| -&gt; blocked -&gt; dead\\n         t.start();\\n \\n         Thread.sleep(1000);// JDK1.7之后。\\n         // 此时逻辑单元已经结束，为什么还没有退出程序呢？\\n         // 因为此时ThreadGroup中还有线程处于active状态。\\n         System.out.println(Thread.currentThread().getName());\\n     }\\n }\\n \\n //t.setDaemon(true);的执行结果\\n Thread-0 running\\n main\\n //t.setDaemon(false);的执行结果\\n Thread-0 running\\n main\\n Thread-0 done\\n finally\\n```&quot;,536871342]],[&quot;^14&quot;,[258,&quot;^N&quot;,&quot;^16&quot;,536871342]],[&quot;^14&quot;,[258,&quot;^E&quot;,257,536871342]],[&quot;^14&quot;,[258,&quot;^W&quot;,241,536871342]],[&quot;^14&quot;,[258,&quot;^T&quot;,241,536871342]],[&quot;^14&quot;,[258,&quot;^S&quot;,241,536871342]],[&quot;^14&quot;,[258,&quot;^17&quot;,true,536871342]],[&quot;^14&quot;,[258,&quot;^:&quot;,&quot;~u91169456-157a-4a5a-9723-d0f83c68c6a1&quot;,536871342]],[&quot;^14&quot;,[259,&quot;^P&quot;,&quot;&quot;,536871342]],[&quot;^14&quot;,[259,&quot;^N&quot;,&quot;^16&quot;,536871342]],[&quot;^14&quot;,[259,&quot;^E&quot;,258,536871342]],[&quot;^14&quot;,[259,&quot;^W&quot;,241,536871342]],[&quot;^14&quot;,[259,&quot;^T&quot;,241,536871342]],[&quot;^14&quot;,[259,&quot;^S&quot;,241,536871342]],[&quot;^14&quot;,[259,&quot;^17&quot;,true,536871342]],[&quot;^14&quot;,[259,&quot;^:&quot;,&quot;~u4856551c-9875-4e21-b46d-075d33fcbb81&quot;,536871342]],[&quot;^14&quot;,[260,&quot;^P&quot;,&quot;&quot;,536871342]],[&quot;^14&quot;,[260,&quot;^N&quot;,&quot;^16&quot;,536871342]],[&quot;^14&quot;,[260,&quot;^E&quot;,259,536871342]],[&quot;^14&quot;,[260,&quot;^W&quot;,241,536871342]],[&quot;^14&quot;,[260,&quot;^T&quot;,241,536871342]],[&quot;^14&quot;,[260,&quot;^S&quot;,241,536871342]],[&quot;^14&quot;,[260,&quot;^17&quot;,true,536871342]],[&quot;^14&quot;,[260,&quot;^:&quot;,&quot;~u87cdd2d1-b255-492f-bb48-8b0f9385a494&quot;,536871342]],[&quot;^14&quot;,[262,&quot;^P&quot;,&quot;[[8.线程ID、优先级]]&quot;,536871366]],[&quot;^14&quot;,[262,&quot;^N&quot;,&quot;^16&quot;,536871346]],[&quot;^14&quot;,[262,&quot;^?&quot;,true,536871346]],[&quot;^14&quot;,[262,&quot;^E&quot;,240,536871346]],[&quot;^14&quot;,[262,&quot;^W&quot;,17,536871346]],[&quot;^14&quot;,[262,&quot;^T&quot;,17,536871346]],[&quot;^14&quot;,[262,&quot;^S&quot;,17,536871366]],[&quot;^14&quot;,[262,&quot;^S&quot;,264,536871366]],[&quot;^14&quot;,[262,&quot;^&gt;&quot;,[&quot;^ &quot;],536871366]],[&quot;^14&quot;,[262,&quot;^G&quot;,264,536871366]],[&quot;^14&quot;,[262,&quot;^17&quot;,true,536871346]],[&quot;^14&quot;,[262,&quot;^:&quot;,&quot;~u62753dae-e414-4e22-b4f2-b283b4073c6f&quot;,536871346]],[&quot;^14&quot;,[264,&quot;^J&quot;,1651850679668,536871366]],[&quot;^14&quot;,[264,&quot;^?&quot;,false,536871366]],[&quot;^14&quot;,[264,&quot;^X&quot;,&quot;8.线程id、优先级&quot;,536871366]],[&quot;^14&quot;,[264,&quot;^10&quot;,&quot;8.线程ID、优先级&quot;,536871366]],[&quot;^14&quot;,[264,&quot;^A&quot;,1651850714576,536871392]],[&quot;^14&quot;,[264,&quot;^:&quot;,&quot;~u62753db7-52c5-4338-af16-5f4564cfed6b&quot;,536871366]],[&quot;^14&quot;,[265,&quot;^P&quot;,&quot;\\n``` java\\n public class ThreadSimpleAPI {\\n     public static void main(String[] args) {\\n         Thread t1 = new Thread(() -&gt; {\\n             Optional.of(\\&quot;Hello\\&quot;).ifPresent(System.out::println);\\n             try {\\n                 Thread.sleep(1_000);\\n             } catch (InterruptedException e) {\\n                 e.printStackTrace();\\n             }\\n         }, \\&quot;t1\\&quot;);\\n \\n         t1.start();\\n \\n         // 线程名称。\\n         Optional.of(t1.getName()).ifPresent(System.out::println);\\n         // 线程ID。++threadSeqNumber\\n         Optional.of(t1.getId()).ifPresent(System.out::println);\\n         // 线程优先级，默认为5.\\n         Optional.of(t1.getPriority()).ifPresent(System.out::println);\\n     }\\n }\\n //console\\n Hello\\n t1\\n 11\\n 5\\n \\n```&quot;,536871371]],[&quot;^14&quot;,[265,&quot;^N&quot;,&quot;^16&quot;,536871369]],[&quot;^14&quot;,[265,&quot;^?&quot;,false,536871369]],[&quot;^14&quot;,[265,&quot;^E&quot;,264,536871369]],[&quot;^14&quot;,[265,&quot;^W&quot;,264,536871369]],[&quot;^14&quot;,[265,&quot;^T&quot;,264,536871369]],[&quot;^14&quot;,[265,&quot;^S&quot;,264,536871371]],[&quot;^14&quot;,[265,&quot;^&gt;&quot;,[&quot;^ &quot;],536871371]],[&quot;^14&quot;,[265,&quot;^17&quot;,true,536871369]],[&quot;^14&quot;,[265,&quot;^:&quot;,&quot;~u62753db8-86b0-4491-b77a-a24efcf61806&quot;,536871369]],[&quot;^14&quot;,[266,&quot;^P&quot;,&quot;![image.png](../assets/image_1651850698913_0.png)&quot;,536871386]],[&quot;^14&quot;,[266,&quot;^N&quot;,&quot;^16&quot;,536871371]],[&quot;^14&quot;,[266,&quot;^E&quot;,265,536871371]],[&quot;^14&quot;,[266,&quot;^W&quot;,264,536871371]],[&quot;^14&quot;,[266,&quot;^T&quot;,264,536871371]],[&quot;^14&quot;,[266,&quot;^S&quot;,264,536871386]],[&quot;^14&quot;,[266,&quot;^&gt;&quot;,[&quot;^ &quot;],536871386]],[&quot;^14&quot;,[266,&quot;^17&quot;,true,536871371]],[&quot;^14&quot;,[266,&quot;^:&quot;,&quot;~u16d85136-d3cd-4b2b-ae98-3443ba34db0d&quot;,536871371]],[&quot;^14&quot;,[267,&quot;^P&quot;,&quot;打开jconsole可以看到共11个线程&quot;,536871371]],[&quot;^14&quot;,[267,&quot;^N&quot;,&quot;^16&quot;,536871371]],[&quot;^14&quot;,[267,&quot;^E&quot;,266,536871371]],[&quot;^14&quot;,[267,&quot;^W&quot;,264,536871371]],[&quot;^14&quot;,[267,&quot;^T&quot;,264,536871371]],[&quot;^14&quot;,[267,&quot;^S&quot;,264,536871371]],[&quot;^14&quot;,[267,&quot;^17&quot;,true,536871371]],[&quot;^14&quot;,[267,&quot;^:&quot;,&quot;~ubb6ec227-1eae-406c-ab02-446b31914656&quot;,536871371]],[&quot;^14&quot;,[268,&quot;^P&quot;,&quot;## 线程ID&quot;,536871371]],[&quot;^14&quot;,[268,&quot;^N&quot;,&quot;^16&quot;,536871371]],[&quot;^14&quot;,[268,&quot;^U&quot;,2,536871371]],[&quot;^14&quot;,[268,&quot;^E&quot;,267,536871371]],[&quot;^14&quot;,[268,&quot;^W&quot;,264,536871371]],[&quot;^14&quot;,[268,&quot;^T&quot;,264,536871371]],[&quot;^14&quot;,[268,&quot;^S&quot;,264,536871371]],[&quot;^14&quot;,[268,&quot;^18&quot;,2,536871371]],[&quot;^14&quot;,[268,&quot;^V&quot;,&quot;^19&quot;,536871371]],[&quot;^14&quot;,[268,&quot;^17&quot;,true,536871371]],[&quot;^14&quot;,[268,&quot;^:&quot;,&quot;~u482eaedd-b5b2-4b18-acde-76014f5fa34d&quot;,536871371]],[&quot;^14&quot;,[269,&quot;^P&quot;,&quot;![image.png](../assets/image_1651850706061_0.png)&quot;,536871389]],[&quot;^14&quot;,[269,&quot;^N&quot;,&quot;^16&quot;,536871371]],[&quot;^14&quot;,[269,&quot;^E&quot;,268,536871371]],[&quot;^14&quot;,[269,&quot;^W&quot;,264,536871371]],[&quot;^14&quot;,[269,&quot;^T&quot;,264,536871371]],[&quot;^14&quot;,[269,&quot;^S&quot;,264,536871389]],[&quot;^14&quot;,[269,&quot;^&gt;&quot;,[&quot;^ &quot;],536871389]],[&quot;^14&quot;,[269,&quot;^17&quot;,true,536871371]],[&quot;^14&quot;,[269,&quot;^:&quot;,&quot;~u2f596e72-6d4b-49d2-af1f-b29f9ea751ec&quot;,536871371]],[&quot;^14&quot;,[270,&quot;^P&quot;,&quot;![image.png](../assets/image_1651850714017_0.png)&quot;,536871392]],[&quot;^14&quot;,[270,&quot;^N&quot;,&quot;^16&quot;,536871371]],[&quot;^14&quot;,[270,&quot;^E&quot;,269,536871371]],[&quot;^14&quot;,[270,&quot;^W&quot;,264,536871371]],[&quot;^14&quot;,[270,&quot;^T&quot;,264,536871371]],[&quot;^14&quot;,[270,&quot;^S&quot;,264,536871392]],[&quot;^14&quot;,[270,&quot;^&gt;&quot;,[&quot;^ &quot;],536871392]],[&quot;^14&quot;,[270,&quot;^17&quot;,true,536871371]],[&quot;^14&quot;,[270,&quot;^:&quot;,&quot;~uf4f6f231-2590-4a80-90de-4c54cfe7e2b0&quot;,536871371]],[&quot;^14&quot;,[271,&quot;^P&quot;,&quot;## 线程优先级&quot;,536871371]],[&quot;^14&quot;,[271,&quot;^N&quot;,&quot;^16&quot;,536871371]],[&quot;^14&quot;,[271,&quot;^U&quot;,2,536871371]],[&quot;^14&quot;,[271,&quot;^E&quot;,270,536871371]],[&quot;^14&quot;,[271,&quot;^W&quot;,264,536871371]],[&quot;^14&quot;,[271,&quot;^T&quot;,264,536871371]],[&quot;^14&quot;,[271,&quot;^S&quot;,264,536871371]],[&quot;^14&quot;,[271,&quot;^18&quot;,2,536871371]],[&quot;^14&quot;,[271,&quot;^V&quot;,&quot;^19&quot;,536871371]],[&quot;^14&quot;,[271,&quot;^17&quot;,true,536871371]],[&quot;^14&quot;,[271,&quot;^:&quot;,&quot;~uaf98e0d6-9a0c-409a-884a-30dbb2601601&quot;,536871371]],[&quot;^14&quot;,[272,&quot;^P&quot;,&quot;\\n``` java\\n public class ThreadSimpleAPI2 {\\n     public static void main(String[] args) {\\n         Thread t1 = new Thread(() -&gt; {\\n             for (int i = 0; i &lt; 1000; i++) {\\n                 Optional.of(Thread.currentThread().getName() + \\&quot;-Index-\\&quot; + i).ifPresent(System.out::println);\\n             }\\n         }, \\&quot;t1\\&quot;);\\n         t1.setPriority(Thread.MAX_PRIORITY);\\n \\n         Thread t2 = new Thread(() -&gt; {\\n             for (int i = 0; i &lt; 1000; i++) {\\n                 Optional.of(Thread.currentThread().getName() + \\&quot;-Index-\\&quot; + i).ifPresent(System.out::println);\\n             }\\n         }, \\&quot;t2\\&quot;);\\n         t2.setPriority(Thread.NORM_PRIORITY);\\n \\n         Thread t3 = new Thread(() -&gt; {\\n             for (int i = 0; i &lt; 1000; i++) {\\n                 Optional.of(Thread.currentThread().getName() + \\&quot;-Index-\\&quot; + i).ifPresent(System.out::println);\\n             }\\n         }, \\&quot;t3\\&quot;);\\n         t3.setPriority(Thread.MIN_PRIORITY);\\n \\n         t1.start();\\n         t2.start();\\n         t3.start();\\n     }\\n }\\n```&quot;,536871371]],[&quot;^14&quot;,[272,&quot;^N&quot;,&quot;^16&quot;,536871371]],[&quot;^14&quot;,[272,&quot;^E&quot;,271,536871371]],[&quot;^14&quot;,[272,&quot;^W&quot;,264,536871371]],[&quot;^14&quot;,[272,&quot;^T&quot;,264,536871371]],[&quot;^14&quot;,[272,&quot;^S&quot;,264,536871371]],[&quot;^14&quot;,[272,&quot;^17&quot;,true,536871371]],[&quot;^14&quot;,[272,&quot;^:&quot;,&quot;~u3e4b92df-67f9-4142-ab87-ea16072076a9&quot;,536871371]],[&quot;^14&quot;,[273,&quot;^P&quot;,&quot;通过观察程序输出可以看到线程按照预期的优先级进行了执行&quot;,536871371]],[&quot;^14&quot;,[273,&quot;^N&quot;,&quot;^16&quot;,536871371]],[&quot;^14&quot;,[273,&quot;^E&quot;,272,536871371]],[&quot;^14&quot;,[273,&quot;^W&quot;,264,536871371]],[&quot;^14&quot;,[273,&quot;^T&quot;,264,536871371]],[&quot;^14&quot;,[273,&quot;^S&quot;,264,536871371]],[&quot;^14&quot;,[273,&quot;^17&quot;,true,536871371]],[&quot;^14&quot;,[273,&quot;^:&quot;,&quot;~u69d45d4a-772c-4161-a309-7ea60b4faad7&quot;,536871371]],[&quot;^14&quot;,[280,&quot;^P&quot;,&quot;[[9.Thread join()]]&quot;,536871404]],[&quot;^14&quot;,[280,&quot;^N&quot;,&quot;^16&quot;,536871395]],[&quot;^14&quot;,[280,&quot;^?&quot;,true,536871395]],[&quot;^14&quot;,[280,&quot;^E&quot;,262,536871395]],[&quot;^14&quot;,[280,&quot;^W&quot;,17,536871395]],[&quot;^14&quot;,[280,&quot;^T&quot;,17,536871395]],[&quot;^14&quot;,[280,&quot;^S&quot;,17,536871404]],[&quot;^14&quot;,[280,&quot;^S&quot;,281,536871404]],[&quot;^14&quot;,[280,&quot;^&gt;&quot;,[&quot;^ &quot;],536871404]],[&quot;^14&quot;,[280,&quot;^G&quot;,281,536871404]],[&quot;^14&quot;,[280,&quot;^17&quot;,true,536871395]],[&quot;^14&quot;,[280,&quot;^:&quot;,&quot;~u62753df1-b616-475b-b229-50df265532ec&quot;,536871395]],[&quot;^14&quot;,[281,&quot;^J&quot;,1651850742935,536871404]],[&quot;^14&quot;,[281,&quot;^?&quot;,false,536871404]],[&quot;^14&quot;,[281,&quot;^X&quot;,&quot;9.thread join()&quot;,536871404]],[&quot;^14&quot;,[281,&quot;^10&quot;,&quot;9.Thread join()&quot;,536871404]],[&quot;^14&quot;,[281,&quot;^A&quot;,1651850745785,536871409]],[&quot;^14&quot;,[281,&quot;^:&quot;,&quot;~u62753df6-7285-4810-95f2-38e8ad712aa0&quot;,536871404]],[&quot;^14&quot;,[282,&quot;^P&quot;,&quot;Waits for this thread to die.&quot;,536871409]],[&quot;^14&quot;,[282,&quot;^N&quot;,&quot;^16&quot;,536871405]],[&quot;^14&quot;,[282,&quot;^?&quot;,false,536871405]],[&quot;^14&quot;,[282,&quot;^E&quot;,281,536871405]],[&quot;^14&quot;,[282,&quot;^W&quot;,281,536871405]],[&quot;^14&quot;,[282,&quot;^T&quot;,281,536871405]],[&quot;^14&quot;,[282,&quot;^S&quot;,281,536871409]],[&quot;^14&quot;,[282,&quot;^&gt;&quot;,[&quot;^ &quot;],536871409]],[&quot;^14&quot;,[282,&quot;^17&quot;,true,536871405]],[&quot;^14&quot;,[282,&quot;^:&quot;,&quot;~u62753df7-d765-4dfb-ac88-f5ed11392350&quot;,536871405]],[&quot;^14&quot;,[283,&quot;^P&quot;,&quot;官方文档的解释如上，翻译过来是等待这个线程死掉。&quot;,536871409]],[&quot;^14&quot;,[283,&quot;^N&quot;,&quot;^16&quot;,536871409]],[&quot;^14&quot;,[283,&quot;^E&quot;,282,536871409]],[&quot;^14&quot;,[283,&quot;^W&quot;,281,536871409]],[&quot;^14&quot;,[283,&quot;^T&quot;,281,536871409]],[&quot;^14&quot;,[283,&quot;^S&quot;,281,536871409]],[&quot;^14&quot;,[283,&quot;^17&quot;,true,536871409]],[&quot;^14&quot;,[283,&quot;^:&quot;,&quot;~ud3d39ec2-c38a-41be-b7ac-56cb706854d6&quot;,536871409]],[&quot;^14&quot;,[284,&quot;^P&quot;,&quot;意思就是当前线程等待调用被调用[[#red]]^^join()^^方法的目标线程执行完成。&quot;,536871409]],[&quot;^14&quot;,[284,&quot;^N&quot;,&quot;^16&quot;,536871409]],[&quot;^14&quot;,[284,&quot;^E&quot;,283,536871409]],[&quot;^14&quot;,[284,&quot;^W&quot;,281,536871409]],[&quot;^14&quot;,[284,&quot;^T&quot;,281,536871409]],[&quot;^14&quot;,[284,&quot;^S&quot;,36,536871409]],[&quot;^14&quot;,[284,&quot;^S&quot;,281,536871409]],[&quot;^14&quot;,[284,&quot;^G&quot;,36,536871409]],[&quot;^14&quot;,[284,&quot;^17&quot;,true,536871409]],[&quot;^14&quot;,[284,&quot;^:&quot;,&quot;~u645b4d4d-df4c-4796-a3dd-1ab3a62a475a&quot;,536871409]],[&quot;^14&quot;,[285,&quot;^P&quot;,&quot;\\n``` java\\n public class ThreadJoin {\\n     public static void main(String[] args) throws InterruptedException {\\n         Thread t1 = new Thread(() -&gt; {\\n             IntStream.range(1, 1_000).forEach(i -&gt;\\n                     System.out.println(Thread.currentThread().getName() + \\&quot;-&gt;\\&quot; + i)\\n             );\\n         }, \\&quot;t1\\&quot;);\\n         Thread t2 = new Thread(() -&gt; {\\n             IntStream.range(1, 1_000).forEach(i -&gt;\\n                     System.out.println(Thread.currentThread().getName() + \\&quot;-&gt;\\&quot; + i)\\n             );\\n         }, \\&quot;t2\\&quot;);\\n \\n         t1.start();\\n         t2.start();\\n         t1.join();\\n         t2.join();\\n \\n         Optional.of(\\&quot;All of tasks finish done.\\&quot;).ifPresent(System.out::println);\\n         IntStream.range(1, 1_000).forEach(i -&gt;\\n                 System.out.println(Thread.currentThread().getName() + \\&quot;-&gt;\\&quot; + i)\\n         );\\n     }\\n }\\n```&quot;,536871409]],[&quot;^14&quot;,[285,&quot;^N&quot;,&quot;^16&quot;,536871409]],[&quot;^14&quot;,[285,&quot;^E&quot;,284,536871409]],[&quot;^14&quot;,[285,&quot;^W&quot;,281,536871409]],[&quot;^14&quot;,[285,&quot;^T&quot;,281,536871409]],[&quot;^14&quot;,[285,&quot;^S&quot;,281,536871409]],[&quot;^14&quot;,[285,&quot;^17&quot;,true,536871409]],[&quot;^14&quot;,[285,&quot;^:&quot;,&quot;~u26ce5a24-c556-4b2e-83f4-0375b70b8963&quot;,536871409]],[&quot;^14&quot;,[286,&quot;^P&quot;,&quot;上面的执行结果可以体现出，main线程会等待t1、t2执行完成后才执行&quot;,536871409]],[&quot;^14&quot;,[286,&quot;^N&quot;,&quot;^16&quot;,536871409]],[&quot;^14&quot;,[286,&quot;^E&quot;,285,536871409]],[&quot;^14&quot;,[286,&quot;^W&quot;,281,536871409]],[&quot;^14&quot;,[286,&quot;^T&quot;,281,536871409]],[&quot;^14&quot;,[286,&quot;^S&quot;,281,536871409]],[&quot;^14&quot;,[286,&quot;^17&quot;,true,536871409]],[&quot;^14&quot;,[286,&quot;^:&quot;,&quot;~uc01d6689-6426-4632-8ee1-405633c36c7d&quot;,536871409]],[&quot;^14&quot;,[287,&quot;^P&quot;,&quot;\\n``` java\\n public class ThreadJoin2 {\\n     public static void main(String[] args) throws InterruptedException {\\n         Thread t1 = new Thread(() -&gt; {\\n             try {\\n                 System.out.println(\\&quot;t1 is running...\\&quot;);\\n                 Thread.sleep(10_000);\\n                 System.out.println(\\&quot;t1 is done.\\&quot;);\\n             } catch (InterruptedException e) {\\n                 e.printStackTrace();\\n             }\\n         });\\n         t1.start();\\n         // t1.join(100);\\n         t1.join(100, 10);\\n \\n         Optional.of(\\&quot;All of tasks finish done.\\&quot;).ifPresent(System.out::println);\\n         IntStream.range(1, 1000).forEach(i -&gt;\\n                 System.out.println(Thread.currentThread().getName() + \\&quot;-&gt;\\&quot; + i));\\n     }\\n }\\n```&quot;,536871409]],[&quot;^14&quot;,[287,&quot;^N&quot;,&quot;^16&quot;,536871409]],[&quot;^14&quot;,[287,&quot;^E&quot;,286,536871409]],[&quot;^14&quot;,[287,&quot;^W&quot;,281,536871409]],[&quot;^14&quot;,[287,&quot;^T&quot;,281,536871409]],[&quot;^14&quot;,[287,&quot;^S&quot;,281,536871409]],[&quot;^14&quot;,[287,&quot;^17&quot;,true,536871409]],[&quot;^14&quot;,[287,&quot;^:&quot;,&quot;~u8cdd3495-0432-4721-bcb2-525fd56946cc&quot;,536871409]],[&quot;^14&quot;,[288,&quot;^P&quot;,&quot;[[#red]]^^join(long millis)^^意思是当前线程等待指定的毫秒以后如果目标线程还没执行完成就不等了&quot;,536871409]],[&quot;^14&quot;,[288,&quot;^N&quot;,&quot;^16&quot;,536871409]],[&quot;^14&quot;,[288,&quot;^E&quot;,287,536871409]],[&quot;^14&quot;,[288,&quot;^W&quot;,281,536871409]],[&quot;^14&quot;,[288,&quot;^T&quot;,281,536871409]],[&quot;^14&quot;,[288,&quot;^S&quot;,36,536871409]],[&quot;^14&quot;,[288,&quot;^S&quot;,281,536871409]],[&quot;^14&quot;,[288,&quot;^G&quot;,36,536871409]],[&quot;^14&quot;,[288,&quot;^17&quot;,true,536871409]],[&quot;^14&quot;,[288,&quot;^:&quot;,&quot;~u77268392-4e1d-4cad-b2da-7bde71c3753a&quot;,536871409]],[&quot;^14&quot;,[289,&quot;^P&quot;,&quot;[[#red]]^^join(long millis, int nanos)^^与上面的方法的区别就是再多等一个nanos指定的纳秒&quot;,536871409]],[&quot;^14&quot;,[289,&quot;^N&quot;,&quot;^16&quot;,536871409]],[&quot;^14&quot;,[289,&quot;^E&quot;,288,536871409]],[&quot;^14&quot;,[289,&quot;^W&quot;,281,536871409]],[&quot;^14&quot;,[289,&quot;^T&quot;,281,536871409]],[&quot;^14&quot;,[289,&quot;^S&quot;,36,536871409]],[&quot;^14&quot;,[289,&quot;^S&quot;,281,536871409]],[&quot;^14&quot;,[289,&quot;^G&quot;,36,536871409]],[&quot;^14&quot;,[289,&quot;^17&quot;,true,536871409]],[&quot;^14&quot;,[289,&quot;^:&quot;,&quot;~u8d60bef2-771e-4ca3-93dc-3fe0c807bf10&quot;,536871409]],[&quot;^14&quot;,[290,&quot;^P&quot;,&quot;## 结合一个实际案例&quot;,536871409]],[&quot;^14&quot;,[290,&quot;^N&quot;,&quot;^16&quot;,536871409]],[&quot;^14&quot;,[290,&quot;^U&quot;,2,536871409]],[&quot;^14&quot;,[290,&quot;^E&quot;,289,536871409]],[&quot;^14&quot;,[290,&quot;^W&quot;,281,536871409]],[&quot;^14&quot;,[290,&quot;^T&quot;,281,536871409]],[&quot;^14&quot;,[290,&quot;^S&quot;,281,536871409]],[&quot;^14&quot;,[290,&quot;^18&quot;,2,536871409]],[&quot;^14&quot;,[290,&quot;^V&quot;,&quot;^19&quot;,536871409]],[&quot;^14&quot;,[290,&quot;^17&quot;,true,536871409]],[&quot;^14&quot;,[290,&quot;^:&quot;,&quot;~ue9ccc2e4-1efa-408a-b174-0b13681e8d3c&quot;,536871409]],[&quot;^14&quot;,[291,&quot;^P&quot;,&quot;\\n``` java\\n import lombok.Data;\\n \\n /**\\n  * 采集服务器节点的信息的例子。\\n  * &lt;p&gt;\\n  * 问题：多个线程如何得到唯一的采集结束时间？\\n  */\\n public class ThreadJoin3 {\\n     public static void main(String[] args) throws InterruptedException {\\n         long startTimestamp = System.currentTimeMillis();\\n \\n         // 假设有三台机器，开启三个线程。\\n         Thread m1 = new Thread(new CaptureRunnable(\\&quot;M1\\&quot;, 10_000L));\\n         Thread m2 = new Thread(new CaptureRunnable(\\&quot;M2\\&quot;, 30_000L));\\n         Thread m3 = new Thread(new CaptureRunnable(\\&quot;M3\\&quot;, 15_000L));\\n \\n         m1.start();\\n         m2.start();\\n         m3.start();\\n         m1.join();\\n         m2.join();\\n         m3.join();\\n \\n         long endTimestamp = System.currentTimeMillis();\\n \\n         System.out.printf(\\&quot;Save data begin timestamp is %s, end timestamp is %s\\\\n\\&quot;, startTimestamp, endTimestamp);\\n         System.out.printf(\\&quot;Spend time is %s\\&quot;, endTimestamp - startTimestamp);\\n     }\\n }\\n \\n /**\\n  * 采集服务器节点的任务。\\n  */\\n @Data\\n class CaptureRunnable implements Runnable {\\n     // 机器节点的名称\\n     private String machineName;\\n     // 采集花费时间\\n     private long spendTime;\\n \\n     public CaptureRunnable(String machineName, long spendTime) {\\n         this.machineName = machineName;\\n         this.spendTime = spendTime;\\n     }\\n \\n     @Override\\n     public void run() {\\n         // do the really capture data.\\n         try {\\n             Thread.sleep(spendTime);\\n             System.out.printf(machineName + \\&quot; completed data capture at timestamp [%s] and successful.\\\\n\\&quot;, System.currentTimeMillis());\\n         } catch (InterruptedException e) {\\n             e.printStackTrace();\\n         }\\n     }\\n \\n     public String getResult() {\\n         return machineName + \\&quot; finish.\\&quot;;\\n     }\\n }\\n \\n //console\\n M1 completed data capture at timestamp [1651803851116] and successful.\\n M3 completed data capture at timestamp [1651803856120] and successful.\\n M2 completed data capture at timestamp [1651803871109] and successful.\\n Save data begin timestamp is 1651803841098, end timestamp is 1651803871109\\n Spend time is 30011\\n```&quot;,536871409]],[&quot;^14&quot;,[291,&quot;^N&quot;,&quot;^16&quot;,536871409]],[&quot;^14&quot;,[291,&quot;^E&quot;,290,536871409]],[&quot;^14&quot;,[291,&quot;^W&quot;,281,536871409]],[&quot;^14&quot;,[291,&quot;^T&quot;,281,536871409]],[&quot;^14&quot;,[291,&quot;^S&quot;,281,536871409]],[&quot;^14&quot;,[291,&quot;^17&quot;,true,536871409]],[&quot;^14&quot;,[291,&quot;^:&quot;,&quot;~u5c04efdf-17bc-4b55-a812-5615b0cd0677&quot;,536871409]],[&quot;^14&quot;,[292,&quot;^P&quot;,&quot;&quot;,536871409]],[&quot;^14&quot;,[292,&quot;^N&quot;,&quot;^16&quot;,536871409]],[&quot;^14&quot;,[292,&quot;^E&quot;,291,536871409]],[&quot;^14&quot;,[292,&quot;^W&quot;,281,536871409]],[&quot;^14&quot;,[292,&quot;^T&quot;,281,536871409]],[&quot;^14&quot;,[292,&quot;^S&quot;,281,536871409]],[&quot;^14&quot;,[292,&quot;^17&quot;,true,536871409]],[&quot;^14&quot;,[292,&quot;^:&quot;,&quot;~uedcbf5df-c506-494d-9827-47314a111ee9&quot;,536871409]],[&quot;^14&quot;,[293,&quot;^P&quot;,&quot;&quot;,536871409]],[&quot;^14&quot;,[293,&quot;^N&quot;,&quot;^16&quot;,536871409]],[&quot;^14&quot;,[293,&quot;^E&quot;,292,536871409]],[&quot;^14&quot;,[293,&quot;^W&quot;,281,536871409]],[&quot;^14&quot;,[293,&quot;^T&quot;,281,536871409]],[&quot;^14&quot;,[293,&quot;^S&quot;,281,536871409]],[&quot;^14&quot;,[293,&quot;^17&quot;,true,536871409]],[&quot;^14&quot;,[293,&quot;^:&quot;,&quot;~u17b429e7-ac53-463c-adf3-4deecd81cda8&quot;,536871409]],[&quot;^14&quot;,[295,&quot;^P&quot;,&quot;[[10.Thread的中断机制(interrupt)]]&quot;,536871422]],[&quot;^14&quot;,[295,&quot;^N&quot;,&quot;^16&quot;,536871413]],[&quot;^14&quot;,[295,&quot;^?&quot;,true,536871413]],[&quot;^14&quot;,[295,&quot;^E&quot;,280,536871413]],[&quot;^14&quot;,[295,&quot;^W&quot;,17,536871413]],[&quot;^14&quot;,[295,&quot;^T&quot;,17,536871413]],[&quot;^14&quot;,[295,&quot;^S&quot;,17,536871422]],[&quot;^14&quot;,[295,&quot;^S&quot;,296,536871422]],[&quot;^14&quot;,[295,&quot;^&gt;&quot;,[&quot;^ &quot;],536871422]],[&quot;^14&quot;,[295,&quot;^G&quot;,296,536871422]],[&quot;^14&quot;,[295,&quot;^17&quot;,true,536871413]],[&quot;^14&quot;,[295,&quot;^:&quot;,&quot;~u62753e13-d605-4a30-a831-e610c85d90ed&quot;,536871413]],[&quot;^14&quot;,[296,&quot;^J&quot;,1651850775647,536871422]],[&quot;^14&quot;,[296,&quot;^?&quot;,false,536871422]],[&quot;^14&quot;,[296,&quot;^X&quot;,&quot;10.thread的中断机制(interrupt)&quot;,536871422]],[&quot;^14&quot;,[296,&quot;^10&quot;,&quot;10.Thread的中断机制(interrupt)&quot;,536871422]],[&quot;^14&quot;,[296,&quot;^A&quot;,1651850842038,536871452]],[&quot;^14&quot;,[296,&quot;^:&quot;,&quot;~u62753e17-0ea3-4561-8440-161fbae0bbb7&quot;,536871422]],[&quot;^14&quot;,[297,&quot;^P&quot;,&quot;## Reference&quot;,536871427]],[&quot;^14&quot;,[297,&quot;^N&quot;,&quot;^16&quot;,536871425]],[&quot;^14&quot;,[297,&quot;^U&quot;,2,536871427]],[&quot;^14&quot;,[297,&quot;^?&quot;,false,536871425]],[&quot;^14&quot;,[297,&quot;^E&quot;,296,536871425]],[&quot;^14&quot;,[297,&quot;^W&quot;,296,536871425]],[&quot;^14&quot;,[297,&quot;^T&quot;,296,536871425]],[&quot;^14&quot;,[297,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[297,&quot;^&gt;&quot;,[&quot;^ &quot;],536871427]],[&quot;^14&quot;,[297,&quot;^18&quot;,2,536871427]],[&quot;^14&quot;,[297,&quot;^V&quot;,&quot;^19&quot;,536871427]],[&quot;^14&quot;,[297,&quot;^17&quot;,true,536871425]],[&quot;^14&quot;,[297,&quot;^:&quot;,&quot;~u62753e18-b23c-40c6-988e-9bebf349af32&quot;,536871425]],[&quot;^14&quot;,[298,&quot;^P&quot;,&quot;\\n&gt; https://www.zhihu.com/question/41048032&quot;,536871427]],[&quot;^14&quot;,[298,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[298,&quot;^E&quot;,297,536871427]],[&quot;^14&quot;,[298,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[298,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[298,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[298,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[298,&quot;^:&quot;,&quot;~u678fad54-7b62-46f5-b42b-d5b74b40e60d&quot;,536871427]],[&quot;^14&quot;,[299,&quot;^P&quot;,&quot;\\n&gt; https://docs.oracle.com/javase/tutorial/essential/concurrency/interrupt.html&quot;,536871427]],[&quot;^14&quot;,[299,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[299,&quot;^E&quot;,298,536871427]],[&quot;^14&quot;,[299,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[299,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[299,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[299,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[299,&quot;^:&quot;,&quot;~uf89cf0e8-9a1b-4c26-bbb5-955605ed33e8&quot;,536871427]],[&quot;^14&quot;,[300,&quot;^P&quot;,&quot;\\n&gt; https://blog.csdn.net/CringKong/article/details/80526996&quot;,536871427]],[&quot;^14&quot;,[300,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[300,&quot;^E&quot;,299,536871427]],[&quot;^14&quot;,[300,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[300,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[300,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[300,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[300,&quot;^:&quot;,&quot;~u5fd6e781-946d-4b02-9419-8cd0abb8e4b3&quot;,536871427]],[&quot;^14&quot;,[301,&quot;^P&quot;,&quot;\\n&gt; https://docs.oracle.com/javase/8/docs/api/&quot;,536871427]],[&quot;^14&quot;,[301,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[301,&quot;^E&quot;,300,536871427]],[&quot;^14&quot;,[301,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[301,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[301,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[301,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[301,&quot;^:&quot;,&quot;~u69da09d1-e089-4259-b8c4-0f065280bc1b&quot;,536871427]],[&quot;^14&quot;,[302,&quot;^P&quot;,&quot;\\n&gt; https://www.cnblogs.com/onlywujun/p/3565082.html&quot;,536871427]],[&quot;^14&quot;,[302,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[302,&quot;^E&quot;,301,536871427]],[&quot;^14&quot;,[302,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[302,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[302,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[302,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[302,&quot;^:&quot;,&quot;~u743f5384-4f93-4e91-8a57-e1312ead0059&quot;,536871427]],[&quot;^14&quot;,[303,&quot;^P&quot;,&quot;### 首先来看官方文档的解释&quot;,536871427]],[&quot;^14&quot;,[303,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[303,&quot;^U&quot;,3,536871427]],[&quot;^14&quot;,[303,&quot;^E&quot;,302,536871427]],[&quot;^14&quot;,[303,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[303,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[303,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[303,&quot;^18&quot;,3,536871427]],[&quot;^14&quot;,[303,&quot;^V&quot;,&quot;^19&quot;,536871427]],[&quot;^14&quot;,[303,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[303,&quot;^:&quot;,&quot;~ueed06bc0-1b2b-4ceb-a643-b1b785f53e66&quot;,536871427]],[&quot;^14&quot;,[304,&quot;^P&quot;,&quot;\\n&gt; Tests whether the current thread has been interrupted. The interrupted status of the thread is cleared by this method. In other words, if this method were to be called twice in succession, the second call would return false (unless the current thread were interrupted again, after the first call had cleared its interrupted status and before the second call had examined it).&quot;,536871427]],[&quot;^14&quot;,[304,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[304,&quot;^E&quot;,303,536871427]],[&quot;^14&quot;,[304,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[304,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[304,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[304,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[304,&quot;^:&quot;,&quot;~u56cd9478-2e59-4841-ba7e-a9db5e94b170&quot;,536871427]],[&quot;^14&quot;,[305,&quot;^P&quot;,&quot;测试当前线程是否已中断。此方法清除线程的中断状态。换句话说，如果这个方法被连续调用两次，第二次调用将返回false（除非当前线程在第一次调用清除其中断状态之后，第二次调用检查之前再次中断）。&quot;,536871427]],[&quot;^14&quot;,[305,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[305,&quot;^E&quot;,304,536871427]],[&quot;^14&quot;,[305,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[305,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[305,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[305,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[305,&quot;^:&quot;,&quot;~u9bd31719-5b67-4fad-8368-7834df8a38d4&quot;,536871427]],[&quot;^14&quot;,[306,&quot;^P&quot;,&quot;### 再来看看官方教程的解释&quot;,536871427]],[&quot;^14&quot;,[306,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[306,&quot;^U&quot;,3,536871427]],[&quot;^14&quot;,[306,&quot;^E&quot;,305,536871427]],[&quot;^14&quot;,[306,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[306,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[306,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[306,&quot;^18&quot;,3,536871427]],[&quot;^14&quot;,[306,&quot;^V&quot;,&quot;^19&quot;,536871427]],[&quot;^14&quot;,[306,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[306,&quot;^:&quot;,&quot;~uea11d3d6-f9d4-47a9-8100-a0aa80aec8b7&quot;,536871427]],[&quot;^14&quot;,[307,&quot;^P&quot;,&quot;\\n&gt; An interrupt is an indication to a thread that it should stop what it is doing and do something else. It&apos;s up to the programmer to decide exactly how a thread responds to an interrupt, but it is very common for the thread to terminate.&quot;,536871427]],[&quot;^14&quot;,[307,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[307,&quot;^E&quot;,306,536871427]],[&quot;^14&quot;,[307,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[307,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[307,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[307,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[307,&quot;^:&quot;,&quot;~uec348b76-670e-4a40-96c3-954e17e3550c&quot;,536871427]],[&quot;^14&quot;,[308,&quot;^P&quot;,&quot;中断是指线程应该停止正在做的事情并做其他事情。由程序员来决定线程如何响应中断，并且线程终止是很常见的。&quot;,536871427]],[&quot;^14&quot;,[308,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[308,&quot;^E&quot;,307,536871427]],[&quot;^14&quot;,[308,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[308,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[308,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[308,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[308,&quot;^:&quot;,&quot;~uceed0d98-8597-4586-9387-4ea13e2ff3b2&quot;,536871427]],[&quot;^14&quot;,[309,&quot;^P&quot;,&quot;\\n&gt; A thread sends an interrupt by invoking interrupt on the Thread object for the thread to be interrupted. For the interrupt mechanism to work correctly, the interrupted thread must support its own interruption.&quot;,536871427]],[&quot;^14&quot;,[309,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[309,&quot;^E&quot;,308,536871427]],[&quot;^14&quot;,[309,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[309,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[309,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[309,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[309,&quot;^:&quot;,&quot;~uc7398a88-4434-4a96-8eb3-3778655473b6&quot;,536871427]],[&quot;^14&quot;,[310,&quot;^P&quot;,&quot;线程通过调用线程对象上的[[#red]]^^interrupt()^^来发送中断，该线程将被中断。为了使中断机制正常工作，被中断的线程必须支持自己的中断。&quot;,536871427]],[&quot;^14&quot;,[310,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[310,&quot;^E&quot;,309,536871427]],[&quot;^14&quot;,[310,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[310,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[310,&quot;^S&quot;,36,536871427]],[&quot;^14&quot;,[310,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[310,&quot;^G&quot;,36,536871427]],[&quot;^14&quot;,[310,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[310,&quot;^:&quot;,&quot;~ub1bbdc7d-63a3-4cf0-b350-e7a811608fe2&quot;,536871427]],[&quot;^14&quot;,[311,&quot;^P&quot;,&quot;### Supporting Interruption(支持中断)&quot;,536871427]],[&quot;^14&quot;,[311,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[311,&quot;^U&quot;,3,536871427]],[&quot;^14&quot;,[311,&quot;^E&quot;,310,536871427]],[&quot;^14&quot;,[311,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[311,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[311,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[311,&quot;^18&quot;,3,536871427]],[&quot;^14&quot;,[311,&quot;^V&quot;,&quot;^19&quot;,536871427]],[&quot;^14&quot;,[311,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[311,&quot;^:&quot;,&quot;~ua8fbf517-4466-47f2-ada3-7df201fe3566&quot;,536871427]],[&quot;^14&quot;,[312,&quot;^P&quot;,&quot;\\n&gt; How does a thread support its own interruption? This depends on what it&apos;s currently doing. If the thread is frequently invoking methods that throw InterruptedException, it simply returns from the run method after it catches that exception. For example, suppose the central message loop in the SleepMessages example were in the run method of a thread&apos;s Runnable object. Then it might be modified as follows to support interrupts:&quot;,536871427]],[&quot;^14&quot;,[312,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[312,&quot;^E&quot;,311,536871427]],[&quot;^14&quot;,[312,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[312,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[312,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[312,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[312,&quot;^:&quot;,&quot;~u11e68e34-7a28-4467-8cf3-f0932558d672&quot;,536871427]],[&quot;^14&quot;,[313,&quot;^P&quot;,&quot;线程如何支持自己的中断？这取决于它目前正在做什么。如果线程频繁调用抛出InterruptedException的方法，那么它只需在捕获该异常后从[[#red]]^^run^^方法返回。例如，下面的代码中的循环打印消息位于线程的Runnable对象的run方法中。然后，可以对其进行如下修改，以支持中断：&quot;,536871427]],[&quot;^14&quot;,[313,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[313,&quot;^E&quot;,312,536871427]],[&quot;^14&quot;,[313,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[313,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[313,&quot;^S&quot;,36,536871427]],[&quot;^14&quot;,[313,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[313,&quot;^G&quot;,36,536871427]],[&quot;^14&quot;,[313,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[313,&quot;^:&quot;,&quot;~u01d1a9c2-6d6a-49c3-8343-f4a89c5a5d5c&quot;,536871427]],[&quot;^14&quot;,[314,&quot;^P&quot;,&quot;catch住中断异常后执行返回即可&quot;,536871427]],[&quot;^14&quot;,[314,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[314,&quot;^E&quot;,313,536871427]],[&quot;^14&quot;,[314,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[314,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[314,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[314,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[314,&quot;^:&quot;,&quot;~u20282d43-4562-4812-9067-67d692756b86&quot;,536871427]],[&quot;^14&quot;,[315,&quot;^P&quot;,&quot;\\n``` java\\n for (int i = 0; i &lt; importantInfo.length; i++) {\\n     // Pause for 4 seconds\\n     try {\\n         Thread.sleep(4000);\\n     } catch (InterruptedException e) {\\n         // We&apos;ve been interrupted: no more messages.\\n         return;\\n     }\\n     // Print a message\\n     System.out.println(importantInfo[i]);\\n }\\n```&quot;,536871427]],[&quot;^14&quot;,[315,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[315,&quot;^E&quot;,314,536871427]],[&quot;^14&quot;,[315,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[315,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[315,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[315,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[315,&quot;^:&quot;,&quot;~uaa6da4a4-1051-4d54-81ac-e4fae2eaa33e&quot;,536871427]],[&quot;^14&quot;,[316,&quot;^P&quot;,&quot;\\n&gt; Many methods that throw InterruptedException, such as sleep, are designed to cancel their current operation and return immediately when an interrupt is received.&quot;,536871427]],[&quot;^14&quot;,[316,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[316,&quot;^E&quot;,315,536871427]],[&quot;^14&quot;,[316,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[316,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[316,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[316,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[316,&quot;^:&quot;,&quot;~uf458563c-515b-4d24-ba18-dfd8ddbf12c5&quot;,536871427]],[&quot;^14&quot;,[317,&quot;^P&quot;,&quot;许多引发InterruptedException的方法，例如sleep，被设计为取消当前操作，并在收到中断时立即返回。&quot;,536871427]],[&quot;^14&quot;,[317,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[317,&quot;^E&quot;,316,536871427]],[&quot;^14&quot;,[317,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[317,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[317,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[317,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[317,&quot;^:&quot;,&quot;~ua37cf6ee-ae7f-4d5c-b7d7-4108dc843db5&quot;,536871427]],[&quot;^14&quot;,[318,&quot;^P&quot;,&quot;\\n&gt; What if a thread goes a long time without invoking a method that throws InterruptedException? Then it must periodically invoke Thread.interrupted, which returns true if an interrupt has been received. For example:&quot;,536871427]],[&quot;^14&quot;,[318,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[318,&quot;^E&quot;,317,536871427]],[&quot;^14&quot;,[318,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[318,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[318,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[318,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[318,&quot;^:&quot;,&quot;~u9f7785e8-ca1d-45d9-9418-282eb1698ae4&quot;,536871427]],[&quot;^14&quot;,[319,&quot;^P&quot;,&quot;如果一个线程运行了很长时间而没有调用抛出InterruptedException的方法，该怎么办？它必须定期调用[[#red]]^^Thread.interrupted()^^，如果接收到中断，则返回true。例如：&quot;,536871427]],[&quot;^14&quot;,[319,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[319,&quot;^E&quot;,318,536871427]],[&quot;^14&quot;,[319,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[319,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[319,&quot;^S&quot;,36,536871427]],[&quot;^14&quot;,[319,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[319,&quot;^G&quot;,36,536871427]],[&quot;^14&quot;,[319,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[319,&quot;^:&quot;,&quot;~u95c91351-8a4f-4487-bf02-749a61c256a4&quot;,536871427]],[&quot;^14&quot;,[320,&quot;^P&quot;,&quot;\\n``` java\\n for (int i = 0; i &lt; inputs.length; i++) {\\n     heavyCrunch(inputs[i]);\\n     if (Thread.interrupted()) {\\n         // We&apos;ve been interrupted: no more crunching.\\n         return;\\n     }\\n }\\n```&quot;,536871427]],[&quot;^14&quot;,[320,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[320,&quot;^E&quot;,319,536871427]],[&quot;^14&quot;,[320,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[320,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[320,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[320,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[320,&quot;^:&quot;,&quot;~u9507b42b-c3bb-4a26-9ef4-800aa926f501&quot;,536871427]],[&quot;^14&quot;,[321,&quot;^P&quot;,&quot;\\n&gt; In this simple example, the code simply tests for the interrupt and exits the thread if one has been received. In more complex applications, it might make more sense to throw an InterruptedException:&quot;,536871427]],[&quot;^14&quot;,[321,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[321,&quot;^E&quot;,320,536871427]],[&quot;^14&quot;,[321,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[321,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[321,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[321,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[321,&quot;^:&quot;,&quot;~u96c1aff4-488c-428f-949a-039ba5980837&quot;,536871427]],[&quot;^14&quot;,[322,&quot;^P&quot;,&quot;在这个简单的例子中，代码只是测试中断，如果收到中断，就退出线程。在更复杂的应用程序中，抛出InterruptedException可能更有意义：\\n``` java\\n if (Thread.interrupted()) {\\n     throw new InterruptedException();\\n }\\n```&quot;,536871427]],[&quot;^14&quot;,[322,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[322,&quot;^E&quot;,321,536871427]],[&quot;^14&quot;,[322,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[322,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[322,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[322,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[322,&quot;^:&quot;,&quot;~ubc039dc4-3af2-4533-8ef8-c4aa7bbacbdc&quot;,536871427]],[&quot;^14&quot;,[323,&quot;^P&quot;,&quot;\\n&gt; This allows interrupt handling code to be centralized in a catch clause.&quot;,536871427]],[&quot;^14&quot;,[323,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[323,&quot;^E&quot;,322,536871427]],[&quot;^14&quot;,[323,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[323,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[323,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[323,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[323,&quot;^:&quot;,&quot;~uafdadfee-d2be-4b09-bd76-17959d11a257&quot;,536871427]],[&quot;^14&quot;,[324,&quot;^P&quot;,&quot;这允许中断处理代码集中在catch子句中。&quot;,536871427]],[&quot;^14&quot;,[324,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[324,&quot;^E&quot;,323,536871427]],[&quot;^14&quot;,[324,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[324,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[324,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[324,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[324,&quot;^:&quot;,&quot;~u4653341c-dcdc-4287-a2d2-ed192dbd3953&quot;,536871427]],[&quot;^14&quot;,[325,&quot;^P&quot;,&quot;### The Interrupt Status Flag(中断状态标志)&quot;,536871427]],[&quot;^14&quot;,[325,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[325,&quot;^U&quot;,3,536871427]],[&quot;^14&quot;,[325,&quot;^E&quot;,324,536871427]],[&quot;^14&quot;,[325,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[325,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[325,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[325,&quot;^18&quot;,3,536871427]],[&quot;^14&quot;,[325,&quot;^V&quot;,&quot;^19&quot;,536871427]],[&quot;^14&quot;,[325,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[325,&quot;^:&quot;,&quot;~u2b532f35-d1c6-4baf-ad39-5d45f710fc1d&quot;,536871427]],[&quot;^14&quot;,[326,&quot;^P&quot;,&quot;\\n&gt; The interrupt mechanism is implemented using an internal flag known as the interrupt status. Invoking Thread.interrupt sets this flag. When a thread checks for an interrupt by invoking the static method Thread.interrupted, interrupt status is cleared. The non-static isInterrupted method, which is used by one thread to query the interrupt status of another, does not change the interrupt status flag.&quot;,536871427]],[&quot;^14&quot;,[326,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[326,&quot;^E&quot;,325,536871427]],[&quot;^14&quot;,[326,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[326,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[326,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[326,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[326,&quot;^:&quot;,&quot;~ucc562925-18f1-4f58-a35c-3a5403af52b8&quot;,536871427]],[&quot;^14&quot;,[327,&quot;^P&quot;,&quot;中断机制使用一个称为中断状态的内部标志来实现。调用[[#red]]^^Thread.interrupted()^^设置此标志。当线程通过调用静态方法[[#red]]^^Thread.interrupted()^^来检查中断时,中断状态被清除。非静态isInterrupted方法由一个线程用来查询另一个线程的中断状态，它不会更改中断状态标志。&quot;,536871427]],[&quot;^14&quot;,[327,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[327,&quot;^E&quot;,326,536871427]],[&quot;^14&quot;,[327,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[327,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[327,&quot;^S&quot;,36,536871427]],[&quot;^14&quot;,[327,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[327,&quot;^G&quot;,36,536871427]],[&quot;^14&quot;,[327,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[327,&quot;^:&quot;,&quot;~u09c6907b-a00f-43de-9b38-4130f534903e&quot;,536871427]],[&quot;^14&quot;,[328,&quot;^P&quot;,&quot;\\n&gt; By convention, any method that exits by throwing an InterruptedException clears interrupt status when it does so. However, it&apos;s always possible that interrupt status will immediately be set again, by another thread invoking interrupt.&quot;,536871427]],[&quot;^14&quot;,[328,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[328,&quot;^E&quot;,327,536871427]],[&quot;^14&quot;,[328,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[328,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[328,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[328,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[328,&quot;^:&quot;,&quot;~ub3af6374-4cdf-4e51-afe7-a0fbaa4d05b1&quot;,536871427]],[&quot;^14&quot;,[329,&quot;^P&quot;,&quot;按照惯例，任何抛出InterruptedException退出的方法都会在抛出时清除中断状态。然而，总是有可能通过另一个调用中断的线程立即再次设置中断状态。&quot;,536871427]],[&quot;^14&quot;,[329,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[329,&quot;^E&quot;,328,536871427]],[&quot;^14&quot;,[329,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[329,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[329,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[329,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[329,&quot;^:&quot;,&quot;~uf9668939-99a3-4f91-a271-e3e095fc5df9&quot;,536871427]],[&quot;^14&quot;,[330,&quot;^P&quot;,&quot;## 总结&quot;,536871427]],[&quot;^14&quot;,[330,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[330,&quot;^U&quot;,2,536871427]],[&quot;^14&quot;,[330,&quot;^E&quot;,329,536871427]],[&quot;^14&quot;,[330,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[330,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[330,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[330,&quot;^18&quot;,2,536871427]],[&quot;^14&quot;,[330,&quot;^V&quot;,&quot;^19&quot;,536871427]],[&quot;^14&quot;,[330,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[330,&quot;^:&quot;,&quot;~u3e0cec71-471b-4a11-a513-1a6fcd89dfdb&quot;,536871427]],[&quot;^14&quot;,[331,&quot;^P&quot;,&quot;如果一个线程处于了阻塞状态（如线程调用了[[#red]]==thread.sleep==、[[#red]]==thread.join==、[[#red]]==thread.wait==、1.5中的[[#red]]==condition.await==、以及可中断的通道上的 I/O 操作方法后可进入阻塞状态），则在线程在检查中断标示时如果发现中断标示为true，则会在这些阻塞方法（sleep、join、wait、1.5中的condition.await及可中断的通道上的 I/O 操作方法）调用处抛出InterruptedException异常，并且在抛出异常后立即将线程的中断标示位清除，即重新设置为false。抛出异常是为了线程从阻塞状态醒过来，并在结束线程前让程序员有足够的时间来处理中断请求。&quot;,536871440]],[&quot;^14&quot;,[331,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[331,&quot;^E&quot;,330,536871427]],[&quot;^14&quot;,[331,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[331,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[331,&quot;^S&quot;,36,536871440]],[&quot;^14&quot;,[331,&quot;^S&quot;,296,536871440]],[&quot;^14&quot;,[331,&quot;^&gt;&quot;,[&quot;^ &quot;],536871440]],[&quot;^14&quot;,[331,&quot;^G&quot;,36,536871440]],[&quot;^14&quot;,[331,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[331,&quot;^:&quot;,&quot;~u51091ec4-1e9d-4c8b-a950-acbd47c0c35f&quot;,536871427]],[&quot;^14&quot;,[332,&quot;^P&quot;,&quot;一个线程不应该由其他线程来强制中断或停止，而是应该由线程自己自行停止。所以，[[#red]]==Thread.stop==, [[#red]]==Thread.suspend==, [[#red]]==Thread.resume== 都已经被废弃了。而 [[#red]]==Thread.interrupt== 的作用其实也不是中断线程，而是「通知线程应该中断了」，具体到底中断还是继续运行，应该由被通知的线程自己处理。&quot;,536871452]],[&quot;^14&quot;,[332,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[332,&quot;^E&quot;,331,536871427]],[&quot;^14&quot;,[332,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[332,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[332,&quot;^S&quot;,36,536871452]],[&quot;^14&quot;,[332,&quot;^S&quot;,296,536871452]],[&quot;^14&quot;,[332,&quot;^&gt;&quot;,[&quot;^ &quot;],536871452]],[&quot;^14&quot;,[332,&quot;^G&quot;,36,536871452]],[&quot;^14&quot;,[332,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[332,&quot;^:&quot;,&quot;~u920ac9c0-743a-42b4-9265-c678a664ba47&quot;,536871427]],[&quot;^14&quot;,[333,&quot;^P&quot;,&quot;①如果线程处于被阻塞状态（例如处于sleep, wait, join 等状态），那么线程将立即退出被阻塞状态，并抛出一个InterruptedException异常。仅此而已。&quot;,536871427]],[&quot;^14&quot;,[333,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[333,&quot;^E&quot;,332,536871427]],[&quot;^14&quot;,[333,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[333,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[333,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[333,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[333,&quot;^:&quot;,&quot;~u54a9c639-ad64-4f35-9ed8-16fc3c99afbe&quot;,536871427]],[&quot;^14&quot;,[334,&quot;^P&quot;,&quot;② 如果线程处于正常活动状态，那么会将该线程的中断标志设置为 true，仅此而已。被设置中断标志的线程将继续正常运行，不受影响。&quot;,536871427]],[&quot;^14&quot;,[334,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[334,&quot;^E&quot;,333,536871427]],[&quot;^14&quot;,[334,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[334,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[334,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[334,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[334,&quot;^:&quot;,&quot;~u4980c2d6-8b13-4985-be75-b693a0291d27&quot;,536871427]],[&quot;^14&quot;,[335,&quot;^P&quot;,&quot;[[#red]]^^interrupt()^^ 并不能真正的中断线程，需要被调用的线程自己进行配合才行。也就是说，一个线程如果有被中断的需求，那么就可以这样做。&quot;,536871427]],[&quot;^14&quot;,[335,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[335,&quot;^E&quot;,334,536871427]],[&quot;^14&quot;,[335,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[335,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[335,&quot;^S&quot;,36,536871427]],[&quot;^14&quot;,[335,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[335,&quot;^G&quot;,36,536871427]],[&quot;^14&quot;,[335,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[335,&quot;^:&quot;,&quot;~u6834db4b-0511-4825-b457-0979247098d9&quot;,536871427]],[&quot;^14&quot;,[336,&quot;^P&quot;,&quot;① 在正常运行任务时，经常检查本线程的中断标志位，如果被设置了中断标志就自行停止线程。&quot;,536871427]],[&quot;^14&quot;,[336,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[336,&quot;^E&quot;,335,536871427]],[&quot;^14&quot;,[336,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[336,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[336,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[336,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[336,&quot;^:&quot;,&quot;~u0c3b5770-9366-4e3e-82ff-4e74a56fa1ad&quot;,536871427]],[&quot;^14&quot;,[337,&quot;^P&quot;,&quot;② 在调用阻塞方法时正确处理InterruptedException异常。（例如，catch异常后就结束线程。）&quot;,536871427]],[&quot;^14&quot;,[337,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[337,&quot;^E&quot;,336,536871427]],[&quot;^14&quot;,[337,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[337,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[337,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[337,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[337,&quot;^:&quot;,&quot;~u3d38a184-b143-481f-828d-52e9352dd63e&quot;,536871427]],[&quot;^14&quot;,[338,&quot;^P&quot;,&quot;\\n``` java\\n Thread thread = new Thread(() -&gt; {\\n     while (!Thread.interrupted()) {\\n         // do more work.\\n     }\\n });\\n thread.start();\\n \\n // 一段时间以后\\n thread.interrupt();\\n```&quot;,536871427]],[&quot;^14&quot;,[338,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[338,&quot;^E&quot;,337,536871427]],[&quot;^14&quot;,[338,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[338,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[338,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[338,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[338,&quot;^:&quot;,&quot;~u3f890fcd-086c-4c90-9568-42883b7fa0d5&quot;,536871427]],[&quot;^14&quot;,[339,&quot;^P&quot;,&quot;&quot;,536871427]],[&quot;^14&quot;,[339,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[339,&quot;^E&quot;,338,536871427]],[&quot;^14&quot;,[339,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[339,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[339,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[339,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[339,&quot;^:&quot;,&quot;~uea9055e4-b0ac-4395-b790-aeae615322b0&quot;,536871427]],[&quot;^14&quot;,[340,&quot;^P&quot;,&quot;&quot;,536871427]],[&quot;^14&quot;,[340,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[340,&quot;^E&quot;,339,536871427]],[&quot;^14&quot;,[340,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[340,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[340,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[340,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[340,&quot;^:&quot;,&quot;~u13eabaf5-f250-4a92-9161-f7d41fd0afa6&quot;,536871427]],[&quot;^14&quot;,[341,&quot;^P&quot;,&quot;&quot;,536871427]],[&quot;^14&quot;,[341,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[341,&quot;^E&quot;,340,536871427]],[&quot;^14&quot;,[341,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[341,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[341,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[341,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[341,&quot;^:&quot;,&quot;~u978d8594-46f4-4085-aafd-971bf6000753&quot;,536871427]],[&quot;^14&quot;,[342,&quot;^P&quot;,&quot;&quot;,536871427]],[&quot;^14&quot;,[342,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[342,&quot;^E&quot;,341,536871427]],[&quot;^14&quot;,[342,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[342,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[342,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[342,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[342,&quot;^:&quot;,&quot;~u822a8d44-9e04-45e6-8f80-c981fb099f2e&quot;,536871427]],[&quot;^14&quot;,[343,&quot;^P&quot;,&quot;&quot;,536871427]],[&quot;^14&quot;,[343,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[343,&quot;^E&quot;,342,536871427]],[&quot;^14&quot;,[343,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[343,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[343,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[343,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[343,&quot;^:&quot;,&quot;~u7219402a-1902-41e3-8266-0d17ae981043&quot;,536871427]],[&quot;^14&quot;,[344,&quot;^P&quot;,&quot;&quot;,536871427]],[&quot;^14&quot;,[344,&quot;^N&quot;,&quot;^16&quot;,536871427]],[&quot;^14&quot;,[344,&quot;^E&quot;,343,536871427]],[&quot;^14&quot;,[344,&quot;^W&quot;,296,536871427]],[&quot;^14&quot;,[344,&quot;^T&quot;,296,536871427]],[&quot;^14&quot;,[344,&quot;^S&quot;,296,536871427]],[&quot;^14&quot;,[344,&quot;^17&quot;,true,536871427]],[&quot;^14&quot;,[344,&quot;^:&quot;,&quot;~ued7c9ec8-5c29-4537-a314-e39ca918f5b2&quot;,536871427]],[&quot;^14&quot;,[346,&quot;^P&quot;,&quot;[[11.采用优雅的方式结束线程]]&quot;,536871462]],[&quot;^14&quot;,[346,&quot;^N&quot;,&quot;^16&quot;,536871455]],[&quot;^14&quot;,[346,&quot;^?&quot;,true,536871455]],[&quot;^14&quot;,[346,&quot;^E&quot;,295,536871455]],[&quot;^14&quot;,[346,&quot;^W&quot;,17,536871455]],[&quot;^14&quot;,[346,&quot;^T&quot;,17,536871455]],[&quot;^14&quot;,[346,&quot;^S&quot;,17,536871462]],[&quot;^14&quot;,[346,&quot;^S&quot;,347,536871462]],[&quot;^14&quot;,[346,&quot;^&gt;&quot;,[&quot;^ &quot;],536871462]],[&quot;^14&quot;,[346,&quot;^G&quot;,347,536871462]],[&quot;^14&quot;,[346,&quot;^17&quot;,true,536871455]],[&quot;^14&quot;,[346,&quot;^:&quot;,&quot;~u62753e66-001c-46b1-a2d1-f84ec553fe96&quot;,536871455]],[&quot;^14&quot;,[347,&quot;^J&quot;,1651850864985,536871462]],[&quot;^14&quot;,[347,&quot;^?&quot;,false,536871462]],[&quot;^14&quot;,[347,&quot;^X&quot;,&quot;11.采用优雅的方式结束线程&quot;,536871462]],[&quot;^14&quot;,[347,&quot;^10&quot;,&quot;11.采用优雅的方式结束线程&quot;,536871462]],[&quot;^14&quot;,[347,&quot;^A&quot;,1651850981048,536871500]],[&quot;^14&quot;,[347,&quot;^:&quot;,&quot;~u62753e70-2304-4e5a-88f9-5a512d922150&quot;,536871462]],[&quot;^14&quot;,[348,&quot;^P&quot;,&quot;Thread的stop()方法已经被deprecated，原因是它会暴力的结束掉我们的线程，假如线程中使用了一些资源，那资源没有得到及时的释放，就会影响操作系统的性能，所以需要自己来实现一个优雅关闭，在线程结束的时候顺带关闭资源。&quot;,536871467]],[&quot;^14&quot;,[348,&quot;^N&quot;,&quot;^16&quot;,536871463]],[&quot;^14&quot;,[348,&quot;^?&quot;,false,536871463]],[&quot;^14&quot;,[348,&quot;^E&quot;,347,536871463]],[&quot;^14&quot;,[348,&quot;^W&quot;,347,536871463]],[&quot;^14&quot;,[348,&quot;^T&quot;,347,536871463]],[&quot;^14&quot;,[348,&quot;^S&quot;,347,536871467]],[&quot;^14&quot;,[348,&quot;^&gt;&quot;,[&quot;^ &quot;],536871467]],[&quot;^14&quot;,[348,&quot;^17&quot;,true,536871463]],[&quot;^14&quot;,[348,&quot;^:&quot;,&quot;~u62753e71-ae61-4ba7-8054-74485c728e8b&quot;,536871463]],[&quot;^14&quot;,[349,&quot;^P&quot;,&quot;## 一、使用开关变量的方式控制线程终止&quot;,536871467]],[&quot;^14&quot;,[349,&quot;^N&quot;,&quot;^16&quot;,536871467]],[&quot;^14&quot;,[349,&quot;^U&quot;,2,536871467]],[&quot;^14&quot;,[349,&quot;^E&quot;,348,536871467]],[&quot;^14&quot;,[349,&quot;^W&quot;,347,536871467]],[&quot;^14&quot;,[349,&quot;^T&quot;,347,536871467]],[&quot;^14&quot;,[349,&quot;^S&quot;,347,536871467]],[&quot;^14&quot;,[349,&quot;^18&quot;,2,536871467]],[&quot;^14&quot;,[349,&quot;^V&quot;,&quot;^19&quot;,536871467]],[&quot;^14&quot;,[349,&quot;^17&quot;,true,536871467]],[&quot;^14&quot;,[349,&quot;^:&quot;,&quot;~u7177aa5e-1e0b-438e-977c-49d301bd56c7&quot;,536871467]],[&quot;^14&quot;,[350,&quot;^P&quot;,&quot;\\n``` java\\n /**\\n  * 优雅地停止线程 Graceful thread stop\\n  * 1. 使用开关变量控制是否启动\\n  *\\n  * @author qiuwenke\\n  */\\n public class ThreadCloseGraceful {\\n     private static class Worker extends Thread {\\n         private volatile boolean start = true;\\n \\n         @Override\\n         public void run() {\\n             while (start) {\\n                 // ...\\n             }\\n         }\\n \\n         public void shutdown() {\\n             this.start = false;\\n           \\t//这里可以做释放资源的动作\\n         }\\n     }\\n \\n     public static void main(String[] args) throws InterruptedException {\\n         Worker worker = new Worker();\\n         worker.start();\\n \\n         Thread.sleep(10_000);\\n \\n         worker.shutdown();\\n     }\\n }\\n```&quot;,536871467]],[&quot;^14&quot;,[350,&quot;^N&quot;,&quot;^16&quot;,536871467]],[&quot;^14&quot;,[350,&quot;^E&quot;,349,536871467]],[&quot;^14&quot;,[350,&quot;^W&quot;,347,536871467]],[&quot;^14&quot;,[350,&quot;^T&quot;,347,536871467]],[&quot;^14&quot;,[350,&quot;^S&quot;,347,536871467]],[&quot;^14&quot;,[350,&quot;^17&quot;,true,536871467]],[&quot;^14&quot;,[350,&quot;^:&quot;,&quot;~uc3f90494-a92a-4d24-b582-55f265bf9793&quot;,536871467]],[&quot;^14&quot;,[351,&quot;^P&quot;,&quot;假如不调用shutdown，那么主线程结束了程序也无法结束，因为还有非deamon线程在运行。&quot;,536871467]],[&quot;^14&quot;,[351,&quot;^N&quot;,&quot;^16&quot;,536871467]],[&quot;^14&quot;,[351,&quot;^E&quot;,350,536871467]],[&quot;^14&quot;,[351,&quot;^W&quot;,347,536871467]],[&quot;^14&quot;,[351,&quot;^T&quot;,347,536871467]],[&quot;^14&quot;,[351,&quot;^S&quot;,347,536871467]],[&quot;^14&quot;,[351,&quot;^17&quot;,true,536871467]],[&quot;^14&quot;,[351,&quot;^:&quot;,&quot;~u9a53a6a0-9336-4f2f-b703-ab22308257d5&quot;,536871467]],[&quot;^14&quot;,[352,&quot;^P&quot;,&quot;## 二、使用interrup( [[10.Thread的中断机制(interrupt)]]) 方式中断线程&quot;,536871467]],[&quot;^14&quot;,[352,&quot;^N&quot;,&quot;^16&quot;,536871467]],[&quot;^14&quot;,[352,&quot;^U&quot;,2,536871467]],[&quot;^14&quot;,[352,&quot;^E&quot;,351,536871467]],[&quot;^14&quot;,[352,&quot;^W&quot;,347,536871467]],[&quot;^14&quot;,[352,&quot;^T&quot;,347,536871467]],[&quot;^14&quot;,[352,&quot;^S&quot;,296,536871467]],[&quot;^14&quot;,[352,&quot;^S&quot;,347,536871467]],[&quot;^14&quot;,[352,&quot;^G&quot;,296,536871467]],[&quot;^14&quot;,[352,&quot;^18&quot;,2,536871467]],[&quot;^14&quot;,[352,&quot;^V&quot;,&quot;^19&quot;,536871467]],[&quot;^14&quot;,[352,&quot;^17&quot;,true,536871467]],[&quot;^14&quot;,[352,&quot;^:&quot;,&quot;~u66608b87-c1e3-45aa-b46f-40e28ad6152a&quot;,536871467]],[&quot;^14&quot;,[353,&quot;^P&quot;,&quot;\\n``` java\\n /**\\n  * 优雅地停止线程 Graceful thread stop\\n  * 2. 通过interrupted的方式实现\\n  * @author qiuwenke\\n  */\\n public class ThreadCloseGraceful2 {\\n     private static class Worker extends Thread {\\n         @Override\\n         public void run() {\\n             while (true) {\\n                 // 1. sleep()\\n                 /*try {\\n                     Thread.sleep(1);\\n                 } catch (InterruptedException e) {\\n                     break;// return;\\n                 }*/\\n \\n                 // 2. if\\n                 if (Thread.interrupted()) {\\n                     break;// return;\\n                 }\\n             }\\n             // ... catch中使用break;可以在while()后执行其他操作\\n             System.out.println(\\&quot;break after while\\&quot;);\\n         }\\n     }\\n \\n     public static void main(String[] args) throws InterruptedException {\\n         Worker worker = new Worker();\\n         worker.start();\\n         Thread.sleep(10_00);\\n         worker.interrupt();\\n     }\\n }\\n //console\\n break after while\\n```&quot;,536871467]],[&quot;^14&quot;,[353,&quot;^N&quot;,&quot;^16&quot;,536871467]],[&quot;^14&quot;,[353,&quot;^E&quot;,352,536871467]],[&quot;^14&quot;,[353,&quot;^W&quot;,347,536871467]],[&quot;^14&quot;,[353,&quot;^T&quot;,347,536871467]],[&quot;^14&quot;,[353,&quot;^S&quot;,347,536871467]],[&quot;^14&quot;,[353,&quot;^17&quot;,true,536871467]],[&quot;^14&quot;,[353,&quot;^:&quot;,&quot;~ue313be29-d01a-43ac-a706-aadb81a5251d&quot;,536871467]],[&quot;^14&quot;,[354,&quot;^P&quot;,&quot;&quot;,536871467]],[&quot;^14&quot;,[354,&quot;^N&quot;,&quot;^16&quot;,536871467]],[&quot;^14&quot;,[354,&quot;^E&quot;,353,536871467]],[&quot;^14&quot;,[354,&quot;^W&quot;,347,536871467]],[&quot;^14&quot;,[354,&quot;^T&quot;,347,536871467]],[&quot;^14&quot;,[354,&quot;^S&quot;,347,536871467]],[&quot;^14&quot;,[354,&quot;^17&quot;,true,536871467]],[&quot;^14&quot;,[354,&quot;^:&quot;,&quot;~u31b538da-93b2-4107-85dd-d8086d637825&quot;,536871467]],[&quot;^14&quot;,[355,&quot;^P&quot;,&quot;## 三、强制结束线程&quot;,536871467]],[&quot;^14&quot;,[355,&quot;^N&quot;,&quot;^16&quot;,536871467]],[&quot;^14&quot;,[355,&quot;^U&quot;,2,536871467]],[&quot;^14&quot;,[355,&quot;^E&quot;,354,536871467]],[&quot;^14&quot;,[355,&quot;^W&quot;,347,536871467]],[&quot;^14&quot;,[355,&quot;^T&quot;,347,536871467]],[&quot;^14&quot;,[355,&quot;^S&quot;,347,536871467]],[&quot;^14&quot;,[355,&quot;^18&quot;,2,536871467]],[&quot;^14&quot;,[355,&quot;^V&quot;,&quot;^19&quot;,536871467]],[&quot;^14&quot;,[355,&quot;^17&quot;,true,536871467]],[&quot;^14&quot;,[355,&quot;^:&quot;,&quot;~uaa2138d3-b7dd-4609-8ff0-5ea8b227d8d9&quot;,536871467]],[&quot;^14&quot;,[356,&quot;^P&quot;,&quot;在有的情况下可能线程并没有机会去判断flag，比如一段代码需要执行30分钟。&quot;,536871467]],[&quot;^14&quot;,[356,&quot;^N&quot;,&quot;^16&quot;,536871467]],[&quot;^14&quot;,[356,&quot;^E&quot;,355,536871467]],[&quot;^14&quot;,[356,&quot;^W&quot;,347,536871467]],[&quot;^14&quot;,[356,&quot;^T&quot;,347,536871467]],[&quot;^14&quot;,[356,&quot;^S&quot;,347,536871467]],[&quot;^14&quot;,[356,&quot;^17&quot;,true,536871467]],[&quot;^14&quot;,[356,&quot;^:&quot;,&quot;~u946a1ac4-41a8-472a-9913-f4961e04e481&quot;,536871467]],[&quot;^14&quot;,[357,&quot;^P&quot;,&quot;~```java\\npublic class ThreadCloseForce {\\n    private static class Worker extends Thread {\\n        @Override\\n        public void run() {\\n            // connection or read file\\n            // 在读操作的过程中被阻塞住，线程blocked。此时没有机会打断或读flag，线程不能监听到打断操作\\n        }\\n    }\\n\\n    public static void main(String[] args) throws InterruptedException {\\n        Worker worker = new Worker();\\n        // 。。。\\n    }\\n}\\n```&quot;,536871500]],[&quot;^14&quot;,[357,&quot;^N&quot;,&quot;^16&quot;,536871467]],[&quot;^14&quot;,[357,&quot;^E&quot;,356,536871467]],[&quot;^14&quot;,[357,&quot;^W&quot;,347,536871467]],[&quot;^14&quot;,[357,&quot;^T&quot;,347,536871467]],[&quot;^14&quot;,[357,&quot;^S&quot;,347,536871500]],[&quot;^14&quot;,[357,&quot;^&gt;&quot;,[&quot;^ &quot;],536871500]],[&quot;^14&quot;,[357,&quot;^17&quot;,true,536871467]],[&quot;^14&quot;,[357,&quot;^:&quot;,&quot;~ube33af58-00da-4db6-a83f-aff36c36ea1e&quot;,536871467]],[&quot;^14&quot;,[358,&quot;^P&quot;,&quot;这里可以利用守护线程的一个特性，在执行线程中创建一个deamon线程去执行任务代码，执行线程结束，守护线程也就结束了。join [[9.Thread join()]] 的特性用于让执行线程等待deamon线程执行结束。&quot;,536871467]],[&quot;^14&quot;,[358,&quot;^N&quot;,&quot;^16&quot;,536871467]],[&quot;^14&quot;,[358,&quot;^E&quot;,357,536871467]],[&quot;^14&quot;,[358,&quot;^W&quot;,347,536871467]],[&quot;^14&quot;,[358,&quot;^T&quot;,347,536871467]],[&quot;^14&quot;,[358,&quot;^S&quot;,281,536871467]],[&quot;^14&quot;,[358,&quot;^S&quot;,347,536871467]],[&quot;^14&quot;,[358,&quot;^G&quot;,281,536871467]],[&quot;^14&quot;,[358,&quot;^17&quot;,true,536871467]],[&quot;^14&quot;,[358,&quot;^:&quot;,&quot;~uc6daa2a7-6f49-4496-a0f4-3dacc46500d1&quot;,536871467]],[&quot;^14&quot;,[359,&quot;^P&quot;,&quot;\\n``` java\\n /**\\n  * 通过小技巧实现暴力关闭线程\\n  * 思路：把任务执行线程定义为守护线程，当调用线程结束，则任务执行线程也会结束\\n  *\\n  * @author qiuwenke\\n  */\\n public class ThreadService {\\n     // 调用线程\\n     private Thread executeThread;\\n \\n     private boolean finished = false;\\n \\n     /**\\n      * 执行线程\\n      *\\n      * @param task 任务\\n      */\\n     public void execute(Runnable task) {\\n         this.executeThread = new Thread(() -&gt; {\\n             // 任务执行线程\\n             Thread runner = new Thread(task);\\n             runner.setDaemon(true);\\n \\n             runner.start();\\n \\n             try {\\n                 runner.join();\\n                 finished = true;\\n             } catch (InterruptedException e) {\\n             }\\n         });\\n         this.executeThread.start();\\n     }\\n \\n     /**\\n      * 关闭线程\\n      *\\n      * @param mills 线程最长执行时间（单位：毫秒）\\n      */\\n     public void shutdown(long mills) {\\n         long currentTime = System.currentTimeMillis();\\n       \\t//这里判断finished是为了实现线程结束后就不再执行interrupt的逻辑了\\n         while (!finished) {\\n             if (System.currentTimeMillis() - currentTime &gt;= mills) {\\n                 System.out.println(\\&quot;任务超时，需要结束线程！\\&quot;);\\n                 executeThread.interrupt();\\n                 break;\\n             }\\n             try {\\n                 Thread.sleep(1);\\n             } catch (InterruptedException e) {\\n                 System.out.println(\\&quot;执行线程被打断！\\&quot;);\\n                 break;\\n             }\\n         }\\n \\n         finished = false;\\n     }\\n }\\n \\n \\n /**\\n  * 通过小技巧实现暴力关闭线程\\n  * 思路：把任务线程设置为调用线程的守护线程，通过main来启动调用线程，从而执行任务线程。\\n  * 当需要停止线程的时候只需要中断调用线程即可，调用线程生命周期结束时，为守护线程的任务线程会自动停止。\\n  *\\n  * @author qiuwenke\\n  */\\n public class ThreadCloseForce2 {\\n     public static void main(String[] args) {\\n         ThreadService service = new ThreadService();\\n         long startTime = System.currentTimeMillis();\\n         service.execute(() -&gt; {\\n             // 1. load a very heavy resource.\\n             while (true) {\\n             }\\n \\n             /*// 2. 线程执行5s后结束\\n             try {\\n                 Thread.sleep(5_000);\\n             } catch (InterruptedException e) {\\n             }*/\\n         });\\n         service.shutdown(10_000);\\n         long endTime = System.currentTimeMillis();\\n         System.out.println(\\&quot;执行时间为：\\&quot; + (endTime - startTime));\\n     }\\n }\\n //片段1的console\\n 任务超时，需要结束线程！\\n 执行时间为：10100\\n 多出来的100毫秒是代码里面执行的逻辑耗费时间\\n //片段2的console\\n 执行时间为：5051\\n 多出来的51毫秒是代码里面执行的逻辑耗费时间\\n```&quot;,536871467]],[&quot;^14&quot;,[359,&quot;^N&quot;,&quot;^16&quot;,536871467]],[&quot;^14&quot;,[359,&quot;^E&quot;,358,536871467]],[&quot;^14&quot;,[359,&quot;^W&quot;,347,536871467]],[&quot;^14&quot;,[359,&quot;^T&quot;,347,536871467]],[&quot;^14&quot;,[359,&quot;^S&quot;,347,536871467]],[&quot;^14&quot;,[359,&quot;^17&quot;,true,536871467]],[&quot;^14&quot;,[359,&quot;^:&quot;,&quot;~ude89ee14-4a67-4041-9e0a-537a9bb72051&quot;,536871467]],[&quot;^14&quot;,[360,&quot;^P&quot;,&quot;&quot;,536871467]],[&quot;^14&quot;,[360,&quot;^N&quot;,&quot;^16&quot;,536871467]],[&quot;^14&quot;,[360,&quot;^E&quot;,359,536871467]],[&quot;^14&quot;,[360,&quot;^W&quot;,347,536871467]],[&quot;^14&quot;,[360,&quot;^T&quot;,347,536871467]],[&quot;^14&quot;,[360,&quot;^S&quot;,347,536871467]],[&quot;^14&quot;,[360,&quot;^17&quot;,true,536871467]],[&quot;^14&quot;,[360,&quot;^:&quot;,&quot;~u703d04a0-54a6-440a-abdb-349e1cf63d63&quot;,536871467]],[&quot;^14&quot;,[361,&quot;^P&quot;,&quot;&quot;,536871467]],[&quot;^14&quot;,[361,&quot;^N&quot;,&quot;^16&quot;,536871467]],[&quot;^14&quot;,[361,&quot;^E&quot;,360,536871467]],[&quot;^14&quot;,[361,&quot;^W&quot;,347,536871467]],[&quot;^14&quot;,[361,&quot;^T&quot;,347,536871467]],[&quot;^14&quot;,[361,&quot;^S&quot;,347,536871467]],[&quot;^14&quot;,[361,&quot;^17&quot;,true,536871467]],[&quot;^14&quot;,[361,&quot;^:&quot;,&quot;~ue56fe10f-645a-42d9-89e3-188892bc2081&quot;,536871467]],[&quot;^14&quot;,[362,&quot;^P&quot;,&quot;&quot;,536871467]],[&quot;^14&quot;,[362,&quot;^N&quot;,&quot;^16&quot;,536871467]],[&quot;^14&quot;,[362,&quot;^E&quot;,361,536871467]],[&quot;^14&quot;,[362,&quot;^W&quot;,347,536871467]],[&quot;^14&quot;,[362,&quot;^T&quot;,347,536871467]],[&quot;^14&quot;,[362,&quot;^S&quot;,347,536871467]],[&quot;^14&quot;,[362,&quot;^17&quot;,true,536871467]],[&quot;^14&quot;,[362,&quot;^:&quot;,&quot;~ueea714b4-51ec-47d7-8f6d-7793a9a65f08&quot;,536871467]],[&quot;^14&quot;,[363,&quot;^P&quot;,&quot;&quot;,536871467]],[&quot;^14&quot;,[363,&quot;^N&quot;,&quot;^16&quot;,536871467]],[&quot;^14&quot;,[363,&quot;^E&quot;,362,536871467]],[&quot;^14&quot;,[363,&quot;^W&quot;,347,536871467]],[&quot;^14&quot;,[363,&quot;^T&quot;,347,536871467]],[&quot;^14&quot;,[363,&quot;^S&quot;,347,536871467]],[&quot;^14&quot;,[363,&quot;^17&quot;,true,536871467]],[&quot;^14&quot;,[363,&quot;^:&quot;,&quot;~ud389b3c6-634e-4acb-b469-84ca467d55da&quot;,536871467]],[&quot;^14&quot;,[367,&quot;^11&quot;,1,536871484]],[&quot;^14&quot;,[368,&quot;^P&quot;,&quot;&quot;,536871486]],[&quot;^14&quot;,[368,&quot;^N&quot;,&quot;^16&quot;,536871486]],[&quot;^14&quot;,[368,&quot;^?&quot;,false,536871486]],[&quot;^14&quot;,[368,&quot;^E&quot;,363,536871486]],[&quot;^14&quot;,[368,&quot;^W&quot;,347,536871486]],[&quot;^14&quot;,[368,&quot;^T&quot;,347,536871486]],[&quot;^14&quot;,[368,&quot;^&gt;&quot;,[&quot;^ &quot;],536871486]],[&quot;^14&quot;,[368,&quot;^17&quot;,true,536871486]],[&quot;^14&quot;,[368,&quot;^:&quot;,&quot;~u62753eac-ab88-42ec-b003-355168006916&quot;,536871486]],[&quot;^14&quot;,[370,&quot;^P&quot;,&quot;&quot;,536871503]],[&quot;^14&quot;,[370,&quot;^N&quot;,&quot;^16&quot;,536871503]],[&quot;^14&quot;,[370,&quot;^?&quot;,false,536871503]],[&quot;^14&quot;,[370,&quot;^E&quot;,293,536871503]],[&quot;^14&quot;,[370,&quot;^W&quot;,281,536871503]],[&quot;^14&quot;,[370,&quot;^T&quot;,281,536871503]],[&quot;^14&quot;,[370,&quot;^&gt;&quot;,[&quot;^ &quot;],536871503]],[&quot;^14&quot;,[370,&quot;^17&quot;,true,536871503]],[&quot;^14&quot;,[370,&quot;^:&quot;,&quot;~u62753eeb-a9a6-4f93-bd65-cdd203d9684b&quot;,536871503]],[&quot;^14&quot;,[371,&quot;^P&quot;,&quot;&quot;,536871507]],[&quot;^14&quot;,[371,&quot;^N&quot;,&quot;^16&quot;,536871507]],[&quot;^14&quot;,[371,&quot;^?&quot;,false,536871507]],[&quot;^14&quot;,[371,&quot;^E&quot;,368,536871507]],[&quot;^14&quot;,[371,&quot;^W&quot;,347,536871507]],[&quot;^14&quot;,[371,&quot;^T&quot;,347,536871507]],[&quot;^14&quot;,[371,&quot;^&gt;&quot;,[&quot;^ &quot;],536871507]],[&quot;^14&quot;,[371,&quot;^17&quot;,true,536871507]],[&quot;^14&quot;,[371,&quot;^:&quot;,&quot;~u62753ef2-ca66-46ce-b2e9-006c7841dacc&quot;,536871507]],[&quot;^14&quot;,[372,&quot;^P&quot;,&quot;&quot;,536871511]],[&quot;^14&quot;,[372,&quot;^N&quot;,&quot;^16&quot;,536871511]],[&quot;^14&quot;,[372,&quot;^?&quot;,false,536871511]],[&quot;^14&quot;,[372,&quot;^E&quot;,370,536871511]],[&quot;^14&quot;,[372,&quot;^W&quot;,281,536871511]],[&quot;^14&quot;,[372,&quot;^T&quot;,281,536871511]],[&quot;^14&quot;,[372,&quot;^&gt;&quot;,[&quot;^ &quot;],536871511]],[&quot;^14&quot;,[372,&quot;^17&quot;,true,536871511]],[&quot;^14&quot;,[372,&quot;^:&quot;,&quot;~u62753ef4-5e71-4ea5-a23f-0527231bfe3b&quot;,536871511]],[&quot;^14&quot;,[373,&quot;^P&quot;,&quot;[[12.synchronized]]&quot;,536871523]],[&quot;^14&quot;,[373,&quot;^N&quot;,&quot;^16&quot;,536871514]],[&quot;^14&quot;,[373,&quot;^?&quot;,true,536871514]],[&quot;^14&quot;,[373,&quot;^E&quot;,346,536871514]],[&quot;^14&quot;,[373,&quot;^W&quot;,17,536871514]],[&quot;^14&quot;,[373,&quot;^T&quot;,17,536871514]],[&quot;^14&quot;,[373,&quot;^S&quot;,17,536871523]],[&quot;^14&quot;,[373,&quot;^S&quot;,374,536871523]],[&quot;^14&quot;,[373,&quot;^&gt;&quot;,[&quot;^ &quot;],536871523]],[&quot;^14&quot;,[373,&quot;^G&quot;,374,536871523]],[&quot;^14&quot;,[373,&quot;^17&quot;,true,536871514]],[&quot;^14&quot;,[373,&quot;^:&quot;,&quot;~u62753f02-21e2-40c5-bc5b-d0ae13ec31e7&quot;,536871514]],[&quot;^14&quot;,[374,&quot;^J&quot;,1651851022435,536871523]],[&quot;^14&quot;,[374,&quot;^?&quot;,false,536871523]],[&quot;^14&quot;,[374,&quot;^X&quot;,&quot;12.synchronized&quot;,536871523]],[&quot;^14&quot;,[374,&quot;^10&quot;,&quot;12.synchronized&quot;,536871523]],[&quot;^14&quot;,[374,&quot;^A&quot;,1651917594644,536871941]],[&quot;^14&quot;,[374,&quot;^:&quot;,&quot;~u62753f0e-b1bc-4b73-b387-d3c005d706f4&quot;,536871523]],[&quot;^14&quot;,[375,&quot;^P&quot;,&quot;首先由一段代码引出问题&quot;,536871528]],[&quot;^14&quot;,[375,&quot;^N&quot;,&quot;^16&quot;,536871526]],[&quot;^14&quot;,[375,&quot;^?&quot;,false,536871526]],[&quot;^14&quot;,[375,&quot;^E&quot;,374,536871526]],[&quot;^14&quot;,[375,&quot;^W&quot;,374,536871526]],[&quot;^14&quot;,[375,&quot;^T&quot;,374,536871526]],[&quot;^14&quot;,[375,&quot;^S&quot;,374,536871528]],[&quot;^14&quot;,[375,&quot;^&gt;&quot;,[&quot;^ &quot;],536871528]],[&quot;^14&quot;,[375,&quot;^17&quot;,true,536871526]],[&quot;^14&quot;,[375,&quot;^:&quot;,&quot;~u62753f0f-cbc0-4f96-9d1d-d636e1e76090&quot;,536871526]],[&quot;^14&quot;,[376,&quot;^P&quot;,&quot;\\n``` java\\n public class BankRunnable {\\n     public static void main(String[] args) {\\n         // 一个runnable实例被多个线程共享\\n         TicketWindowRunnable ticketWindow = new TicketWindowRunnable();\\n \\n         Thread windowThread1 = new Thread(ticketWindow, \\&quot;一号窗口\\&quot;);\\n         Thread windowThread2 = new Thread(ticketWindow, \\&quot;二号窗口\\&quot;);\\n         Thread windowThread3 = new Thread(ticketWindow, \\&quot;三号窗口\\&quot;);\\n         windowThread1.start();\\n         windowThread2.start();\\n         windowThread3.start();\\n     }\\n }\\n \\n public class TicketWindowRunnable implements Runnable {\\n     private int index = 1;\\n     private static final int MAX = 500;\\n \\n     private final Object MONITOR = new Object();\\n \\n     @Override\\n     public void run() {\\n         while (true) {\\n             if (index &gt; MAX) {\\n                 break;\\n             }\\n             try {\\n                 Thread.sleep(5);\\n             } catch (InterruptedException e) {\\n                 e.printStackTrace();\\n             }\\n \\n             System.out.println(Thread.currentThread().getName() + \\&quot; 的号码是：\\&quot; + (index++));\\n         }\\n     }\\n }\\n \\n //console\\n ............\\n 二号窗口 的号码是：499\\n 三号窗口 的号码是：500\\n 二号窗口 的号码是：501\\n 一号窗口 的号码是：502\\n \\n```&quot;,536871528]],[&quot;^14&quot;,[376,&quot;^N&quot;,&quot;^16&quot;,536871528]],[&quot;^14&quot;,[376,&quot;^E&quot;,375,536871528]],[&quot;^14&quot;,[376,&quot;^W&quot;,374,536871528]],[&quot;^14&quot;,[376,&quot;^T&quot;,374,536871528]],[&quot;^14&quot;,[376,&quot;^S&quot;,374,536871528]],[&quot;^14&quot;,[376,&quot;^17&quot;,true,536871528]],[&quot;^14&quot;,[376,&quot;^:&quot;,&quot;~uec56f834-4792-4b5b-9ea9-a5bbb1b6eca4&quot;,536871528]],[&quot;^14&quot;,[377,&quot;^P&quot;,&quot;多运行几次就可以发现输出的结果不是预期的500&quot;,536871528]],[&quot;^14&quot;,[377,&quot;^N&quot;,&quot;^16&quot;,536871528]],[&quot;^14&quot;,[377,&quot;^E&quot;,376,536871528]],[&quot;^14&quot;,[377,&quot;^W&quot;,374,536871528]],[&quot;^14&quot;,[377,&quot;^T&quot;,374,536871528]],[&quot;^14&quot;,[377,&quot;^S&quot;,374,536871528]],[&quot;^14&quot;,[377,&quot;^17&quot;,true,536871528]],[&quot;^14&quot;,[377,&quot;^:&quot;,&quot;~ubea36863-1311-4095-9118-3f9c287563d7&quot;,536871528]],[&quot;^14&quot;,[378,&quot;^P&quot;,&quot;![image.png](../assets/image_1651851049252_0.png)&quot;,536871543]],[&quot;^14&quot;,[378,&quot;^N&quot;,&quot;^16&quot;,536871528]],[&quot;^14&quot;,[378,&quot;^E&quot;,377,536871528]],[&quot;^14&quot;,[378,&quot;^W&quot;,374,536871528]],[&quot;^14&quot;,[378,&quot;^T&quot;,374,536871528]],[&quot;^14&quot;,[378,&quot;^S&quot;,374,536871543]],[&quot;^14&quot;,[378,&quot;^&gt;&quot;,[&quot;^ &quot;],536871543]],[&quot;^14&quot;,[378,&quot;^17&quot;,true,536871528]],[&quot;^14&quot;,[378,&quot;^:&quot;,&quot;~ucadfa7fc-1cef-4e84-b06f-f41bd9623a80&quot;,536871528]],[&quot;^14&quot;,[379,&quot;^P&quot;,&quot;所以这里就出现了线程安全问题，可以使用同步代码块的方式解决，例如：&quot;,536871528]],[&quot;^14&quot;,[379,&quot;^N&quot;,&quot;^16&quot;,536871528]],[&quot;^14&quot;,[379,&quot;^E&quot;,378,536871528]],[&quot;^14&quot;,[379,&quot;^W&quot;,374,536871528]],[&quot;^14&quot;,[379,&quot;^T&quot;,374,536871528]],[&quot;^14&quot;,[379,&quot;^S&quot;,374,536871528]],[&quot;^14&quot;,[379,&quot;^17&quot;,true,536871528]],[&quot;^14&quot;,[379,&quot;^:&quot;,&quot;~uef9a93fe-06a3-4cd4-b258-2f1472c86179&quot;,536871528]],[&quot;^14&quot;,[380,&quot;^P&quot;,&quot;\\n``` java\\n public class TicketWindowRunnable implements Runnable {\\n     private int index = 1;\\n     private static final int MAX = 500;\\n \\n     private final Object MONITOR = new Object();\\n \\n     @Override\\n     public void run() {\\n         while (true) {\\n             // 单线程运行synchronized代码块里边的内容\\n             synchronized (MONITOR) {\\n                 if (index &gt; MAX) {\\n                     break;\\n                 }\\n                 try {\\n                     Thread.sleep(5);\\n                 } catch (InterruptedException e) {\\n                     e.printStackTrace();\\n                 }\\n                 System.out.println(Thread.currentThread().getName() + \\&quot; 的号码是：\\&quot; + (index++));\\n             }\\n         }\\n     }\\n }\\n \\n```&quot;,536871528]],[&quot;^14&quot;,[380,&quot;^N&quot;,&quot;^16&quot;,536871528]],[&quot;^14&quot;,[380,&quot;^E&quot;,379,536871528]],[&quot;^14&quot;,[380,&quot;^W&quot;,374,536871528]],[&quot;^14&quot;,[380,&quot;^T&quot;,374,536871528]],[&quot;^14&quot;,[380,&quot;^S&quot;,374,536871528]],[&quot;^14&quot;,[380,&quot;^17&quot;,true,536871528]],[&quot;^14&quot;,[380,&quot;^:&quot;,&quot;~u8395d052-eccf-4b96-8775-b27deefed0d3&quot;,536871528]],[&quot;^14&quot;,[386,&quot;^11&quot;,1,536871549]],[&quot;^14&quot;,[387,&quot;^P&quot;,&quot;[[收藏文章]]&quot;,536871566]],[&quot;^14&quot;,[387,&quot;^N&quot;,&quot;^16&quot;,536871551]],[&quot;^14&quot;,[387,&quot;^?&quot;,true,536871551]],[&quot;^14&quot;,[387,&quot;^E&quot;,373,536871551]],[&quot;^14&quot;,[387,&quot;^W&quot;,17,536871551]],[&quot;^14&quot;,[387,&quot;^T&quot;,17,536871551]],[&quot;^14&quot;,[387,&quot;^S&quot;,17,536871566]],[&quot;^14&quot;,[387,&quot;^S&quot;,391,536871566]],[&quot;^14&quot;,[387,&quot;^&gt;&quot;,[&quot;^ &quot;],536871566]],[&quot;^14&quot;,[387,&quot;^G&quot;,391,536871566]],[&quot;^14&quot;,[387,&quot;^17&quot;,true,536871551]],[&quot;^14&quot;,[387,&quot;^:&quot;,&quot;~u62753f76-ff84-4563-bf2d-dd3a17e2d123&quot;,536871551]],[&quot;^14&quot;,[389,&quot;^P&quot;,&quot;&quot;,536871560]],[&quot;^14&quot;,[389,&quot;^N&quot;,&quot;^16&quot;,536871560]],[&quot;^14&quot;,[389,&quot;^?&quot;,false,536871560]],[&quot;^14&quot;,[389,&quot;^E&quot;,371,536871560]],[&quot;^14&quot;,[389,&quot;^W&quot;,347,536871560]],[&quot;^14&quot;,[389,&quot;^T&quot;,347,536871560]],[&quot;^14&quot;,[389,&quot;^&gt;&quot;,[&quot;^ &quot;],536871560]],[&quot;^14&quot;,[389,&quot;^17&quot;,true,536871560]],[&quot;^14&quot;,[389,&quot;^:&quot;,&quot;~u62753f7d-dead-4909-aa03-2090d13ccc0e&quot;,536871560]],[&quot;^14&quot;,[391,&quot;^J&quot;,1651851139848,536871566]],[&quot;^14&quot;,[391,&quot;^?&quot;,false,536871566]],[&quot;^14&quot;,[391,&quot;^X&quot;,&quot;收藏文章&quot;,536871566]],[&quot;^14&quot;,[391,&quot;^10&quot;,&quot;收藏文章&quot;,536871566]],[&quot;^14&quot;,[391,&quot;^A&quot;,1651854216864,536871855]],[&quot;^14&quot;,[391,&quot;^:&quot;,&quot;~u62753f83-166d-4c7f-9a23-816c02fe429e&quot;,536871566]],[&quot;^14&quot;,[392,&quot;^P&quot;,&quot;JVM相关&quot;,536871571]],[&quot;^14&quot;,[392,&quot;^N&quot;,&quot;^16&quot;,536871569]],[&quot;^14&quot;,[392,&quot;^?&quot;,false,536871569]],[&quot;^14&quot;,[392,&quot;^E&quot;,391,536871569]],[&quot;^14&quot;,[392,&quot;^W&quot;,391,536871569]],[&quot;^14&quot;,[392,&quot;^T&quot;,391,536871569]],[&quot;^14&quot;,[392,&quot;^S&quot;,391,536871571]],[&quot;^14&quot;,[392,&quot;^&gt;&quot;,[&quot;^ &quot;],536871571]],[&quot;^14&quot;,[392,&quot;^17&quot;,true,536871569]],[&quot;^14&quot;,[392,&quot;^:&quot;,&quot;~u62753f84-04af-46e3-a22e-c89039a60482&quot;,536871569]],[&quot;^14&quot;,[393,&quot;^P&quot;,&quot;https://medium.com/platform-engineer/understanding-java-memory-model-1d0863f6d973&quot;,536871571]],[&quot;^14&quot;,[393,&quot;^N&quot;,&quot;^16&quot;,536871571]],[&quot;^14&quot;,[393,&quot;^E&quot;,392,536871571]],[&quot;^14&quot;,[393,&quot;^W&quot;,391,536871571]],[&quot;^14&quot;,[393,&quot;^T&quot;,391,536871571]],[&quot;^14&quot;,[393,&quot;^S&quot;,391,536871571]],[&quot;^14&quot;,[393,&quot;^17&quot;,true,536871571]],[&quot;^14&quot;,[393,&quot;^:&quot;,&quot;~uf89c6003-7580-4635-a015-c0e9da4cee65&quot;,536871571]],[&quot;^14&quot;,[394,&quot;^P&quot;,&quot;https://www.scientecheasy.com/2020/08/life-cycle-of-thread-in-java.html/&quot;,536871571]],[&quot;^14&quot;,[394,&quot;^N&quot;,&quot;^16&quot;,536871571]],[&quot;^14&quot;,[394,&quot;^E&quot;,393,536871571]],[&quot;^14&quot;,[394,&quot;^W&quot;,391,536871571]],[&quot;^14&quot;,[394,&quot;^T&quot;,391,536871571]],[&quot;^14&quot;,[394,&quot;^S&quot;,391,536871571]],[&quot;^14&quot;,[394,&quot;^17&quot;,true,536871571]],[&quot;^14&quot;,[394,&quot;^:&quot;,&quot;~ue161f329-84e4-4147-a712-4ffada0647e4&quot;,536871571]],[&quot;^14&quot;,[395,&quot;^P&quot;,&quot;&quot;,536871571]],[&quot;^14&quot;,[395,&quot;^N&quot;,&quot;^16&quot;,536871571]],[&quot;^14&quot;,[395,&quot;^E&quot;,394,536871571]],[&quot;^14&quot;,[395,&quot;^W&quot;,391,536871571]],[&quot;^14&quot;,[395,&quot;^T&quot;,391,536871571]],[&quot;^14&quot;,[395,&quot;^S&quot;,391,536871571]],[&quot;^14&quot;,[395,&quot;^17&quot;,true,536871571]],[&quot;^14&quot;,[395,&quot;^:&quot;,&quot;~ue9f88a19-cf4f-4e7d-a7f8-01781b87c2ac&quot;,536871571]],[&quot;^14&quot;,[396,&quot;^P&quot;,&quot;TODO https://www.bilibili.com/video/BV1sb4y197Fp?p=6&quot;,536871571]],[&quot;^14&quot;,[396,&quot;^N&quot;,&quot;^16&quot;,536871571]],[&quot;^14&quot;,[396,&quot;^E&quot;,395,536871571]],[&quot;^14&quot;,[396,&quot;^[&quot;,&quot;TODO&quot;,536871571]],[&quot;^14&quot;,[396,&quot;^W&quot;,391,536871571]],[&quot;^14&quot;,[396,&quot;^T&quot;,391,536871571]],[&quot;^14&quot;,[396,&quot;^S&quot;,3,536871571]],[&quot;^14&quot;,[396,&quot;^S&quot;,391,536871571]],[&quot;^14&quot;,[396,&quot;^G&quot;,3,536871571]],[&quot;^14&quot;,[396,&quot;^17&quot;,true,536871571]],[&quot;^14&quot;,[396,&quot;^:&quot;,&quot;~u23f654db-4c80-446b-b19f-0435dfb89f05&quot;,536871571]],[&quot;^14&quot;,[397,&quot;^P&quot;,&quot;&gt;jclasslib\\n&gt;https://zhuanlan.zhihu.com/p/93910641&quot;,536871855]],[&quot;^14&quot;,[397,&quot;^N&quot;,&quot;^16&quot;,536871571]],[&quot;^14&quot;,[397,&quot;^E&quot;,396,536871571]],[&quot;^14&quot;,[397,&quot;^W&quot;,391,536871571]],[&quot;^14&quot;,[397,&quot;^T&quot;,391,536871571]],[&quot;^14&quot;,[397,&quot;^S&quot;,391,536871855]],[&quot;^14&quot;,[397,&quot;^&gt;&quot;,[&quot;^ &quot;],536871855]],[&quot;^14&quot;,[397,&quot;^17&quot;,true,536871571]],[&quot;^14&quot;,[397,&quot;^:&quot;,&quot;~u4026a14f-34e4-4a4f-8c13-85f41a5ebdf0&quot;,536871571]],[&quot;^14&quot;,[399,&quot;^P&quot;,&quot;&quot;,536871583]],[&quot;^14&quot;,[399,&quot;^N&quot;,&quot;^16&quot;,536871583]],[&quot;^14&quot;,[399,&quot;^?&quot;,false,536871583]],[&quot;^14&quot;,[399,&quot;^E&quot;,97,536871583]],[&quot;^14&quot;,[399,&quot;^W&quot;,41,536871583]],[&quot;^14&quot;,[399,&quot;^T&quot;,41,536871583]],[&quot;^14&quot;,[399,&quot;^&gt;&quot;,[&quot;^ &quot;],536871583]],[&quot;^14&quot;,[399,&quot;^17&quot;,true,536871583]],[&quot;^14&quot;,[399,&quot;^:&quot;,&quot;~u62753fae-c67a-45df-bcd3-c812a15406e1&quot;,536871583]],[&quot;^14&quot;,[400,&quot;^P&quot;,&quot;&quot;,536871584]],[&quot;^14&quot;,[400,&quot;^N&quot;,&quot;^16&quot;,536871584]],[&quot;^14&quot;,[400,&quot;^?&quot;,false,536871584]],[&quot;^14&quot;,[400,&quot;^E&quot;,399,536871584]],[&quot;^14&quot;,[400,&quot;^W&quot;,41,536871584]],[&quot;^14&quot;,[400,&quot;^T&quot;,41,536871584]],[&quot;^14&quot;,[400,&quot;^&gt;&quot;,[&quot;^ &quot;],536871584]],[&quot;^14&quot;,[400,&quot;^17&quot;,true,536871584]],[&quot;^14&quot;,[400,&quot;^:&quot;,&quot;~u62753fae-946b-4392-aaac-8d606cd5f6da&quot;,536871584]],[&quot;^14&quot;,[401,&quot;^P&quot;,&quot;[[3.线程的生命周期]]&quot;,536871590]],[&quot;^14&quot;,[401,&quot;^N&quot;,&quot;^16&quot;,536871587]],[&quot;^14&quot;,[401,&quot;^?&quot;,false,536871587]],[&quot;^14&quot;,[401,&quot;^E&quot;,30,536871587]],[&quot;^14&quot;,[401,&quot;^W&quot;,24,536871587]],[&quot;^14&quot;,[401,&quot;^T&quot;,24,536871587]],[&quot;^14&quot;,[401,&quot;^S&quot;,24,536871590]],[&quot;^14&quot;,[401,&quot;^S&quot;,99,536871590]],[&quot;^14&quot;,[401,&quot;^&gt;&quot;,[&quot;^ &quot;],536871590]],[&quot;^14&quot;,[401,&quot;^G&quot;,99,536871590]],[&quot;^14&quot;,[401,&quot;^17&quot;,true,536871587]],[&quot;^14&quot;,[401,&quot;^:&quot;,&quot;~u62753fb0-f600-437d-a323-2c13dc856bf8&quot;,536871587]],[&quot;^14&quot;,[402,&quot;^P&quot;,&quot;[[4.采用多线程模拟银行排队叫号]]&quot;,536871594]],[&quot;^14&quot;,[402,&quot;^N&quot;,&quot;^16&quot;,536871591]],[&quot;^14&quot;,[402,&quot;^?&quot;,false,536871591]],[&quot;^14&quot;,[402,&quot;^E&quot;,401,536871591]],[&quot;^14&quot;,[402,&quot;^W&quot;,24,536871591]],[&quot;^14&quot;,[402,&quot;^T&quot;,24,536871591]],[&quot;^14&quot;,[402,&quot;^S&quot;,24,536871594]],[&quot;^14&quot;,[402,&quot;^S&quot;,146,536871594]],[&quot;^14&quot;,[402,&quot;^&gt;&quot;,[&quot;^ &quot;],536871594]],[&quot;^14&quot;,[402,&quot;^G&quot;,146,536871594]],[&quot;^14&quot;,[402,&quot;^17&quot;,true,536871591]],[&quot;^14&quot;,[402,&quot;^:&quot;,&quot;~u62753fb4-6cb2-4efb-b4f3-cb58f7704142&quot;,536871591]],[&quot;^14&quot;,[403,&quot;^P&quot;,&quot;[[5.策略模式在Thread和Runnable中的应用]]&quot;,536871598]],[&quot;^14&quot;,[403,&quot;^N&quot;,&quot;^16&quot;,536871595]],[&quot;^14&quot;,[403,&quot;^?&quot;,false,536871595]],[&quot;^14&quot;,[403,&quot;^E&quot;,402,536871595]],[&quot;^14&quot;,[403,&quot;^W&quot;,24,536871595]],[&quot;^14&quot;,[403,&quot;^T&quot;,24,536871595]],[&quot;^14&quot;,[403,&quot;^S&quot;,24,536871598]],[&quot;^14&quot;,[403,&quot;^S&quot;,153,536871598]],[&quot;^14&quot;,[403,&quot;^&gt;&quot;,[&quot;^ &quot;],536871598]],[&quot;^14&quot;,[403,&quot;^G&quot;,153,536871598]],[&quot;^14&quot;,[403,&quot;^17&quot;,true,536871595]],[&quot;^14&quot;,[403,&quot;^:&quot;,&quot;~u62753fb7-e62c-4cbe-ba1a-07fd23932167&quot;,536871595]],[&quot;^14&quot;,[404,&quot;^P&quot;,&quot;[[6.关于Thread的构造函数的源码分析]]&quot;,536871602]],[&quot;^14&quot;,[404,&quot;^N&quot;,&quot;^16&quot;,536871599]],[&quot;^14&quot;,[404,&quot;^?&quot;,false,536871599]],[&quot;^14&quot;,[404,&quot;^E&quot;,403,536871599]],[&quot;^14&quot;,[404,&quot;^W&quot;,24,536871599]],[&quot;^14&quot;,[404,&quot;^T&quot;,24,536871599]],[&quot;^14&quot;,[404,&quot;^S&quot;,24,536871602]],[&quot;^14&quot;,[404,&quot;^S&quot;,161,536871602]],[&quot;^14&quot;,[404,&quot;^&gt;&quot;,[&quot;^ &quot;],536871602]],[&quot;^14&quot;,[404,&quot;^G&quot;,161,536871602]],[&quot;^14&quot;,[404,&quot;^17&quot;,true,536871599]],[&quot;^14&quot;,[404,&quot;^:&quot;,&quot;~u62753fbb-88d4-4e73-9af5-aceba256e361&quot;,536871599]],[&quot;^14&quot;,[405,&quot;^P&quot;,&quot;[[7.Daemon线程]]&quot;,536871606]],[&quot;^14&quot;,[405,&quot;^N&quot;,&quot;^16&quot;,536871603]],[&quot;^14&quot;,[405,&quot;^?&quot;,false,536871603]],[&quot;^14&quot;,[405,&quot;^E&quot;,404,536871603]],[&quot;^14&quot;,[405,&quot;^W&quot;,24,536871603]],[&quot;^14&quot;,[405,&quot;^T&quot;,24,536871603]],[&quot;^14&quot;,[405,&quot;^S&quot;,24,536871606]],[&quot;^14&quot;,[405,&quot;^S&quot;,241,536871606]],[&quot;^14&quot;,[405,&quot;^&gt;&quot;,[&quot;^ &quot;],536871606]],[&quot;^14&quot;,[405,&quot;^G&quot;,241,536871606]],[&quot;^14&quot;,[405,&quot;^17&quot;,true,536871603]],[&quot;^14&quot;,[405,&quot;^:&quot;,&quot;~u62753fbf-7a53-41bd-b0e8-711c8feb9c04&quot;,536871603]],[&quot;^14&quot;,[406,&quot;^P&quot;,&quot;[[8.线程ID、优先级]]&quot;,536871620]],[&quot;^14&quot;,[406,&quot;^N&quot;,&quot;^16&quot;,536871607]],[&quot;^14&quot;,[406,&quot;^?&quot;,false,536871607]],[&quot;^14&quot;,[406,&quot;^E&quot;,405,536871607]],[&quot;^14&quot;,[406,&quot;^W&quot;,24,536871607]],[&quot;^14&quot;,[406,&quot;^T&quot;,24,536871607]],[&quot;^14&quot;,[406,&quot;^S&quot;,24,536871620]],[&quot;^14&quot;,[406,&quot;^S&quot;,264,536871620]],[&quot;^14&quot;,[406,&quot;^&gt;&quot;,[&quot;^ &quot;],536871620]],[&quot;^14&quot;,[406,&quot;^G&quot;,264,536871620]],[&quot;^14&quot;,[406,&quot;^17&quot;,true,536871607]],[&quot;^14&quot;,[406,&quot;^:&quot;,&quot;~u62753fc2-21f3-41a8-a5f3-ad93a762fdc4&quot;,536871607]],[&quot;^14&quot;,[408,&quot;^P&quot;,&quot;[[9.Thread join()]]&quot;,536871624]],[&quot;^14&quot;,[408,&quot;^N&quot;,&quot;^16&quot;,536871621]],[&quot;^14&quot;,[408,&quot;^?&quot;,false,536871621]],[&quot;^14&quot;,[408,&quot;^E&quot;,406,536871621]],[&quot;^14&quot;,[408,&quot;^W&quot;,24,536871621]],[&quot;^14&quot;,[408,&quot;^T&quot;,24,536871621]],[&quot;^14&quot;,[408,&quot;^S&quot;,24,536871624]],[&quot;^14&quot;,[408,&quot;^S&quot;,281,536871624]],[&quot;^14&quot;,[408,&quot;^&gt;&quot;,[&quot;^ &quot;],536871624]],[&quot;^14&quot;,[408,&quot;^G&quot;,281,536871624]],[&quot;^14&quot;,[408,&quot;^17&quot;,true,536871621]],[&quot;^14&quot;,[408,&quot;^:&quot;,&quot;~u62753fc7-2393-4786-8262-18babe68fb96&quot;,536871621]],[&quot;^14&quot;,[409,&quot;^P&quot;,&quot;[[10.Thread的中断机制(interrupt)]]&quot;,536871628]],[&quot;^14&quot;,[409,&quot;^N&quot;,&quot;^16&quot;,536871625]],[&quot;^14&quot;,[409,&quot;^?&quot;,false,536871625]],[&quot;^14&quot;,[409,&quot;^E&quot;,408,536871625]],[&quot;^14&quot;,[409,&quot;^W&quot;,24,536871625]],[&quot;^14&quot;,[409,&quot;^T&quot;,24,536871625]],[&quot;^14&quot;,[409,&quot;^S&quot;,24,536871628]],[&quot;^14&quot;,[409,&quot;^S&quot;,296,536871628]],[&quot;^14&quot;,[409,&quot;^&gt;&quot;,[&quot;^ &quot;],536871628]],[&quot;^14&quot;,[409,&quot;^G&quot;,296,536871628]],[&quot;^14&quot;,[409,&quot;^17&quot;,true,536871625]],[&quot;^14&quot;,[409,&quot;^:&quot;,&quot;~u62753fcb-9b00-4987-a85f-240871f6ec92&quot;,536871625]],[&quot;^14&quot;,[410,&quot;^P&quot;,&quot;[[11.采用优雅的方式结束线程]]&quot;,536871632]],[&quot;^14&quot;,[410,&quot;^N&quot;,&quot;^16&quot;,536871629]],[&quot;^14&quot;,[410,&quot;^?&quot;,false,536871629]],[&quot;^14&quot;,[410,&quot;^E&quot;,409,536871629]],[&quot;^14&quot;,[410,&quot;^W&quot;,24,536871629]],[&quot;^14&quot;,[410,&quot;^T&quot;,24,536871629]],[&quot;^14&quot;,[410,&quot;^S&quot;,24,536871632]],[&quot;^14&quot;,[410,&quot;^S&quot;,347,536871632]],[&quot;^14&quot;,[410,&quot;^&gt;&quot;,[&quot;^ &quot;],536871632]],[&quot;^14&quot;,[410,&quot;^G&quot;,347,536871632]],[&quot;^14&quot;,[410,&quot;^17&quot;,true,536871629]],[&quot;^14&quot;,[410,&quot;^:&quot;,&quot;~u62753fce-b12f-4c8e-9311-7483cd3e7e54&quot;,536871629]],[&quot;^14&quot;,[411,&quot;^P&quot;,&quot;[[12.synchronized]]&quot;,536871636]],[&quot;^14&quot;,[411,&quot;^N&quot;,&quot;^16&quot;,536871633]],[&quot;^14&quot;,[411,&quot;^?&quot;,false,536871633]],[&quot;^14&quot;,[411,&quot;^E&quot;,410,536871633]],[&quot;^14&quot;,[411,&quot;^W&quot;,24,536871633]],[&quot;^14&quot;,[411,&quot;^T&quot;,24,536871633]],[&quot;^14&quot;,[411,&quot;^S&quot;,24,536871636]],[&quot;^14&quot;,[411,&quot;^S&quot;,374,536871636]],[&quot;^14&quot;,[411,&quot;^&gt;&quot;,[&quot;^ &quot;],536871636]],[&quot;^14&quot;,[411,&quot;^G&quot;,374,536871636]],[&quot;^14&quot;,[411,&quot;^17&quot;,true,536871633]],[&quot;^14&quot;,[411,&quot;^:&quot;,&quot;~u62753fd1-6011-4ee5-b89d-1aa0ba747492&quot;,536871633]],[&quot;^14&quot;,[412,&quot;^P&quot;,&quot;&quot;,536871644]],[&quot;^14&quot;,[412,&quot;^N&quot;,&quot;^16&quot;,536871644]],[&quot;^14&quot;,[412,&quot;^?&quot;,false,536871644]],[&quot;^14&quot;,[412,&quot;^E&quot;,235,536871644]],[&quot;^14&quot;,[412,&quot;^W&quot;,161,536871644]],[&quot;^14&quot;,[412,&quot;^T&quot;,161,536871644]],[&quot;^14&quot;,[412,&quot;^&gt;&quot;,[&quot;^ &quot;],536871644]],[&quot;^14&quot;,[412,&quot;^17&quot;,true,536871644]],[&quot;^14&quot;,[412,&quot;^:&quot;,&quot;~u62753fe2-afed-44c2-9c02-2fbab6e66403&quot;,536871644]],[&quot;^14&quot;,[413,&quot;^P&quot;,&quot;&quot;,536871647]],[&quot;^14&quot;,[413,&quot;^N&quot;,&quot;^16&quot;,536871647]],[&quot;^14&quot;,[413,&quot;^?&quot;,false,536871647]],[&quot;^14&quot;,[413,&quot;^E&quot;,13,536871647]],[&quot;^14&quot;,[413,&quot;^W&quot;,13,536871647]],[&quot;^14&quot;,[413,&quot;^T&quot;,13,536871647]],[&quot;^14&quot;,[413,&quot;^&gt;&quot;,[&quot;^ &quot;],536871647]],[&quot;^14&quot;,[413,&quot;^17&quot;,true,536871647]],[&quot;^14&quot;,[413,&quot;^:&quot;,&quot;~u62753ff6-1db2-4c55-baec-c1a5be16ffa9&quot;,536871647]],[&quot;^14&quot;,[415,&quot;^11&quot;,1,536871651]],[&quot;^14&quot;,[416,&quot;^J&quot;,1651853493037,536871652]],[&quot;^14&quot;,[416,&quot;^N&quot;,&quot;^16&quot;,536871652]],[&quot;^14&quot;,[416,&quot;^M&quot;,20220507,536871652]],[&quot;^14&quot;,[416,&quot;^?&quot;,true,536871652]],[&quot;^14&quot;,[416,&quot;^X&quot;,&quot;may 7th, 2022&quot;,536871652]],[&quot;^14&quot;,[416,&quot;^10&quot;,&quot;May 7th, 2022&quot;,536871652]],[&quot;^14&quot;,[416,&quot;^A&quot;,1651927864002,536872261]],[&quot;^14&quot;,[416,&quot;^:&quot;,&quot;~u627548b5-fa7d-4eac-854f-5b8b95aec0ad&quot;,536871652]],[&quot;^14&quot;,[417,&quot;^P&quot;,&quot;[[13. 同步代码块和同步方法的区别]]&quot;,536871959]],[&quot;^14&quot;,[417,&quot;^N&quot;,&quot;^16&quot;,536871653]],[&quot;^14&quot;,[417,&quot;^M&quot;,20220507,536871653]],[&quot;^14&quot;,[417,&quot;^?&quot;,true,536871653]],[&quot;^14&quot;,[417,&quot;^E&quot;,416,536871653]],[&quot;^14&quot;,[417,&quot;^W&quot;,416,536871653]],[&quot;^14&quot;,[417,&quot;^T&quot;,416,536871653]],[&quot;^14&quot;,[417,&quot;^S&quot;,416,536871959]],[&quot;^14&quot;,[417,&quot;^S&quot;,441,536871959]],[&quot;^14&quot;,[417,&quot;^&gt;&quot;,[&quot;^ &quot;],536871959]],[&quot;^14&quot;,[417,&quot;^G&quot;,441,536871959]],[&quot;^14&quot;,[417,&quot;^17&quot;,true,536871653]],[&quot;^14&quot;,[417,&quot;^:&quot;,&quot;~u627548b5-be43-44e7-94c0-c27daf6b3a82&quot;,536871653]],[&quot;^14&quot;,[418,&quot;^P&quot;,&quot;&quot;,536871655]],[&quot;^14&quot;,[418,&quot;^N&quot;,&quot;^16&quot;,536871655]],[&quot;^14&quot;,[418,&quot;^M&quot;,20220507,536871655]],[&quot;^14&quot;,[418,&quot;^?&quot;,true,536871655]],[&quot;^14&quot;,[418,&quot;^E&quot;,440,536871953]],[&quot;^14&quot;,[418,&quot;^W&quot;,416,536871655]],[&quot;^14&quot;,[418,&quot;^T&quot;,416,536871655]],[&quot;^14&quot;,[418,&quot;^&gt;&quot;,[&quot;^ &quot;],536871655]],[&quot;^14&quot;,[418,&quot;^17&quot;,true,536871655]],[&quot;^14&quot;,[418,&quot;^:&quot;,&quot;~u627548ca-f8b9-49ac-b523-d3ea17583d35&quot;,536871655]],[&quot;^14&quot;,[420,&quot;^P&quot;,&quot;## 结合jconsole,jstack以及汇编指令认识synchronized关键字&quot;,536871678]],[&quot;^14&quot;,[420,&quot;^N&quot;,&quot;^16&quot;,536871671]],[&quot;^14&quot;,[420,&quot;^U&quot;,2,536871678]],[&quot;^14&quot;,[420,&quot;^?&quot;,false,536871671]],[&quot;^14&quot;,[420,&quot;^E&quot;,380,536871671]],[&quot;^14&quot;,[420,&quot;^W&quot;,374,536871671]],[&quot;^14&quot;,[420,&quot;^T&quot;,374,536871671]],[&quot;^14&quot;,[420,&quot;^S&quot;,374,536871678]],[&quot;^14&quot;,[420,&quot;^&gt;&quot;,[&quot;^ &quot;],536871678]],[&quot;^14&quot;,[420,&quot;^18&quot;,2,536871678]],[&quot;^14&quot;,[420,&quot;^V&quot;,&quot;^19&quot;,536871678]],[&quot;^14&quot;,[420,&quot;^17&quot;,true,536871671]],[&quot;^14&quot;,[420,&quot;^:&quot;,&quot;~u627548d1-7d75-42df-8f22-cb680b68f44f&quot;,536871671]],[&quot;^14&quot;,[421,&quot;^P&quot;,&quot;~```java\\npublic class SynchronizedTest {\\n    private static final Object LOCK = new Object();\\n\\n    public static void main(String[] args) {\\n\\n        // 任务\\n        Runnable runnable = () -&gt; {\\n            synchronized (LOCK) {\\n                try {\\n                    Thread.sleep(500_000);\\n                } catch (InterruptedException e) {\\n                    e.printStackTrace();\\n                }\\n            }\\n        };\\n\\n        // 创建并启动线程\\n        Thread t1 = new Thread(runnable);\\n        Thread t2 = new Thread(runnable);\\n        Thread t3 = new Thread(runnable);\\n        t1.start();\\n        t2.start();\\n        t3.start();\\n    }\\n}\\n\\n```&quot;,536871691]],[&quot;^14&quot;,[421,&quot;^N&quot;,&quot;^16&quot;,536871679]],[&quot;^14&quot;,[421,&quot;^?&quot;,false,536871679]],[&quot;^14&quot;,[421,&quot;^E&quot;,420,536871679]],[&quot;^14&quot;,[421,&quot;^W&quot;,374,536871679]],[&quot;^14&quot;,[421,&quot;^T&quot;,374,536871679]],[&quot;^14&quot;,[421,&quot;^S&quot;,374,536871691]],[&quot;^14&quot;,[421,&quot;^&gt;&quot;,[&quot;^ &quot;],536871691]],[&quot;^14&quot;,[421,&quot;^17&quot;,true,536871679]],[&quot;^14&quot;,[421,&quot;^:&quot;,&quot;~u627548da-b960-4687-a88b-cba461252e2a&quot;,536871679]],[&quot;^14&quot;,[422,&quot;^P&quot;,&quot;![image.png](../assets/image_1651853649117_0.png)&quot;,536871697]],[&quot;^14&quot;,[422,&quot;^N&quot;,&quot;^16&quot;,536871694]],[&quot;^14&quot;,[422,&quot;^?&quot;,false,536871694]],[&quot;^14&quot;,[422,&quot;^E&quot;,421,536871694]],[&quot;^14&quot;,[422,&quot;^W&quot;,374,536871694]],[&quot;^14&quot;,[422,&quot;^T&quot;,374,536871694]],[&quot;^14&quot;,[422,&quot;^S&quot;,374,536871697]],[&quot;^14&quot;,[422,&quot;^&gt;&quot;,[&quot;^ &quot;],536871697]],[&quot;^14&quot;,[422,&quot;^17&quot;,true,536871694]],[&quot;^14&quot;,[422,&quot;^:&quot;,&quot;~u627548ff-5ee7-4a8c-a8ea-a370c6604f54&quot;,536871694]],[&quot;^14&quot;,[423,&quot;^P&quot;,&quot;可以看到Thread-0抢到了锁，处于TIMED_WAITING状态，Thread-1和Thread-2处于BLOCKED状态&quot;,536871778]],[&quot;^14&quot;,[423,&quot;^N&quot;,&quot;^16&quot;,536871700]],[&quot;^14&quot;,[423,&quot;^?&quot;,false,536871700]],[&quot;^14&quot;,[423,&quot;^E&quot;,422,536871700]],[&quot;^14&quot;,[423,&quot;^W&quot;,374,536871700]],[&quot;^14&quot;,[423,&quot;^T&quot;,374,536871700]],[&quot;^14&quot;,[423,&quot;^S&quot;,374,536871778]],[&quot;^14&quot;,[423,&quot;^&gt;&quot;,[&quot;^ &quot;],536871778]],[&quot;^14&quot;,[423,&quot;^17&quot;,true,536871700]],[&quot;^14&quot;,[423,&quot;^:&quot;,&quot;~u62754954-a1f2-4733-935e-8076bc763e5d&quot;,536871700]],[&quot;^14&quot;,[425,&quot;^11&quot;,1,536871712]],[&quot;^14&quot;,[426,&quot;^P&quot;,&quot;![image.png](../assets/image_1651853872609_0.png)&quot;,536871784]],[&quot;^14&quot;,[426,&quot;^N&quot;,&quot;^16&quot;,536871714]],[&quot;^14&quot;,[426,&quot;^?&quot;,false,536871714]],[&quot;^14&quot;,[426,&quot;^E&quot;,423,536871714]],[&quot;^14&quot;,[426,&quot;^W&quot;,374,536871714]],[&quot;^14&quot;,[426,&quot;^T&quot;,374,536871714]],[&quot;^14&quot;,[426,&quot;^S&quot;,374,536871784]],[&quot;^14&quot;,[426,&quot;^&gt;&quot;,[&quot;^ &quot;],536871784]],[&quot;^14&quot;,[426,&quot;^17&quot;,true,536871714]],[&quot;^14&quot;,[426,&quot;^:&quot;,&quot;~u627549da-4ab7-4462-9374-766341745d00&quot;,536871714]],[&quot;^14&quot;,[427,&quot;^P&quot;,&quot;![image.png](../assets/image_1651853884849_0.png)&quot;,536871787]],[&quot;^14&quot;,[427,&quot;^N&quot;,&quot;^16&quot;,536871781]],[&quot;^14&quot;,[427,&quot;^?&quot;,false,536871781]],[&quot;^14&quot;,[427,&quot;^E&quot;,426,536871781]],[&quot;^14&quot;,[427,&quot;^W&quot;,374,536871781]],[&quot;^14&quot;,[427,&quot;^T&quot;,374,536871781]],[&quot;^14&quot;,[427,&quot;^S&quot;,374,536871787]],[&quot;^14&quot;,[427,&quot;^&gt;&quot;,[&quot;^ &quot;],536871787]],[&quot;^14&quot;,[427,&quot;^17&quot;,true,536871781]],[&quot;^14&quot;,[427,&quot;^:&quot;,&quot;~u62754a2a-b584-414c-9454-1a47207cd758&quot;,536871781]],[&quot;^14&quot;,[428,&quot;^P&quot;,&quot;### 通过jstack来观察&quot;,536871818]],[&quot;^14&quot;,[428,&quot;^N&quot;,&quot;^16&quot;,536871790]],[&quot;^14&quot;,[428,&quot;^U&quot;,3,536871818]],[&quot;^14&quot;,[428,&quot;^?&quot;,false,536871790]],[&quot;^14&quot;,[428,&quot;^E&quot;,427,536871790]],[&quot;^14&quot;,[428,&quot;^W&quot;,374,536871790]],[&quot;^14&quot;,[428,&quot;^T&quot;,374,536871790]],[&quot;^14&quot;,[428,&quot;^S&quot;,374,536871818]],[&quot;^14&quot;,[428,&quot;^&gt;&quot;,[&quot;^ &quot;],536871818]],[&quot;^14&quot;,[428,&quot;^18&quot;,3,536871793]],[&quot;^14&quot;,[428,&quot;^V&quot;,&quot;^19&quot;,536871818]],[&quot;^14&quot;,[428,&quot;^17&quot;,true,536871790]],[&quot;^14&quot;,[428,&quot;^:&quot;,&quot;~u62754a55-25ec-43f8-9627-2646b920b64d&quot;,536871790]],[&quot;^14&quot;,[429,&quot;^P&quot;,&quot;&quot;,536871804]],[&quot;^14&quot;,[429,&quot;^N&quot;,&quot;^16&quot;,536871804]],[&quot;^14&quot;,[429,&quot;^?&quot;,false,536871804]],[&quot;^14&quot;,[429,&quot;^E&quot;,430,536871821]],[&quot;^14&quot;,[429,&quot;^W&quot;,374,536871804]],[&quot;^14&quot;,[429,&quot;^T&quot;,374,536871804]],[&quot;^14&quot;,[429,&quot;^S&quot;,374,536871804]],[&quot;^14&quot;,[429,&quot;^&gt;&quot;,[&quot;^ &quot;],536871804]],[&quot;^14&quot;,[429,&quot;^17&quot;,true,536871804]],[&quot;^14&quot;,[429,&quot;^:&quot;,&quot;~u62754a61-7e32-4064-9373-7213d185f475&quot;,536871804]],[&quot;^14&quot;,[430,&quot;^P&quot;,&quot;![image.png](../assets/image_1651854101470_0.png)&quot;,536871824]],[&quot;^14&quot;,[430,&quot;^N&quot;,&quot;^16&quot;,536871821]],[&quot;^14&quot;,[430,&quot;^?&quot;,false,536871821]],[&quot;^14&quot;,[430,&quot;^E&quot;,428,536871821]],[&quot;^14&quot;,[430,&quot;^W&quot;,374,536871821]],[&quot;^14&quot;,[430,&quot;^T&quot;,374,536871821]],[&quot;^14&quot;,[430,&quot;^S&quot;,374,536871824]],[&quot;^14&quot;,[430,&quot;^&gt;&quot;,[&quot;^ &quot;],536871824]],[&quot;^14&quot;,[430,&quot;^17&quot;,true,536871821]],[&quot;^14&quot;,[430,&quot;^:&quot;,&quot;~u62754a84-e5a0-4a48-83d7-a047960edbf4&quot;,536871821]],[&quot;^14&quot;,[432,&quot;^P&quot;,&quot;### 通过javap编译字节码观察&quot;,536871877]],[&quot;^14&quot;,[432,&quot;^N&quot;,&quot;^16&quot;,536871858]],[&quot;^14&quot;,[432,&quot;^U&quot;,3,536871877]],[&quot;^14&quot;,[432,&quot;^?&quot;,false,536871858]],[&quot;^14&quot;,[432,&quot;^E&quot;,429,536871858]],[&quot;^14&quot;,[432,&quot;^W&quot;,374,536871858]],[&quot;^14&quot;,[432,&quot;^T&quot;,374,536871858]],[&quot;^14&quot;,[432,&quot;^S&quot;,374,536871877]],[&quot;^14&quot;,[432,&quot;^&gt;&quot;,[&quot;^ &quot;],536871877]],[&quot;^14&quot;,[432,&quot;^18&quot;,3,536871862]],[&quot;^14&quot;,[432,&quot;^V&quot;,&quot;^19&quot;,536871877]],[&quot;^14&quot;,[432,&quot;^17&quot;,true,536871858]],[&quot;^14&quot;,[432,&quot;^:&quot;,&quot;~u6275503e-36c4-4b2f-9b6c-514447d6c5e5&quot;,536871858]],[&quot;^14&quot;,[433,&quot;^P&quot;,&quot;~```java\\npublic class TicketWindowRunnable implements Runnable {\\n    private int index = 1;\\n    private static final int MAX = 500;\\n\\n    private final Object MONITOR = new Object();\\n\\n    @Override\\n    public void run() {\\n        while (true) {\\n            // 单线程运行synchronized代码块里边的内容\\n            synchronized (MONITOR) {\\n                if (index &gt; MAX) {\\n                    break;\\n                }\\n                try {\\n                    Thread.sleep(5);\\n                } catch (InterruptedException e) {\\n                    e.printStackTrace();\\n                }\\n\\n                System.out.println(Thread.currentThread().getName() + \\&quot; 的号码是：\\&quot; + (index++));\\n            }\\n        }\\n    }\\n}\\n```&quot;,536871891]],[&quot;^14&quot;,[433,&quot;^N&quot;,&quot;^16&quot;,536871878]],[&quot;^14&quot;,[433,&quot;^?&quot;,false,536871878]],[&quot;^14&quot;,[433,&quot;^E&quot;,432,536871878]],[&quot;^14&quot;,[433,&quot;^W&quot;,374,536871878]],[&quot;^14&quot;,[433,&quot;^T&quot;,374,536871878]],[&quot;^14&quot;,[433,&quot;^S&quot;,374,536871891]],[&quot;^14&quot;,[433,&quot;^&gt;&quot;,[&quot;^ &quot;],536871891]],[&quot;^14&quot;,[433,&quot;^17&quot;,true,536871878]],[&quot;^14&quot;,[433,&quot;^:&quot;,&quot;~u62755052-90fc-4ef6-9ff0-ee76f9f784bc&quot;,536871878]],[&quot;^14&quot;,[437,&quot;^P&quot;,&quot;~```java\\nCompiled from \\&quot;TicketWindowRunnable.java\\&quot;\\npublic class com.tuyrk.chapter07.TicketWindowRunnable implements java.lang.Runnable {\\n  public com.tuyrk.chapter07.TicketWindowRunnable();\\n    Code:\\n       0: aload_0\\n       1: invokespecial #1                  // Method java/lang/Object.\\&quot;&lt;init&gt;\\&quot;:()V\\n       4: aload_0\\n       5: iconst_1\\n       6: putfield      #2                  // Field index:I\\n       9: aload_0\\n      10: new           #3                  // class java/lang/Object\\n      13: dup\\n      14: invokespecial #1                  // Method java/lang/Object.\\&quot;&lt;init&gt;\\&quot;:()V\\n      17: putfield      #4                  // Field MONITOR:Ljava/lang/Object;\\n      20: return\\n\\n  public void run();\\n    Code:\\n       0: aload_0\\n       1: getfield      #4                  // Field MONITOR:Ljava/lang/Object;\\n       4: dup\\n       5: astore_1\\n       //这里是可以看到加锁\\n       6: monitorenter\\n       7: aload_0\\n       8: getfield      #2                  // Field index:I\\n      11: sipush        500\\n      14: if_icmple     22\\n      17: aload_1\\n      //这里是解锁\\n      18: monitorexit\\n      19: goto          93\\n      22: ldc2_w        #6                  // long 5l\\n      25: invokestatic  #8                  // Method java/lang/Thread.sleep:(J)V\\n      28: goto          36\\n      31: astore_2\\n      32: aload_2\\n      33: invokevirtual #10                 // Method java/lang/InterruptedException.printStackTrace:()V\\n      36: getstatic     #11                 // Field java/lang/System.out:Ljava/io/PrintStream;\\n      39: new           #12                 // class java/lang/StringBuilder\\n      42: dup\\n      43: invokespecial #13                 // Method java/lang/StringBuilder.\\&quot;&lt;init&gt;\\&quot;:()V\\n      46: invokestatic  #14                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;\\n      49: invokevirtual #15                 // Method java/lang/Thread.getName:()Ljava/lang/String;\\n      52: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\\n      55: ldc           #17                 // String  的号码是：\\n      57: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\\n      60: aload_0\\n      61: dup\\n      62: getfield      #2                  // Field index:I\\n      65: dup_x1\\n      66: iconst_1\\n      67: iadd\\n      68: putfield      #2                  // Field index:I\\n      71: invokevirtual #18                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;\\n      74: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;\\n      77: invokevirtual #20                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\\n      80: aload_1\\n      81: monitorexit\\n      82: goto          90\\n      85: astore_3\\n      86: aload_1\\n      87: monitorexit\\n      88: aload_3\\n      89: athrow\\n      90: goto          0\\n      93: return\\n    Exception table:\\n       from    to  target type\\n          22    28    31   Class java/lang/InterruptedException\\n           7    19    85   any\\n          22    82    85   any\\n          85    88    85   any\\n}\\n\\n```&quot;,536871912]],[&quot;^14&quot;,[437,&quot;^N&quot;,&quot;^16&quot;,536871894]],[&quot;^14&quot;,[437,&quot;^?&quot;,false,536871894]],[&quot;^14&quot;,[437,&quot;^E&quot;,433,536871894]],[&quot;^14&quot;,[437,&quot;^W&quot;,374,536871894]],[&quot;^14&quot;,[437,&quot;^T&quot;,374,536871894]],[&quot;^14&quot;,[437,&quot;^S&quot;,374,536871912]],[&quot;^14&quot;,[437,&quot;^&gt;&quot;,[&quot;^ &quot;],536871912]],[&quot;^14&quot;,[437,&quot;^17&quot;,true,536871894]],[&quot;^14&quot;,[437,&quot;^:&quot;,&quot;~u62755064-427d-415c-afc1-74621b0a15fe&quot;,536871894]],[&quot;^14&quot;,[438,&quot;^P&quot;,&quot;&quot;,536871941]],[&quot;^14&quot;,[438,&quot;^N&quot;,&quot;^16&quot;,536871921]],[&quot;^14&quot;,[438,&quot;^?&quot;,false,536871921]],[&quot;^14&quot;,[438,&quot;^E&quot;,437,536871921]],[&quot;^14&quot;,[438,&quot;^W&quot;,374,536871921]],[&quot;^14&quot;,[438,&quot;^T&quot;,374,536871921]],[&quot;^14&quot;,[438,&quot;^S&quot;,374,536871941]],[&quot;^14&quot;,[438,&quot;^&gt;&quot;,[&quot;^ &quot;],536871941]],[&quot;^14&quot;,[438,&quot;^18&quot;,2,536871925]],[&quot;^14&quot;,[438,&quot;^17&quot;,true,536871921]],[&quot;^14&quot;,[438,&quot;^:&quot;,&quot;~u627642fc-2bf0-43b1-9621-cdb9b12c4528&quot;,536871921]],[&quot;^14&quot;,[439,&quot;^P&quot;,&quot;&quot;,536871938]],[&quot;^14&quot;,[439,&quot;^N&quot;,&quot;^16&quot;,536871938]],[&quot;^14&quot;,[439,&quot;^?&quot;,false,536871938]],[&quot;^14&quot;,[439,&quot;^E&quot;,438,536871938]],[&quot;^14&quot;,[439,&quot;^W&quot;,374,536871938]],[&quot;^14&quot;,[439,&quot;^T&quot;,374,536871938]],[&quot;^14&quot;,[439,&quot;^S&quot;,374,536871938]],[&quot;^14&quot;,[439,&quot;^&gt;&quot;,[&quot;^ &quot;],536871938]],[&quot;^14&quot;,[439,&quot;^17&quot;,true,536871938]],[&quot;^14&quot;,[439,&quot;^:&quot;,&quot;~u62764313-2439-4898-b267-379b225ba79e&quot;,536871938]],[&quot;^14&quot;,[440,&quot;^P&quot;,&quot;[[14.通过实验分析This锁和Class锁的存在]]&quot;,536872261]],[&quot;^14&quot;,[440,&quot;^N&quot;,&quot;^16&quot;,536871953]],[&quot;^14&quot;,[440,&quot;^E&quot;,417,536871953]],[&quot;^14&quot;,[440,&quot;^W&quot;,416,536871953]],[&quot;^14&quot;,[440,&quot;^T&quot;,416,536871953]],[&quot;^14&quot;,[440,&quot;^S&quot;,416,536872261]],[&quot;^14&quot;,[440,&quot;^S&quot;,457,536872261]],[&quot;^14&quot;,[440,&quot;^&gt;&quot;,[&quot;^ &quot;],536872261]],[&quot;^14&quot;,[440,&quot;^G&quot;,457,536872261]],[&quot;^14&quot;,[440,&quot;^18&quot;,2,536871953]],[&quot;^14&quot;,[440,&quot;^17&quot;,true,536871956]],[&quot;^14&quot;,[440,&quot;^:&quot;,&quot;~u679f1924-d6ad-468e-8f0e-55386a35a627&quot;,536871953]],[&quot;^14&quot;,[441,&quot;^J&quot;,1651917624054,536871959]],[&quot;^14&quot;,[441,&quot;^?&quot;,false,536871959]],[&quot;^14&quot;,[441,&quot;^X&quot;,&quot;13. 同步代码块和同步方法的区别&quot;,536871959]],[&quot;^14&quot;,[441,&quot;^10&quot;,&quot;13. 同步代码块和同步方法的区别&quot;,536871959]],[&quot;^14&quot;,[441,&quot;^A&quot;,1651920025463,536872255]],[&quot;^14&quot;,[441,&quot;^:&quot;,&quot;~u62764338-e5eb-4313-8a31-63d552ccad8b&quot;,536871959]],[&quot;^14&quot;,[442,&quot;^P&quot;,&quot;首先通过一段代码来演示，这段代码输出可以看到始终只有一个线程在执行&quot;,536872003]],[&quot;^14&quot;,[442,&quot;^N&quot;,&quot;^16&quot;,536871962]],[&quot;^14&quot;,[442,&quot;^?&quot;,false,536871962]],[&quot;^14&quot;,[442,&quot;^E&quot;,441,536872148]],[&quot;^14&quot;,[442,&quot;^W&quot;,441,536871962]],[&quot;^14&quot;,[442,&quot;^T&quot;,441,536871962]],[&quot;^14&quot;,[442,&quot;^S&quot;,441,536872148]],[&quot;^14&quot;,[442,&quot;^&gt;&quot;,[&quot;^ &quot;],536872148]],[&quot;^14&quot;,[442,&quot;^17&quot;,true,536871962]],[&quot;^14&quot;,[442,&quot;^:&quot;,&quot;~u62764338-f2d7-4798-b9e5-b7c03f8696c7&quot;,536871962]],[&quot;^14&quot;,[444,&quot;^P&quot;,&quot;~```java\\npublic class BankRunnableSyncMethod {\\n    public static void main(String[] args) {\\n        // 一个runnable实例被多个线程共享\\n        SynchronizedRunnable ticketWindow = new SynchronizedRunnable();\\n\\n        Thread windowThread1 = new Thread(ticketWindow, \\&quot;一号窗口\\&quot;);\\n        Thread windowThread2 = new Thread(ticketWindow, \\&quot;二号窗口\\&quot;);\\n        Thread windowThread3 = new Thread(ticketWindow, \\&quot;三号窗口\\&quot;);\\n        windowThread1.start();\\n        windowThread2.start();\\n        windowThread3.start();\\n    }\\n}\\npublic class SynchronizedRunnable implements Runnable {\\n    private int index = 1;\\n    // readonly shared data.\\n    private static final int MAX = 500;\\n\\n    // 单线程运行synchronized方法里边的内容。this锁\\n    @Override\\n    public synchronized void run() {\\n        while (true) {\\n            // 1. synchronized同步方法1\\n            if (index &gt; MAX) {\\n                break;\\n            }\\n            try {\\n                Thread.sleep(5);\\n            } catch (InterruptedException e) {\\n                e.printStackTrace();\\n            }\\n\\n            System.out.println(Thread.currentThread().getName() + \\&quot; 的号码是：\\&quot; + (index++));\\n        }\\n    }\\n}\\n\\n//console\\n.........\\n一号窗口 的号码是：494\\n一号窗口 的号码是：495\\n一号窗口 的号码是：496\\n一号窗口 的号码是：497\\n一号窗口 的号码是：498\\n一号窗口 的号码是：499\\n一号窗口 的号码是：500\\n```&quot;,536872016]],[&quot;^14&quot;,[444,&quot;^N&quot;,&quot;^16&quot;,536872004]],[&quot;^14&quot;,[444,&quot;^?&quot;,false,536872004]],[&quot;^14&quot;,[444,&quot;^E&quot;,442,536872004]],[&quot;^14&quot;,[444,&quot;^W&quot;,441,536872004]],[&quot;^14&quot;,[444,&quot;^T&quot;,441,536872004]],[&quot;^14&quot;,[444,&quot;^S&quot;,441,536872016]],[&quot;^14&quot;,[444,&quot;^&gt;&quot;,[&quot;^ &quot;],536872016]],[&quot;^14&quot;,[444,&quot;^17&quot;,true,536872004]],[&quot;^14&quot;,[444,&quot;^:&quot;,&quot;~u627646c6-fcd0-41f3-a712-e037960e1dd7&quot;,536872004]],[&quot;^14&quot;,[445,&quot;^P&quot;,&quot;原因是执行[[#red]]==run==方法的时候因为[[#red]]==run==方法上加锁了，所以只能有一个线程进来，而一个线程进来，[[#red]]==while(true)==，直接执行完了&quot;,536872101]],[&quot;^14&quot;,[445,&quot;^N&quot;,&quot;^16&quot;,536872019]],[&quot;^14&quot;,[445,&quot;^?&quot;,false,536872019]],[&quot;^14&quot;,[445,&quot;^E&quot;,444,536872019]],[&quot;^14&quot;,[445,&quot;^W&quot;,441,536872019]],[&quot;^14&quot;,[445,&quot;^T&quot;,441,536872019]],[&quot;^14&quot;,[445,&quot;^S&quot;,36,536872101]],[&quot;^14&quot;,[445,&quot;^S&quot;,441,536872101]],[&quot;^14&quot;,[445,&quot;^&gt;&quot;,[&quot;^ &quot;],536872101]],[&quot;^14&quot;,[445,&quot;^G&quot;,36,536872101]],[&quot;^14&quot;,[445,&quot;^17&quot;,true,536872019]],[&quot;^14&quot;,[445,&quot;^:&quot;,&quot;~u627647c2-7715-4e26-b4ee-437b849cf628&quot;,536872019]],[&quot;^14&quot;,[446,&quot;^P&quot;,&quot;## 改造一下，将synchronized抽离出来&quot;,536872170]],[&quot;^14&quot;,[446,&quot;^N&quot;,&quot;^16&quot;,536872091]],[&quot;^14&quot;,[446,&quot;^U&quot;,2,536872170]],[&quot;^14&quot;,[446,&quot;^?&quot;,false,536872091]],[&quot;^14&quot;,[446,&quot;^E&quot;,445,536872091]],[&quot;^14&quot;,[446,&quot;^W&quot;,441,536872091]],[&quot;^14&quot;,[446,&quot;^T&quot;,441,536872091]],[&quot;^14&quot;,[446,&quot;^S&quot;,441,536872170]],[&quot;^14&quot;,[446,&quot;^&gt;&quot;,[&quot;^ &quot;],536872170]],[&quot;^14&quot;,[446,&quot;^18&quot;,2,536872119]],[&quot;^14&quot;,[446,&quot;^V&quot;,&quot;^19&quot;,536872170]],[&quot;^14&quot;,[446,&quot;^17&quot;,true,536872091]],[&quot;^14&quot;,[446,&quot;^:&quot;,&quot;~u627647f4-75ea-48f2-9b8c-5db2c7379887&quot;,536872091]],[&quot;^14&quot;,[447,&quot;^P&quot;,&quot;&quot;,536872104]],[&quot;^14&quot;,[447,&quot;^N&quot;,&quot;^16&quot;,536872104]],[&quot;^14&quot;,[447,&quot;^?&quot;,false,536872104]],[&quot;^14&quot;,[447,&quot;^E&quot;,450,536872142]],[&quot;^14&quot;,[447,&quot;^W&quot;,441,536872104]],[&quot;^14&quot;,[447,&quot;^T&quot;,441,536872104]],[&quot;^14&quot;,[447,&quot;^&gt;&quot;,[&quot;^ &quot;],536872104]],[&quot;^14&quot;,[447,&quot;^17&quot;,true,536872104]],[&quot;^14&quot;,[447,&quot;^:&quot;,&quot;~u627647fd-5215-4784-b324-8c72334ac235&quot;,536872104]],[&quot;^14&quot;,[450,&quot;^P&quot;,&quot;~```java\\npublic class BankRunnableSyncMethod {\\n    public static void main(String[] args) {\\n        // 一个runnable实例被多个线程共享\\n        SynchronizedRunnable ticketWindow = new SynchronizedRunnable();\\n\\n        Thread windowThread1 = new Thread(ticketWindow, \\&quot;一号窗口\\&quot;);\\n        Thread windowThread2 = new Thread(ticketWindow, \\&quot;二号窗口\\&quot;);\\n        Thread windowThread3 = new Thread(ticketWindow, \\&quot;三号窗口\\&quot;);\\n        windowThread1.start();\\n        windowThread2.start();\\n        windowThread3.start();\\n    }\\n}\\npublic class SynchronizedRunnable implements Runnable {\\n    private int index = 1;\\n    // readonly shared data.\\n    private static final int MAX = 500;\\n\\n    @Override\\n    public void run() {\\n        while (true) {\\n            //  synchronized同步方法\\n            if (ticket()) {\\n                break;\\n            }\\n        }\\n    }\\n\\n    private boolean ticket2() {\\n        synchronized (this) {\\n            // 1. getField\\n            if (index &gt; MAX) {\\n                return true;\\n            }\\n            try {\\n                Thread.sleep(5);\\n            } catch (InterruptedException e) {\\n                e.printStackTrace();\\n            }\\n            // index++; =&gt; index = index + 1;\\n            // 1. get Field index.\\n            // 2. index = index + 1;\\n            // 3. put Field index.\\n            System.out.println(Thread.currentThread().getName() + \\&quot; 的号码是：\\&quot; + (index++));\\n            return false;\\n        }\\n    }\\n}\\n//可以看到，线程交替执行了\\n//console\\n....................\\n一号窗口 的号码是：472\\n三号窗口 的号码是：473\\n三号窗口 的号码是：474\\n三号窗口 的号码是：475\\n三号窗口 的号码是：476\\n三号窗口 的号码是：477\\n三号窗口 的号码是：478\\n....................\\n```&quot;,536872197]],[&quot;^14&quot;,[450,&quot;^N&quot;,&quot;^16&quot;,536872142]],[&quot;^14&quot;,[450,&quot;^?&quot;,false,536872142]],[&quot;^14&quot;,[450,&quot;^E&quot;,446,536872179]],[&quot;^14&quot;,[450,&quot;^W&quot;,441,536872142]],[&quot;^14&quot;,[450,&quot;^T&quot;,441,536872142]],[&quot;^14&quot;,[450,&quot;^S&quot;,441,536872197]],[&quot;^14&quot;,[450,&quot;^&gt;&quot;,[&quot;^ &quot;],536872197]],[&quot;^14&quot;,[450,&quot;^17&quot;,true,536872142]],[&quot;^14&quot;,[450,&quot;^:&quot;,&quot;~u6276490b-c924-4a89-b6ca-1c456d6cf0c6&quot;,536872142]],[&quot;^14&quot;,[451,&quot;^P&quot;,&quot;## 再换成改造后的同步代码块方式&quot;,536872229]],[&quot;^14&quot;,[451,&quot;^N&quot;,&quot;^16&quot;,536872200]],[&quot;^14&quot;,[451,&quot;^U&quot;,2,536872229]],[&quot;^14&quot;,[451,&quot;^?&quot;,false,536872200]],[&quot;^14&quot;,[451,&quot;^E&quot;,447,536872200]],[&quot;^14&quot;,[451,&quot;^W&quot;,441,536872200]],[&quot;^14&quot;,[451,&quot;^T&quot;,441,536872200]],[&quot;^14&quot;,[451,&quot;^S&quot;,441,536872229]],[&quot;^14&quot;,[451,&quot;^&gt;&quot;,[&quot;^ &quot;],536872229]],[&quot;^14&quot;,[451,&quot;^18&quot;,2,536872203]],[&quot;^14&quot;,[451,&quot;^V&quot;,&quot;^19&quot;,536872229]],[&quot;^14&quot;,[451,&quot;^17&quot;,true,536872200]],[&quot;^14&quot;,[451,&quot;^:&quot;,&quot;~u62764c24-92b1-4cb2-ab11-03a78a7629dd&quot;,536872200]],[&quot;^14&quot;,[456,&quot;^P&quot;,&quot;~```java\\npublic class SynchronizedRunnable implements Runnable {\\n    private int index = 1;\\n    // readonly shared data.\\n    private static final int MAX = 500;\\n\\n    @Override\\n    public void run() {\\n        while (true) {\\n            //  synchronized同步方法\\n            if (ticket()) {\\n                break;\\n            }\\n        }\\n    }\\n\\n    private synchronized boolean ticket() {\\n        // 1. getField\\n        if (index &gt; MAX) {\\n            return true;\\n        }\\n        try {\\n            Thread.sleep(500);\\n        } catch (InterruptedException e) {\\n            e.printStackTrace();\\n        }\\n        // index++; =&gt; index = index + 1;\\n        // 1. get Field index.\\n        // 2. index = index + 1;\\n        // 3. put Field index.\\n        System.out.println(Thread.currentThread().getName() + \\&quot; 的号码是：\\&quot; + (index++));\\n        return false;\\n    }\\n}\\n//console\\n.....................\\n一号窗口 的号码是：128\\n一号窗口 的号码是：129\\n一号窗口 的号码是：130\\n一号窗口 的号码是：131\\n一号窗口 的号码是：132\\n一号窗口 的号码是：133\\n三号窗口 的号码是：134\\n三号窗口 的号码是：135\\n三号窗口 的号码是：136\\n三号窗口 的号码是：137\\n三号窗口 的号码是：138\\n三号窗口 的号码是：139\\n三号窗口 的号码是：140\\n三号窗口 的号码是：141\\n三号窗口 的号码是：142\\n三号窗口 的号码是：143\\n.....................\\n\\n```&quot;,536872255]],[&quot;^14&quot;,[456,&quot;^N&quot;,&quot;^16&quot;,536872243]],[&quot;^14&quot;,[456,&quot;^?&quot;,false,536872243]],[&quot;^14&quot;,[456,&quot;^E&quot;,451,536872243]],[&quot;^14&quot;,[456,&quot;^W&quot;,441,536872243]],[&quot;^14&quot;,[456,&quot;^T&quot;,441,536872243]],[&quot;^14&quot;,[456,&quot;^S&quot;,441,536872255]],[&quot;^14&quot;,[456,&quot;^&gt;&quot;,[&quot;^ &quot;],536872255]],[&quot;^14&quot;,[456,&quot;^17&quot;,true,536872243]],[&quot;^14&quot;,[456,&quot;^:&quot;,&quot;~u62764c3c-b2c1-43ab-ba04-e16fbafab4f1&quot;,536872243]],[&quot;^14&quot;,[457,&quot;^J&quot;,1651927863999,536872261]],[&quot;^14&quot;,[457,&quot;^?&quot;,false,536872261]],[&quot;^14&quot;,[457,&quot;^X&quot;,&quot;14.通过实验分析this锁和class锁的存在&quot;,536872261]],[&quot;^14&quot;,[457,&quot;^10&quot;,&quot;14.通过实验分析This锁和Class锁的存在&quot;,536872261]],[&quot;^14&quot;,[457,&quot;^A&quot;,1651929630061,536872560]],[&quot;^14&quot;,[457,&quot;^:&quot;,&quot;~u62766b37-2ba6-434d-842e-7146c69165d1&quot;,536872261]],[&quot;^14&quot;,[458,&quot;^P&quot;,&quot;## This锁&quot;,536872271]],[&quot;^14&quot;,[458,&quot;^N&quot;,&quot;^16&quot;,536872264]],[&quot;^14&quot;,[458,&quot;^U&quot;,2,536872271]],[&quot;^14&quot;,[458,&quot;^?&quot;,false,536872264]],[&quot;^14&quot;,[458,&quot;^E&quot;,457,536872264]],[&quot;^14&quot;,[458,&quot;^W&quot;,457,536872264]],[&quot;^14&quot;,[458,&quot;^T&quot;,457,536872264]],[&quot;^14&quot;,[458,&quot;^S&quot;,457,536872271]],[&quot;^14&quot;,[458,&quot;^&gt;&quot;,[&quot;^ &quot;],536872271]],[&quot;^14&quot;,[458,&quot;^18&quot;,2,536872266]],[&quot;^14&quot;,[458,&quot;^V&quot;,&quot;^19&quot;,536872271]],[&quot;^14&quot;,[458,&quot;^17&quot;,true,536872264]],[&quot;^14&quot;,[458,&quot;^:&quot;,&quot;~u62766b38-5b55-46a7-8a5d-c289f24e7cd7&quot;,536872264]],[&quot;^14&quot;,[460,&quot;^P&quot;,&quot;~```java\\npublic class SynchronizedThis {\\n\\n\\n    public static void main(String[] args) {\\n        ThisLock thisLock = new ThisLock();\\n        new Thread(\\&quot;T1\\&quot;) {\\n            @Override\\n            public void run() {\\n                thisLock.m1();\\n            }\\n        }.start();\\n        new Thread(\\&quot;T2\\&quot;) {\\n            @Override\\n            public void run() {\\n                thisLock.m2();\\n            }\\n        }.start();\\n    }\\n}\\n\\nclass ThisLock {\\n\\n    public synchronized void m1() {\\n        try {\\n            System.out.println(Thread.currentThread().getName());\\n            Thread.sleep(10_000);\\n        } catch (InterruptedException e) {\\n            e.printStackTrace();\\n        }\\n    }\\n\\n    public synchronized void m2() {\\n        try {\\n            System.out.println(Thread.currentThread().getName());\\n            Thread.sleep(10_000);\\n        } catch (InterruptedException e) {\\n            e.printStackTrace();\\n        }\\n    }\\n}\\n//console\\nT1\\nT2\\n```&quot;,536872287]],[&quot;^14&quot;,[460,&quot;^N&quot;,&quot;^16&quot;,536872272]],[&quot;^14&quot;,[460,&quot;^?&quot;,false,536872272]],[&quot;^14&quot;,[460,&quot;^E&quot;,458,536872272]],[&quot;^14&quot;,[460,&quot;^W&quot;,457,536872272]],[&quot;^14&quot;,[460,&quot;^T&quot;,457,536872272]],[&quot;^14&quot;,[460,&quot;^S&quot;,457,536872287]],[&quot;^14&quot;,[460,&quot;^&gt;&quot;,[&quot;^ &quot;],536872287]],[&quot;^14&quot;,[460,&quot;^17&quot;,true,536872272]],[&quot;^14&quot;,[460,&quot;^:&quot;,&quot;~u62766b99-1c41-4b72-9432-b0fb022ea334&quot;,536872272]],[&quot;^14&quot;,[461,&quot;^P&quot;,&quot;T1和T2之间间隔了10秒打印，由此可以看出他们俩使用的是同一个锁&quot;,536872342]],[&quot;^14&quot;,[461,&quot;^N&quot;,&quot;^16&quot;,536872290]],[&quot;^14&quot;,[461,&quot;^?&quot;,false,536872290]],[&quot;^14&quot;,[461,&quot;^E&quot;,460,536872290]],[&quot;^14&quot;,[461,&quot;^W&quot;,457,536872290]],[&quot;^14&quot;,[461,&quot;^T&quot;,457,536872290]],[&quot;^14&quot;,[461,&quot;^S&quot;,457,536872342]],[&quot;^14&quot;,[461,&quot;^&gt;&quot;,[&quot;^ &quot;],536872342]],[&quot;^14&quot;,[461,&quot;^17&quot;,true,536872290]],[&quot;^14&quot;,[461,&quot;^:&quot;,&quot;~u62766f02-2628-41de-a9e2-8e3bfc3b441a&quot;,536872290]],[&quot;^14&quot;,[462,&quot;^P&quot;,&quot;## Class锁&quot;,536872352]],[&quot;^14&quot;,[462,&quot;^N&quot;,&quot;^16&quot;,536872345]],[&quot;^14&quot;,[462,&quot;^U&quot;,2,536872352]],[&quot;^14&quot;,[462,&quot;^?&quot;,false,536872345]],[&quot;^14&quot;,[462,&quot;^E&quot;,461,536872345]],[&quot;^14&quot;,[462,&quot;^W&quot;,457,536872345]],[&quot;^14&quot;,[462,&quot;^T&quot;,457,536872345]],[&quot;^14&quot;,[462,&quot;^S&quot;,457,536872352]],[&quot;^14&quot;,[462,&quot;^&gt;&quot;,[&quot;^ &quot;],536872352]],[&quot;^14&quot;,[462,&quot;^18&quot;,2,536872348]],[&quot;^14&quot;,[462,&quot;^V&quot;,&quot;^19&quot;,536872352]],[&quot;^14&quot;,[462,&quot;^17&quot;,true,536872345]],[&quot;^14&quot;,[462,&quot;^:&quot;,&quot;~u6276712b-cc07-44bb-9af6-90feb504245e&quot;,536872345]],[&quot;^14&quot;,[465,&quot;^P&quot;,&quot;~```java\\npublic class SynchronizedStatic {\\n    static {\\n        synchronized (SynchronizedStatic.class) {\\n            System.out.println(\\&quot;static \\&quot; + Thread.currentThread().getName());\\n            try {\\n                Thread.sleep(10_000);\\n            } catch (InterruptedException e) {\\n                e.printStackTrace();\\n            }\\n        }\\n    }\\n\\n    public synchronized static void m1() {\\n        System.out.println(\\&quot;m1 \\&quot; + Thread.currentThread().getName());\\n        try {\\n            Thread.sleep(10_000);\\n        } catch (InterruptedException e) {\\n            e.printStackTrace();\\n        }\\n    }\\n\\n    public synchronized static void m2() {\\n        System.out.println(\\&quot;m2 \\&quot; + Thread.currentThread().getName());\\n        try {\\n            Thread.sleep(10_000);\\n        } catch (InterruptedException e) {\\n            e.printStackTrace();\\n        }\\n    }\\n\\n    public static void m3() {\\n        System.out.println(\\&quot;m3 \\&quot; + Thread.currentThread().getName());\\n        try {\\n            Thread.sleep(10_000);\\n        } catch (InterruptedException e) {\\n            e.printStackTrace();\\n        }\\n    }\\n}\\n\\n\\npublic class SynchronizedStaticTest {\\n    public static void main(String[] args) {\\n        new Thread(\\&quot;T1\\&quot;) {\\n            @Override\\n            public void run() {\\n                SynchronizedStatic.m1();\\n            }\\n        }.start();\\n\\n        new Thread(\\&quot;T2\\&quot;) {\\n            @Override\\n            public void run() {\\n                SynchronizedStatic.m2();\\n            }\\n        }.start();\\n        new Thread(\\&quot;T3\\&quot;) {\\n            @Override\\n            public void run() {\\n                SynchronizedStatic.m3();\\n            }\\n        }.start();\\n    }\\n}\\n\\n//console\\nstatic T1\\nm3 T3\\nm2 T2\\nm1 T1\\n```&quot;,536872385]],[&quot;^14&quot;,[465,&quot;^N&quot;,&quot;^16&quot;,536872370]],[&quot;^14&quot;,[465,&quot;^?&quot;,false,536872370]],[&quot;^14&quot;,[465,&quot;^E&quot;,462,536872370]],[&quot;^14&quot;,[465,&quot;^W&quot;,457,536872370]],[&quot;^14&quot;,[465,&quot;^T&quot;,457,536872370]],[&quot;^14&quot;,[465,&quot;^S&quot;,457,536872385]],[&quot;^14&quot;,[465,&quot;^&gt;&quot;,[&quot;^ &quot;],536872385]],[&quot;^14&quot;,[465,&quot;^17&quot;,true,536872370]],[&quot;^14&quot;,[465,&quot;^:&quot;,&quot;~u62767135-a94d-485a-9f6f-6e69aaa04426&quot;,536872370]],[&quot;^14&quot;,[466,&quot;^P&quot;,&quot;static T1输出后等了10秒&quot;,536872405]],[&quot;^14&quot;,[466,&quot;^N&quot;,&quot;^16&quot;,536872386]],[&quot;^14&quot;,[466,&quot;^?&quot;,false,536872386]],[&quot;^14&quot;,[466,&quot;^E&quot;,465,536872386]],[&quot;^14&quot;,[466,&quot;^W&quot;,457,536872386]],[&quot;^14&quot;,[466,&quot;^T&quot;,457,536872386]],[&quot;^14&quot;,[466,&quot;^S&quot;,457,536872405]],[&quot;^14&quot;,[466,&quot;^&gt;&quot;,[&quot;^ &quot;],536872405]],[&quot;^14&quot;,[466,&quot;^17&quot;,true,536872386]],[&quot;^14&quot;,[466,&quot;^:&quot;,&quot;~u62767151-1235-48bd-be30-b58815b0dd1a&quot;,536872386]],[&quot;^14&quot;,[467,&quot;^P&quot;,&quot;m3 T3和m2 T2同时出现，因为T3不会去抢锁，但静态代码块需要抢锁，所以是static T1输出后10秒才继续执行&quot;,536872509]],[&quot;^14&quot;,[467,&quot;^N&quot;,&quot;^16&quot;,536872408]],[&quot;^14&quot;,[467,&quot;^?&quot;,false,536872408]],[&quot;^14&quot;,[467,&quot;^E&quot;,466,536872408]],[&quot;^14&quot;,[467,&quot;^W&quot;,457,536872408]],[&quot;^14&quot;,[467,&quot;^T&quot;,457,536872408]],[&quot;^14&quot;,[467,&quot;^S&quot;,457,536872509]],[&quot;^14&quot;,[467,&quot;^&gt;&quot;,[&quot;^ &quot;],536872509]],[&quot;^14&quot;,[467,&quot;^17&quot;,true,536872408]],[&quot;^14&quot;,[467,&quot;^:&quot;,&quot;~u62767194-c54f-4d07-b0fd-89349c3671f3&quot;,536872408]],[&quot;^14&quot;,[469,&quot;^P&quot;,&quot;m2 T2在10秒后输出m1 T1，说明他俩是同一个锁&quot;,536872560]],[&quot;^14&quot;,[469,&quot;^N&quot;,&quot;^16&quot;,536872512]],[&quot;^14&quot;,[469,&quot;^?&quot;,false,536872512]],[&quot;^14&quot;,[469,&quot;^E&quot;,467,536872512]],[&quot;^14&quot;,[469,&quot;^W&quot;,457,536872512]],[&quot;^14&quot;,[469,&quot;^T&quot;,457,536872512]],[&quot;^14&quot;,[469,&quot;^S&quot;,457,536872560]],[&quot;^14&quot;,[469,&quot;^&gt;&quot;,[&quot;^ &quot;],536872560]],[&quot;^14&quot;,[469,&quot;^17&quot;,true,536872512]],[&quot;^14&quot;,[469,&quot;^:&quot;,&quot;~u62767202-5a19-426e-b4d9-be853b8f4f19&quot;,536872512]],[&quot;^14&quot;,[471,&quot;^11&quot;,1,536872566]],[&quot;^14&quot;,[472,&quot;^J&quot;,1651939250179,536872568]],[&quot;^14&quot;,[472,&quot;^N&quot;,&quot;^16&quot;,536872568]],[&quot;^14&quot;,[472,&quot;^M&quot;,20220508,536872568]],[&quot;^14&quot;,[472,&quot;^?&quot;,true,536872568]],[&quot;^14&quot;,[472,&quot;^X&quot;,&quot;may 8th, 2022&quot;,536872568]],[&quot;^14&quot;,[472,&quot;^10&quot;,&quot;May 8th, 2022&quot;,536872568]],[&quot;^14&quot;,[472,&quot;^A&quot;,1651975303787,536872823]],[&quot;^14&quot;,[472,&quot;^:&quot;,&quot;~u627697b2-32aa-4773-9253-d37d7dd961cd&quot;,536872568]],[&quot;^14&quot;,[473,&quot;^P&quot;,&quot;[[15.死锁]]&quot;,536872580]],[&quot;^14&quot;,[473,&quot;^N&quot;,&quot;^16&quot;,536872569]],[&quot;^14&quot;,[473,&quot;^M&quot;,20220508,536872569]],[&quot;^14&quot;,[473,&quot;^?&quot;,true,536872569]],[&quot;^14&quot;,[473,&quot;^E&quot;,472,536872569]],[&quot;^14&quot;,[473,&quot;^W&quot;,472,536872569]],[&quot;^14&quot;,[473,&quot;^T&quot;,472,536872569]],[&quot;^14&quot;,[473,&quot;^S&quot;,472,536872580]],[&quot;^14&quot;,[473,&quot;^S&quot;,475,536872580]],[&quot;^14&quot;,[473,&quot;^&gt;&quot;,[&quot;^ &quot;],536872580]],[&quot;^14&quot;,[473,&quot;^G&quot;,475,536872580]],[&quot;^14&quot;,[473,&quot;^17&quot;,true,536872569]],[&quot;^14&quot;,[473,&quot;^:&quot;,&quot;~u627697b2-7a6f-4cf7-a25c-af5f9be2ebf6&quot;,536872569]],[&quot;^14&quot;,[475,&quot;^J&quot;,1651939451408,536872580]],[&quot;^14&quot;,[475,&quot;^?&quot;,false,536872580]],[&quot;^14&quot;,[475,&quot;^X&quot;,&quot;15.死锁&quot;,536872580]],[&quot;^14&quot;,[475,&quot;^10&quot;,&quot;15.死锁&quot;,536872580]],[&quot;^14&quot;,[475,&quot;^A&quot;,1651981175744,536873056]],[&quot;^14&quot;,[475,&quot;^:&quot;,&quot;~u6276987b-ddaa-42d9-9524-030ac88fdd31&quot;,536872580]],[&quot;^14&quot;,[476,&quot;^P&quot;,&quot;## Reference&quot;,536872591]],[&quot;^14&quot;,[476,&quot;^N&quot;,&quot;^16&quot;,536872583]],[&quot;^14&quot;,[476,&quot;^U&quot;,2,536872591]],[&quot;^14&quot;,[476,&quot;^?&quot;,false,536872583]],[&quot;^14&quot;,[476,&quot;^E&quot;,475,536872583]],[&quot;^14&quot;,[476,&quot;^W&quot;,475,536872583]],[&quot;^14&quot;,[476,&quot;^T&quot;,475,536872583]],[&quot;^14&quot;,[476,&quot;^S&quot;,475,536872591]],[&quot;^14&quot;,[476,&quot;^&gt;&quot;,[&quot;^ &quot;],536872591]],[&quot;^14&quot;,[476,&quot;^18&quot;,2,536872587]],[&quot;^14&quot;,[476,&quot;^V&quot;,&quot;^19&quot;,536872591]],[&quot;^14&quot;,[476,&quot;^17&quot;,true,536872583]],[&quot;^14&quot;,[476,&quot;^:&quot;,&quot;~u6276987d-4d48-4342-bc6b-8feeb43d7065&quot;,536872583]],[&quot;^14&quot;,[478,&quot;^P&quot;,&quot;&gt;https://www.liaoxuefeng.com/wiki/1252599548343744/1306580888846370&quot;,536872605]],[&quot;^14&quot;,[478,&quot;^N&quot;,&quot;^16&quot;,536872592]],[&quot;^14&quot;,[478,&quot;^?&quot;,false,536872592]],[&quot;^14&quot;,[478,&quot;^E&quot;,476,536872592]],[&quot;^14&quot;,[478,&quot;^W&quot;,475,536872592]],[&quot;^14&quot;,[478,&quot;^T&quot;,475,536872592]],[&quot;^14&quot;,[478,&quot;^S&quot;,475,536872605]],[&quot;^14&quot;,[478,&quot;^&gt;&quot;,[&quot;^ &quot;],536872605]],[&quot;^14&quot;,[478,&quot;^17&quot;,true,536872592]],[&quot;^14&quot;,[478,&quot;^:&quot;,&quot;~u62769884-f9c9-4038-8abe-500645eb4533&quot;,536872592]],[&quot;^14&quot;,[481,&quot;^P&quot;,&quot;## 例子&quot;,536872703]],[&quot;^14&quot;,[481,&quot;^N&quot;,&quot;^16&quot;,536872627]],[&quot;^14&quot;,[481,&quot;^U&quot;,2,536872703]],[&quot;^14&quot;,[481,&quot;^?&quot;,false,536872627]],[&quot;^14&quot;,[481,&quot;^E&quot;,488,536872697]],[&quot;^14&quot;,[481,&quot;^W&quot;,475,536872627]],[&quot;^14&quot;,[481,&quot;^T&quot;,475,536872627]],[&quot;^14&quot;,[481,&quot;^S&quot;,475,536872703]],[&quot;^14&quot;,[481,&quot;^&gt;&quot;,[&quot;^ &quot;],536872703]],[&quot;^14&quot;,[481,&quot;^18&quot;,2,536872700]],[&quot;^14&quot;,[481,&quot;^V&quot;,&quot;^19&quot;,536872703]],[&quot;^14&quot;,[481,&quot;^17&quot;,true,536872627]],[&quot;^14&quot;,[481,&quot;^:&quot;,&quot;~u627698b1-e964-4590-b792-124d85b0c79a&quot;,536872627]],[&quot;^14&quot;,[482,&quot;^P&quot;,&quot;&gt;https://zhuanlan.zhihu.com/p/385855265&quot;,536872636]],[&quot;^14&quot;,[482,&quot;^N&quot;,&quot;^16&quot;,536872630]],[&quot;^14&quot;,[482,&quot;^?&quot;,false,536872630]],[&quot;^14&quot;,[482,&quot;^E&quot;,478,536872630]],[&quot;^14&quot;,[482,&quot;^W&quot;,475,536872630]],[&quot;^14&quot;,[482,&quot;^T&quot;,475,536872630]],[&quot;^14&quot;,[482,&quot;^S&quot;,475,536872636]],[&quot;^14&quot;,[482,&quot;^&gt;&quot;,[&quot;^ &quot;],536872636]],[&quot;^14&quot;,[482,&quot;^17&quot;,true,536872630]],[&quot;^14&quot;,[482,&quot;^:&quot;,&quot;~u62769962-e962-42e8-8a23-187aff911a68&quot;,536872630]],[&quot;^14&quot;,[483,&quot;^P&quot;,&quot;在遇到线程安全问题的时候，我们会使用加锁机制来确保线程安全，但如果过度地使用加锁，则可能导致锁顺序死锁(Lock-Ordering Deadlock)。或者有的场景我们使用线程池和信号量来限制资源的使用，但这些被限制的行为可能会导致资源死锁(Resource DeadLock)。&quot;,536872640]],[&quot;^14&quot;,[483,&quot;^N&quot;,&quot;^16&quot;,536872637]],[&quot;^14&quot;,[483,&quot;^?&quot;,false,536872637]],[&quot;^14&quot;,[483,&quot;^E&quot;,530,536873047]],[&quot;^14&quot;,[483,&quot;^W&quot;,475,536872637]],[&quot;^14&quot;,[483,&quot;^T&quot;,475,536872637]],[&quot;^14&quot;,[483,&quot;^S&quot;,475,536872640]],[&quot;^14&quot;,[483,&quot;^&gt;&quot;,[&quot;^ &quot;],536872640]],[&quot;^14&quot;,[483,&quot;^17&quot;,true,536872637]],[&quot;^14&quot;,[483,&quot;^:&quot;,&quot;~u62769965-adf0-4332-aabf-a6c24e5531fa&quot;,536872637]],[&quot;^14&quot;,[484,&quot;^P&quot;,&quot;## 死锁产生的条件&quot;,536872650]],[&quot;^14&quot;,[484,&quot;^N&quot;,&quot;^16&quot;,536872643]],[&quot;^14&quot;,[484,&quot;^U&quot;,2,536872650]],[&quot;^14&quot;,[484,&quot;^?&quot;,false,536872643]],[&quot;^14&quot;,[484,&quot;^E&quot;,483,536872643]],[&quot;^14&quot;,[484,&quot;^W&quot;,475,536872643]],[&quot;^14&quot;,[484,&quot;^T&quot;,475,536872643]],[&quot;^14&quot;,[484,&quot;^S&quot;,475,536872650]],[&quot;^14&quot;,[484,&quot;^&gt;&quot;,[&quot;^ &quot;],536872650]],[&quot;^14&quot;,[484,&quot;^18&quot;,2,536872649]],[&quot;^14&quot;,[484,&quot;^V&quot;,&quot;^19&quot;,536872650]],[&quot;^14&quot;,[484,&quot;^17&quot;,true,536872643]],[&quot;^14&quot;,[484,&quot;^:&quot;,&quot;~u62769980-7fe8-44a0-9e89-28b81f6909e2&quot;,536872643]],[&quot;^14&quot;,[485,&quot;^P&quot;,&quot;1. 互斥使用，即当资源被一个线程占用时，别的线程不能使用\\n2. 不可抢占，资源请求者不能强制从资源占有者手中抢夺资源，资源只能由占有者主动释放\\n3. 请求和保持，当资源请求者在请求其他资源的同时保持对原有资源的占有\\n4. 循环等待，多个线程存在环路的锁依赖关系而永远等待下去，例如T1占有T2的资源，T2占有T3的资源，T3占有T1的资源，这种情况可能会形成一个等待环路\\n\\n&quot;,536872688]],[&quot;^14&quot;,[485,&quot;^N&quot;,&quot;^16&quot;,536872651]],[&quot;^14&quot;,[485,&quot;^?&quot;,false,536872651]],[&quot;^14&quot;,[485,&quot;^E&quot;,484,536872651]],[&quot;^14&quot;,[485,&quot;^W&quot;,475,536872651]],[&quot;^14&quot;,[485,&quot;^T&quot;,475,536872651]],[&quot;^14&quot;,[485,&quot;^S&quot;,475,536872688]],[&quot;^14&quot;,[485,&quot;^&gt;&quot;,[&quot;^ &quot;],536872688]],[&quot;^14&quot;,[485,&quot;^17&quot;,true,536872651]],[&quot;^14&quot;,[485,&quot;^:&quot;,&quot;~u62769982-82be-4fec-aef7-d8b24051f5d8&quot;,536872651]],[&quot;^14&quot;,[488,&quot;^P&quot;,&quot;对于死锁产生的四个条件只要能破坏其中一条即可让死锁消失，但是条件一是基础，不能被破坏。&quot;,536872688]],[&quot;^14&quot;,[488,&quot;^N&quot;,&quot;^16&quot;,536872688]],[&quot;^14&quot;,[488,&quot;^E&quot;,485,536872688]],[&quot;^14&quot;,[488,&quot;^W&quot;,475,536872688]],[&quot;^14&quot;,[488,&quot;^T&quot;,475,536872688]],[&quot;^14&quot;,[488,&quot;^S&quot;,475,536872688]],[&quot;^14&quot;,[488,&quot;^17&quot;,true,536872688]],[&quot;^14&quot;,[488,&quot;^:&quot;,&quot;~u9a0849ef-6927-40b5-a181-f93a04c3b366&quot;,536872688]],[&quot;^14&quot;,[493,&quot;^P&quot;,&quot;~```java\\npackage com.tuyrk.chapter08;\\n\\nimport java.util.stream.IntStream;\\n\\npublic class Counter {\\n\\n    private Object lockA = new Object();\\n    private Object lockB = new Object();\\n\\n\\n    private int value;\\n    private int another;\\n\\n\\n    public void add(int m) {\\n        synchronized (lockA) { // 获得lockA的锁\\n            this.value += m;\\n            synchronized (lockB) { // 获得lockB的锁\\n                this.another += m;\\n            } // 释放lockB的锁\\n        } // 释放lockA的锁\\n    }\\n\\n    public void dec(int m) {\\n        synchronized (lockB) { // 获得lockB的锁\\n            this.another -= m;\\n            synchronized (lockA) { // 获得lockA的锁\\n                this.value -= m;\\n            } // 释放lockA的锁\\n        } // 释放lockB的锁\\n    }\\n\\n    public static void main(String[] args) {\\n\\n        Counter counter = new Counter();\\n\\n        Thread t1 = new Thread(() -&gt; {\\n            IntStream.range(0, 100000).forEach((i) -&gt; {\\n                counter.dec(1);\\n                System.out.println(Thread.currentThread().getName() + \\&quot;=========\\&quot; + counter.value);\\n            });\\n        });\\n        t1.start();\\n        Thread t2 = new Thread(() -&gt; {\\n            IntStream.range(0, 100000).forEach((i) -&gt; {\\n                counter.add(1);\\n                System.out.println(Thread.currentThread().getName() + \\&quot;=========\\&quot; + counter.value);\\n            });\\n        });\\n        t2.start();\\n    }\\n\\n}\\n\\n```&quot;,536872774]],[&quot;^14&quot;,[493,&quot;^N&quot;,&quot;^16&quot;,536872704]],[&quot;^14&quot;,[493,&quot;^?&quot;,false,536872704]],[&quot;^14&quot;,[493,&quot;^E&quot;,481,536872704]],[&quot;^14&quot;,[493,&quot;^W&quot;,475,536872704]],[&quot;^14&quot;,[493,&quot;^T&quot;,475,536872704]],[&quot;^14&quot;,[493,&quot;^S&quot;,475,536872774]],[&quot;^14&quot;,[493,&quot;^&gt;&quot;,[&quot;^ &quot;],536872774]],[&quot;^14&quot;,[493,&quot;^17&quot;,true,536872704]],[&quot;^14&quot;,[493,&quot;^:&quot;,&quot;~u62769ba6-1bd9-4e54-829f-abe769431ef9&quot;,536872704]],[&quot;^14&quot;,[494,&quot;^P&quot;,&quot;在获取多个锁的时候，不同线程获取多个不同对象的锁[[#blue]]==可能==导致死锁。对于上述代码，线程1和线程2如果分别执行add()和dec()方法时：&quot;,536872783]],[&quot;^14&quot;,[494,&quot;^N&quot;,&quot;^16&quot;,536872719]],[&quot;^14&quot;,[494,&quot;^?&quot;,false,536872719]],[&quot;^14&quot;,[494,&quot;^E&quot;,493,536872719]],[&quot;^14&quot;,[494,&quot;^W&quot;,475,536872719]],[&quot;^14&quot;,[494,&quot;^T&quot;,475,536872719]],[&quot;^14&quot;,[494,&quot;^S&quot;,237,536872783]],[&quot;^14&quot;,[494,&quot;^S&quot;,475,536872783]],[&quot;^14&quot;,[494,&quot;^&gt;&quot;,[&quot;^ &quot;],536872783]],[&quot;^14&quot;,[494,&quot;^G&quot;,237,536872783]],[&quot;^14&quot;,[494,&quot;^17&quot;,true,536872719]],[&quot;^14&quot;,[494,&quot;^:&quot;,&quot;~u62769c23-a459-4bdb-b0ba-f8542188c5fe&quot;,536872719]],[&quot;^14&quot;,[495,&quot;^P&quot;,&quot;线程1：进入add()，获得lockA；\\n线程2：进入dec()，获得lockB。&quot;,536872735]],[&quot;^14&quot;,[495,&quot;^N&quot;,&quot;^16&quot;,536872722]],[&quot;^14&quot;,[495,&quot;^E&quot;,494,536872722]],[&quot;^14&quot;,[495,&quot;^W&quot;,475,536872722]],[&quot;^14&quot;,[495,&quot;^T&quot;,494,536872741]],[&quot;^14&quot;,[495,&quot;^S&quot;,475,536872735]],[&quot;^14&quot;,[495,&quot;^&gt;&quot;,[&quot;^ &quot;],536872735]],[&quot;^14&quot;,[495,&quot;^17&quot;,true,536872722]],[&quot;^14&quot;,[495,&quot;^:&quot;,&quot;~u7b90953d-f79f-462f-a781-db7a51cb0c06&quot;,536872722]],[&quot;^14&quot;,[496,&quot;^P&quot;,&quot;线程1：准备获得lockB，失败，等待中；\\n线程2：准备获得lockA，失败，等待中。&quot;,536872722]],[&quot;^14&quot;,[496,&quot;^N&quot;,&quot;^16&quot;,536872722]],[&quot;^14&quot;,[496,&quot;^E&quot;,497,536872738]],[&quot;^14&quot;,[496,&quot;^W&quot;,475,536872722]],[&quot;^14&quot;,[496,&quot;^T&quot;,497,536872738]],[&quot;^14&quot;,[496,&quot;^S&quot;,475,536872722]],[&quot;^14&quot;,[496,&quot;^17&quot;,true,536872722]],[&quot;^14&quot;,[496,&quot;^:&quot;,&quot;~u20231e4f-7ce7-47e6-bde8-4f81a9b500de&quot;,536872722]],[&quot;^14&quot;,[497,&quot;^P&quot;,&quot;随后：&quot;,536872734]],[&quot;^14&quot;,[497,&quot;^N&quot;,&quot;^16&quot;,536872734]],[&quot;^14&quot;,[497,&quot;^E&quot;,494,536872741]],[&quot;^14&quot;,[497,&quot;^W&quot;,475,536872734]],[&quot;^14&quot;,[497,&quot;^T&quot;,475,536872738]],[&quot;^14&quot;,[497,&quot;^S&quot;,475,536872734]],[&quot;^14&quot;,[497,&quot;^&gt;&quot;,[&quot;^ &quot;],536872734]],[&quot;^14&quot;,[497,&quot;^17&quot;,true,536872734]],[&quot;^14&quot;,[497,&quot;^:&quot;,&quot;~u62769c37-88e4-469f-a5e1-2fe519cb0f10&quot;,536872734]],[&quot;^14&quot;,[498,&quot;^P&quot;,&quot;此时，两个线程各自持有不同的锁，然后各自试图获取对方手里的锁，造成了双方无限等待下去，这就是死锁。&quot;,536872745]],[&quot;^14&quot;,[498,&quot;^N&quot;,&quot;^16&quot;,536872744]],[&quot;^14&quot;,[498,&quot;^?&quot;,false,536872744]],[&quot;^14&quot;,[498,&quot;^E&quot;,497,536872744]],[&quot;^14&quot;,[498,&quot;^W&quot;,475,536872744]],[&quot;^14&quot;,[498,&quot;^T&quot;,475,536872744]],[&quot;^14&quot;,[498,&quot;^S&quot;,475,536872745]],[&quot;^14&quot;,[498,&quot;^&gt;&quot;,[&quot;^ &quot;],536872745]],[&quot;^14&quot;,[498,&quot;^17&quot;,true,536872744]],[&quot;^14&quot;,[498,&quot;^:&quot;,&quot;~u62769c4b-c24a-4097-b9c9-8560a7509a78&quot;,536872744]],[&quot;^14&quot;,[500,&quot;^P&quot;,&quot;因此，在编写多线程应用时，要特别注意防止死锁。因为死锁一旦形成，就只能强制结束进程。&quot;,536872745]],[&quot;^14&quot;,[500,&quot;^N&quot;,&quot;^16&quot;,536872745]],[&quot;^14&quot;,[500,&quot;^E&quot;,503,536872786]],[&quot;^14&quot;,[500,&quot;^W&quot;,475,536872745]],[&quot;^14&quot;,[500,&quot;^T&quot;,475,536872745]],[&quot;^14&quot;,[500,&quot;^S&quot;,475,536872786]],[&quot;^14&quot;,[500,&quot;^17&quot;,true,536872745]],[&quot;^14&quot;,[500,&quot;^:&quot;,&quot;~u0672e5fe-81a0-4fa0-993e-606b77d3f5f8&quot;,536872745]],[&quot;^14&quot;,[501,&quot;^P&quot;,&quot;那么我们应该如何避免死锁呢？答案是：[[$red]]==线程获取锁的顺序要一致==。即严格按照先获取lockA，再获取lockB的顺序，改写dec()方法如下：&quot;,536872795]],[&quot;^14&quot;,[501,&quot;^N&quot;,&quot;^16&quot;,536872745]],[&quot;^14&quot;,[501,&quot;^E&quot;,500,536872745]],[&quot;^14&quot;,[501,&quot;^W&quot;,475,536872745]],[&quot;^14&quot;,[501,&quot;^T&quot;,475,536872745]],[&quot;^14&quot;,[501,&quot;^S&quot;,141,536872795]],[&quot;^14&quot;,[501,&quot;^S&quot;,475,536872795]],[&quot;^14&quot;,[501,&quot;^&gt;&quot;,[&quot;^ &quot;],536872795]],[&quot;^14&quot;,[501,&quot;^G&quot;,141,536872795]],[&quot;^14&quot;,[501,&quot;^17&quot;,true,536872745]],[&quot;^14&quot;,[501,&quot;^:&quot;,&quot;~u70f64122-4244-4546-a36c-8cfa2d796bd4&quot;,536872745]],[&quot;^14&quot;,[502,&quot;^P&quot;,&quot;![image.png](../assets/image_1651941138117_0.png)&quot;,536872764]],[&quot;^14&quot;,[502,&quot;^N&quot;,&quot;^16&quot;,536872751]],[&quot;^14&quot;,[502,&quot;^?&quot;,false,536872751]],[&quot;^14&quot;,[502,&quot;^E&quot;,498,536872751]],[&quot;^14&quot;,[502,&quot;^W&quot;,475,536872751]],[&quot;^14&quot;,[502,&quot;^T&quot;,475,536872751]],[&quot;^14&quot;,[502,&quot;^S&quot;,475,536872764]],[&quot;^14&quot;,[502,&quot;^&gt;&quot;,[&quot;^ &quot;],536872764]],[&quot;^14&quot;,[502,&quot;^17&quot;,true,536872751]],[&quot;^14&quot;,[502,&quot;^:&quot;,&quot;~u62769eed-8cec-4a45-96f1-cdbb171d1afd&quot;,536872751]],[&quot;^14&quot;,[503,&quot;^P&quot;,&quot;死锁发生后，没有任何机制能解除死锁，只能强制结束JVM进程。&quot;,536872792]],[&quot;^14&quot;,[503,&quot;^N&quot;,&quot;^16&quot;,536872752]],[&quot;^14&quot;,[503,&quot;^?&quot;,false,536872752]],[&quot;^14&quot;,[503,&quot;^E&quot;,502,536872752]],[&quot;^14&quot;,[503,&quot;^W&quot;,475,536872752]],[&quot;^14&quot;,[503,&quot;^T&quot;,475,536872752]],[&quot;^14&quot;,[503,&quot;^S&quot;,475,536872792]],[&quot;^14&quot;,[503,&quot;^&gt;&quot;,[&quot;^ &quot;],536872792]],[&quot;^14&quot;,[503,&quot;^17&quot;,true,536872752]],[&quot;^14&quot;,[503,&quot;^:&quot;,&quot;~u62769eed-aded-4524-b1be-d4fa385a189a&quot;,536872752]],[&quot;^14&quot;,[505,&quot;^P&quot;,&quot;~```java\\npublic void dec(int m) {\\n    synchronized(lockA) { // 获得lockA的锁\\n        this.value -= m;\\n        synchronized(lockB) { // 获得lockB的锁\\n            this.another -= m;\\n        } // 释放lockB的锁\\n    } // 释放lockA的锁\\n}\\n```&quot;,536872805]],[&quot;^14&quot;,[505,&quot;^N&quot;,&quot;^16&quot;,536872798]],[&quot;^14&quot;,[505,&quot;^?&quot;,false,536872798]],[&quot;^14&quot;,[505,&quot;^E&quot;,501,536872798]],[&quot;^14&quot;,[505,&quot;^W&quot;,475,536872798]],[&quot;^14&quot;,[505,&quot;^T&quot;,475,536872798]],[&quot;^14&quot;,[505,&quot;^S&quot;,475,536872805]],[&quot;^14&quot;,[505,&quot;^&gt;&quot;,[&quot;^ &quot;],536872805]],[&quot;^14&quot;,[505,&quot;^17&quot;,true,536872798]],[&quot;^14&quot;,[505,&quot;^:&quot;,&quot;~u62769ffd-21cd-4395-a90d-681c277aaedf&quot;,536872798]],[&quot;^14&quot;,[506,&quot;^P&quot;,&quot;[[16.线程通信以及生产者消费者模型]]&quot;,536872823]],[&quot;^14&quot;,[506,&quot;^N&quot;,&quot;^16&quot;,536872808]],[&quot;^14&quot;,[506,&quot;^?&quot;,true,536872808]],[&quot;^14&quot;,[506,&quot;^E&quot;,473,536872808]],[&quot;^14&quot;,[506,&quot;^W&quot;,472,536872808]],[&quot;^14&quot;,[506,&quot;^T&quot;,472,536872808]],[&quot;^14&quot;,[506,&quot;^S&quot;,472,536872823]],[&quot;^14&quot;,[506,&quot;^S&quot;,508,536872823]],[&quot;^14&quot;,[506,&quot;^&gt;&quot;,[&quot;^ &quot;],536872823]],[&quot;^14&quot;,[506,&quot;^G&quot;,508,536872823]],[&quot;^14&quot;,[506,&quot;^17&quot;,true,536872808]],[&quot;^14&quot;,[506,&quot;^:&quot;,&quot;~u62772467-880d-41b9-a700-daf840eff2b1&quot;,536872808]],[&quot;^14&quot;,[508,&quot;^J&quot;,1651975303787,536872823]],[&quot;^14&quot;,[508,&quot;^?&quot;,false,536872823]],[&quot;^14&quot;,[508,&quot;^X&quot;,&quot;16.线程通信以及生产者消费者模型&quot;,536872823]],[&quot;^14&quot;,[508,&quot;^10&quot;,&quot;16.线程通信以及生产者消费者模型&quot;,536872823]],[&quot;^14&quot;,[508,&quot;^A&quot;,1651985456407,536873522]],[&quot;^14&quot;,[508,&quot;^:&quot;,&quot;~u62772487-1595-45c7-b4c6-8c0e9bc5e3d6&quot;,536872823]],[&quot;^14&quot;,[511,&quot;^P&quot;,&quot;**线程间通信**或**协作**都是关于允许同步线程相互通信。&quot;,536872868]],[&quot;^14&quot;,[511,&quot;^N&quot;,&quot;^16&quot;,536872839]],[&quot;^14&quot;,[511,&quot;^E&quot;,553,536873315]],[&quot;^14&quot;,[511,&quot;^W&quot;,508,536872839]],[&quot;^14&quot;,[511,&quot;^T&quot;,508,536872839]],[&quot;^14&quot;,[511,&quot;^S&quot;,508,536873013]],[&quot;^14&quot;,[511,&quot;^&gt;&quot;,[&quot;^ &quot;],536873013]],[&quot;^14&quot;,[511,&quot;^17&quot;,true,536872839]],[&quot;^14&quot;,[511,&quot;^:&quot;,&quot;~u892590b5-0d58-4443-aa59-ae9018fb51c9&quot;,536872839]],[&quot;^14&quot;,[512,&quot;^P&quot;,&quot;协作（Inter-thread communication）是一种机制，其中一个线程在其临界区暂停运行，并允许另一个线程进入（或锁定）在同一临界区执行。它通过Object类的以下方法实现：&quot;,536872839]],[&quot;^14&quot;,[512,&quot;^N&quot;,&quot;^16&quot;,536872839]],[&quot;^14&quot;,[512,&quot;^E&quot;,511,536872839]],[&quot;^14&quot;,[512,&quot;^W&quot;,508,536872839]],[&quot;^14&quot;,[512,&quot;^T&quot;,508,536872839]],[&quot;^14&quot;,[512,&quot;^S&quot;,508,536872839]],[&quot;^14&quot;,[512,&quot;^17&quot;,true,536872839]],[&quot;^14&quot;,[512,&quot;^:&quot;,&quot;~u7da0ab93-bab0-4d8f-b7a4-5657357fb1fc&quot;,536872839]],[&quot;^14&quot;,[513,&quot;^P&quot;,&quot;## Reference&quot;,536872848]],[&quot;^14&quot;,[513,&quot;^N&quot;,&quot;^16&quot;,536872842]],[&quot;^14&quot;,[513,&quot;^U&quot;,2,536872848]],[&quot;^14&quot;,[513,&quot;^?&quot;,false,536872842]],[&quot;^14&quot;,[513,&quot;^E&quot;,508,536872842]],[&quot;^14&quot;,[513,&quot;^W&quot;,508,536872842]],[&quot;^14&quot;,[513,&quot;^T&quot;,508,536872842]],[&quot;^14&quot;,[513,&quot;^S&quot;,508,536872848]],[&quot;^14&quot;,[513,&quot;^&gt;&quot;,[&quot;^ &quot;],536872848]],[&quot;^14&quot;,[513,&quot;^18&quot;,2,536872845]],[&quot;^14&quot;,[513,&quot;^V&quot;,&quot;^19&quot;,536872848]],[&quot;^14&quot;,[513,&quot;^17&quot;,true,536872842]],[&quot;^14&quot;,[513,&quot;^:&quot;,&quot;~u62773527-d1df-4e20-b724-ce193a7c57f2&quot;,536872842]],[&quot;^14&quot;,[514,&quot;^P&quot;,&quot;&gt;https://www.javatpoint.com/inter-thread-communication-example&quot;,536872855]],[&quot;^14&quot;,[514,&quot;^N&quot;,&quot;^16&quot;,536872849]],[&quot;^14&quot;,[514,&quot;^?&quot;,false,536872849]],[&quot;^14&quot;,[514,&quot;^E&quot;,513,536872849]],[&quot;^14&quot;,[514,&quot;^W&quot;,508,536872849]],[&quot;^14&quot;,[514,&quot;^T&quot;,508,536872849]],[&quot;^14&quot;,[514,&quot;^S&quot;,508,536872855]],[&quot;^14&quot;,[514,&quot;^&gt;&quot;,[&quot;^ &quot;],536872855]],[&quot;^14&quot;,[514,&quot;^17&quot;,true,536872849]],[&quot;^14&quot;,[514,&quot;^:&quot;,&quot;~u6277352b-06d3-4ca6-b00d-2fea594465e1&quot;,536872849]],[&quot;^14&quot;,[516,&quot;^P&quot;,&quot;&gt;wait()\\nnotify()\\nnotifyAll()&quot;,536872877]],[&quot;^14&quot;,[516,&quot;^N&quot;,&quot;^16&quot;,536872859]],[&quot;^14&quot;,[516,&quot;^?&quot;,false,536872859]],[&quot;^14&quot;,[516,&quot;^E&quot;,512,536872859]],[&quot;^14&quot;,[516,&quot;^W&quot;,508,536872859]],[&quot;^14&quot;,[516,&quot;^T&quot;,508,536872859]],[&quot;^14&quot;,[516,&quot;^S&quot;,508,536872877]],[&quot;^14&quot;,[516,&quot;^&gt;&quot;,[&quot;^ &quot;],536872877]],[&quot;^14&quot;,[516,&quot;^17&quot;,true,536872859]],[&quot;^14&quot;,[516,&quot;^:&quot;,&quot;~u6277353a-b013-41e0-991f-06d6cc16be29&quot;,536872859]],[&quot;^14&quot;,[517,&quot;^P&quot;,&quot;## 1) wait() method&quot;,536872883]],[&quot;^14&quot;,[517,&quot;^N&quot;,&quot;^16&quot;,536872871]],[&quot;^14&quot;,[517,&quot;^U&quot;,2,536873373]],[&quot;^14&quot;,[517,&quot;^?&quot;,false,536872871]],[&quot;^14&quot;,[517,&quot;^E&quot;,558,536873373]],[&quot;^14&quot;,[517,&quot;^W&quot;,508,536872871]],[&quot;^14&quot;,[517,&quot;^T&quot;,508,536872871]],[&quot;^14&quot;,[517,&quot;^S&quot;,508,536873373]],[&quot;^14&quot;,[517,&quot;^&gt;&quot;,[&quot;^ &quot;],536873373]],[&quot;^14&quot;,[517,&quot;^18&quot;,2,536872883]],[&quot;^14&quot;,[517,&quot;^V&quot;,&quot;^19&quot;,536873373]],[&quot;^14&quot;,[517,&quot;^17&quot;,true,536872871]],[&quot;^14&quot;,[517,&quot;^:&quot;,&quot;~u6277355e-28cb-4105-89c4-b5c3feb46f45&quot;,536872871]],[&quot;^14&quot;,[518,&quot;^P&quot;,&quot;[[#red]]==wait()==方法使当前线程释放锁并等待，直到另一个线程调用此对象的[[#red]]==notify()==方法或[[#red]]==notifyAll()==方法，或者经过指定的时间。&quot;,536872921]],[&quot;^14&quot;,[518,&quot;^N&quot;,&quot;^16&quot;,536872884]],[&quot;^14&quot;,[518,&quot;^?&quot;,false,536872884]],[&quot;^14&quot;,[518,&quot;^E&quot;,517,536872884]],[&quot;^14&quot;,[518,&quot;^W&quot;,508,536872884]],[&quot;^14&quot;,[518,&quot;^T&quot;,508,536872884]],[&quot;^14&quot;,[518,&quot;^S&quot;,36,536872921]],[&quot;^14&quot;,[518,&quot;^S&quot;,508,536872921]],[&quot;^14&quot;,[518,&quot;^&gt;&quot;,[&quot;^ &quot;],536872921]],[&quot;^14&quot;,[518,&quot;^G&quot;,36,536872921]],[&quot;^14&quot;,[518,&quot;^17&quot;,true,536872884]],[&quot;^14&quot;,[518,&quot;^:&quot;,&quot;~u6277358c-139e-4e7f-968c-98cc043b898e&quot;,536872884]],[&quot;^14&quot;,[522,&quot;^J&quot;,1651979801550,536872941]],[&quot;^14&quot;,[522,&quot;^M&quot;,20220509,536872941]],[&quot;^14&quot;,[522,&quot;^?&quot;,true,536872941]],[&quot;^14&quot;,[522,&quot;^X&quot;,&quot;may 9th, 2022&quot;,536872941]],[&quot;^14&quot;,[522,&quot;^10&quot;,&quot;May 9th, 2022&quot;,536872941]],[&quot;^14&quot;,[522,&quot;^A&quot;,1651979801550,536872941]],[&quot;^14&quot;,[522,&quot;^:&quot;,&quot;~u62773619-6889-4e54-8f25-53a373699348&quot;,536872941]],[&quot;^14&quot;,[525,&quot;^J&quot;,1651979934341,536873020]],[&quot;^14&quot;,[525,&quot;^?&quot;,false,536872952]],[&quot;^14&quot;,[525,&quot;^X&quot;,&quot;draws/2022-05-08-11-17-08.excalidraw&quot;,536872952]],[&quot;^14&quot;,[525,&quot;^A&quot;,1651979934341,536873020]],[&quot;^14&quot;,[527,&quot;^11&quot;,1,536873019]],[&quot;^14&quot;,[530,&quot;^P&quot;,&quot;&gt;https://docs.oracle.com/javase/tutorial/essential/concurrency/deadlock.html&quot;,536873056]],[&quot;^14&quot;,[530,&quot;^N&quot;,&quot;^16&quot;,536873047]],[&quot;^14&quot;,[530,&quot;^?&quot;,false,536873047]],[&quot;^14&quot;,[530,&quot;^E&quot;,482,536873047]],[&quot;^14&quot;,[530,&quot;^W&quot;,475,536873047]],[&quot;^14&quot;,[530,&quot;^T&quot;,475,536873047]],[&quot;^14&quot;,[530,&quot;^S&quot;,475,536873056]],[&quot;^14&quot;,[530,&quot;^&gt;&quot;,[&quot;^ &quot;],536873056]],[&quot;^14&quot;,[530,&quot;^17&quot;,true,536873047]],[&quot;^14&quot;,[530,&quot;^:&quot;,&quot;~u62773b75-9297-4567-8316-c33fafc0abcd&quot;,536873047]],[&quot;^14&quot;,[531,&quot;^P&quot;,&quot;## 2) notify() method&quot;,536873298]],[&quot;^14&quot;,[531,&quot;^N&quot;,&quot;^16&quot;,536873061]],[&quot;^14&quot;,[531,&quot;^U&quot;,2,536873298]],[&quot;^14&quot;,[531,&quot;^?&quot;,false,536873061]],[&quot;^14&quot;,[531,&quot;^E&quot;,543,536873292]],[&quot;^14&quot;,[531,&quot;^W&quot;,508,536873061]],[&quot;^14&quot;,[531,&quot;^T&quot;,508,536873061]],[&quot;^14&quot;,[531,&quot;^S&quot;,508,536873298]],[&quot;^14&quot;,[531,&quot;^&gt;&quot;,[&quot;^ &quot;],536873298]],[&quot;^14&quot;,[531,&quot;^18&quot;,2,536873289]],[&quot;^14&quot;,[531,&quot;^V&quot;,&quot;^19&quot;,536873298]],[&quot;^14&quot;,[531,&quot;^17&quot;,true,536873061]],[&quot;^14&quot;,[531,&quot;^:&quot;,&quot;~u62773c9e-09b3-4f8c-a3e8-123a3624f049&quot;,536873061]],[&quot;^14&quot;,[533,&quot;^?&quot;,false,536873067]],[&quot;^14&quot;,[533,&quot;^X&quot;,&quot;draws/2022-05-08-11-45-30.excalidraw&quot;,536873067]],[&quot;^14&quot;,[543,&quot;^P&quot;,&quot;|方法|说明|\\n|--|--|\\n|public final void [[#red]]==wait()==throws InterruptedException\\t|一直等到对象通知|\\n|public final void [[#red]]==wait(long timeout)==throws InterruptedException\\t|等待指定时间，如果没通知就放弃等待|&quot;,536873364]],[&quot;^14&quot;,[543,&quot;^N&quot;,&quot;^16&quot;,536873148]],[&quot;^14&quot;,[543,&quot;^?&quot;,false,536873148]],[&quot;^14&quot;,[543,&quot;^E&quot;,518,536873199]],[&quot;^14&quot;,[543,&quot;^W&quot;,508,536873148]],[&quot;^14&quot;,[543,&quot;^T&quot;,508,536873148]],[&quot;^14&quot;,[543,&quot;^S&quot;,36,536873364]],[&quot;^14&quot;,[543,&quot;^S&quot;,508,536873364]],[&quot;^14&quot;,[543,&quot;^&gt;&quot;,[&quot;^ &quot;],536873364]],[&quot;^14&quot;,[543,&quot;^G&quot;,36,536873364]],[&quot;^14&quot;,[543,&quot;^17&quot;,true,536873148]],[&quot;^14&quot;,[543,&quot;^:&quot;,&quot;~u62773f81-e951-421d-8b01-752c537ca3b3&quot;,536873148]],[&quot;^14&quot;,[550,&quot;^P&quot;,&quot;Wakes up a single thread that is waiting on this object&apos;s monitor. If any threads are waiting on this object, one of them is chosen to be awakened. The choice is arbitrary and occurs at the discretion of the implementation. A thread waits on an object&apos;s monitor by calling one of the wait methods.（唤醒正在此对象的监视器上等待的单个线程。如果有任何线程正在等待该对象，则选择其中一个被唤醒。该选择是任意的，并由实现自行决定。线程通过调用其中一个等待方法在对象的监视器上等待。\\n）&quot;,536873393]],[&quot;^14&quot;,[550,&quot;^N&quot;,&quot;^16&quot;,536873299]],[&quot;^14&quot;,[550,&quot;^?&quot;,false,536873299]],[&quot;^14&quot;,[550,&quot;^E&quot;,531,536873299]],[&quot;^14&quot;,[550,&quot;^W&quot;,508,536873299]],[&quot;^14&quot;,[550,&quot;^T&quot;,508,536873299]],[&quot;^14&quot;,[550,&quot;^S&quot;,508,536873393]],[&quot;^14&quot;,[550,&quot;^&gt;&quot;,[&quot;^ &quot;],536873393]],[&quot;^14&quot;,[550,&quot;^17&quot;,true,536873299]],[&quot;^14&quot;,[550,&quot;^:&quot;,&quot;~u62774114-47e4-4eed-8440-b4394eba000a&quot;,536873299]],[&quot;^14&quot;,[552,&quot;^P&quot;,&quot;&gt;https://www.twle.cn/c/yufei/javatm/javatm-basic-notify-wait.html&quot;,536873312]],[&quot;^14&quot;,[552,&quot;^N&quot;,&quot;^16&quot;,536873308]],[&quot;^14&quot;,[552,&quot;^?&quot;,false,536873308]],[&quot;^14&quot;,[552,&quot;^E&quot;,514,536873308]],[&quot;^14&quot;,[552,&quot;^W&quot;,508,536873308]],[&quot;^14&quot;,[552,&quot;^T&quot;,508,536873308]],[&quot;^14&quot;,[552,&quot;^S&quot;,508,536873312]],[&quot;^14&quot;,[552,&quot;^&gt;&quot;,[&quot;^ &quot;],536873312]],[&quot;^14&quot;,[552,&quot;^17&quot;,true,536873308]],[&quot;^14&quot;,[552,&quot;^:&quot;,&quot;~u627743bf-13ce-4a55-9387-1d0f0c5361f6&quot;,536873308]],[&quot;^14&quot;,[553,&quot;^P&quot;,&quot;&gt;https://docs.oracle.com/javase/8/docs/api/&quot;,536873321]],[&quot;^14&quot;,[553,&quot;^N&quot;,&quot;^16&quot;,536873315]],[&quot;^14&quot;,[553,&quot;^?&quot;,false,536873315]],[&quot;^14&quot;,[553,&quot;^E&quot;,552,536873315]],[&quot;^14&quot;,[553,&quot;^W&quot;,508,536873315]],[&quot;^14&quot;,[553,&quot;^T&quot;,508,536873315]],[&quot;^14&quot;,[553,&quot;^S&quot;,508,536873321]],[&quot;^14&quot;,[553,&quot;^&gt;&quot;,[&quot;^ &quot;],536873321]],[&quot;^14&quot;,[553,&quot;^17&quot;,true,536873315]],[&quot;^14&quot;,[553,&quot;^:&quot;,&quot;~u627743c7-bb2d-4bc4-9739-103e55b04161&quot;,536873315]],[&quot;^14&quot;,[554,&quot;^P&quot;,&quot;## Java 中的哨兵块 ( guarded block )&quot;,536873333]],[&quot;^14&quot;,[554,&quot;^N&quot;,&quot;^16&quot;,536873324]],[&quot;^14&quot;,[554,&quot;^U&quot;,2,536873333]],[&quot;^14&quot;,[554,&quot;^?&quot;,false,536873324]],[&quot;^14&quot;,[554,&quot;^E&quot;,516,536873324]],[&quot;^14&quot;,[554,&quot;^W&quot;,508,536873324]],[&quot;^14&quot;,[554,&quot;^T&quot;,508,536873324]],[&quot;^14&quot;,[554,&quot;^S&quot;,508,536873333]],[&quot;^14&quot;,[554,&quot;^&gt;&quot;,[&quot;^ &quot;],536873333]],[&quot;^14&quot;,[554,&quot;^18&quot;,2,536873333]],[&quot;^14&quot;,[554,&quot;^V&quot;,&quot;^19&quot;,536873333]],[&quot;^14&quot;,[554,&quot;^17&quot;,true,536873324]],[&quot;^14&quot;,[554,&quot;^:&quot;,&quot;~u6277442b-fdcd-44af-b051-c5b8a8d3a14e&quot;,536873324]],[&quot;^14&quot;,[555,&quot;^P&quot;,&quot;Java 中，可以用来协调多个线程操作的一个工具是 「 哨兵块 」。这个哨兵块会在恢复执行前检查特定条件。&quot;,536873339]],[&quot;^14&quot;,[555,&quot;^N&quot;,&quot;^16&quot;,536873336]],[&quot;^14&quot;,[555,&quot;^?&quot;,false,536873336]],[&quot;^14&quot;,[555,&quot;^E&quot;,554,536873336]],[&quot;^14&quot;,[555,&quot;^W&quot;,508,536873336]],[&quot;^14&quot;,[555,&quot;^T&quot;,508,536873336]],[&quot;^14&quot;,[555,&quot;^S&quot;,508,536873339]],[&quot;^14&quot;,[555,&quot;^&gt;&quot;,[&quot;^ &quot;],536873339]],[&quot;^14&quot;,[555,&quot;^17&quot;,true,536873336]],[&quot;^14&quot;,[555,&quot;^:&quot;,&quot;~u62774433-7413-4278-8cd7-6097a7426748&quot;,536873336]],[&quot;^14&quot;,[556,&quot;^P&quot;,&quot;基于这种哨兵检查的思想，Java 在所有类的基类 [[#red]]==Object== 中提供了两个方法&quot;,536873342]],[&quot;^14&quot;,[556,&quot;^N&quot;,&quot;^16&quot;,536873339]],[&quot;^14&quot;,[556,&quot;^E&quot;,555,536873339]],[&quot;^14&quot;,[556,&quot;^W&quot;,508,536873339]],[&quot;^14&quot;,[556,&quot;^T&quot;,508,536873339]],[&quot;^14&quot;,[556,&quot;^S&quot;,36,536873342]],[&quot;^14&quot;,[556,&quot;^S&quot;,508,536873342]],[&quot;^14&quot;,[556,&quot;^&gt;&quot;,[&quot;^ &quot;],536873342]],[&quot;^14&quot;,[556,&quot;^G&quot;,36,536873342]],[&quot;^14&quot;,[556,&quot;^17&quot;,true,536873339]],[&quot;^14&quot;,[556,&quot;^:&quot;,&quot;~u59ef0bd5-00de-407c-a519-277f97e04d38&quot;,536873339]],[&quot;^14&quot;,[558,&quot;^P&quot;,&quot;|**方法**|**说明**|\\n|--|--|\\n|Object.wait()|暂停一个线程|\\n|Object.notify()\\t|唤醒一个线程|&quot;,536873379]],[&quot;^14&quot;,[558,&quot;^N&quot;,&quot;^16&quot;,536873367]],[&quot;^14&quot;,[558,&quot;^E&quot;,556,536873367]],[&quot;^14&quot;,[558,&quot;^W&quot;,508,536873367]],[&quot;^14&quot;,[558,&quot;^T&quot;,508,536873367]],[&quot;^14&quot;,[558,&quot;^S&quot;,508,536873379]],[&quot;^14&quot;,[558,&quot;^&gt;&quot;,[&quot;^ &quot;],536873379]],[&quot;^14&quot;,[558,&quot;^17&quot;,true,536873367]],[&quot;^14&quot;,[558,&quot;^:&quot;,&quot;~u627744f4-cda8-4d1b-8d19-b57a8eef1d8c&quot;,536873367]],[&quot;^14&quot;,[559,&quot;^P&quot;,&quot;我觉得可以理解为monitor对象上维护了一个队列，[[#red]]==wait()==加入队列，而[[#red]]==notify()==则是从队列中取出一个，但[[#red]]==notify()==的时候是随机的取一个。&quot;,536873507]],[&quot;^14&quot;,[559,&quot;^N&quot;,&quot;^16&quot;,536873396]],[&quot;^14&quot;,[559,&quot;^?&quot;,false,536873396]],[&quot;^14&quot;,[559,&quot;^E&quot;,550,536873396]],[&quot;^14&quot;,[559,&quot;^W&quot;,508,536873396]],[&quot;^14&quot;,[559,&quot;^T&quot;,550,536873397]],[&quot;^14&quot;,[559,&quot;^S&quot;,36,536873507]],[&quot;^14&quot;,[559,&quot;^S&quot;,508,536873507]],[&quot;^14&quot;,[559,&quot;^&gt;&quot;,[&quot;^ &quot;],536873507]],[&quot;^14&quot;,[559,&quot;^G&quot;,36,536873507]],[&quot;^14&quot;,[559,&quot;^17&quot;,true,536873396]],[&quot;^14&quot;,[559,&quot;^:&quot;,&quot;~u62774599-6ceb-44ee-b2c6-9fcbb7d7ad4e&quot;,536873396]],[&quot;^14&quot;,[560,&quot;^P&quot;,&quot;The awakened thread will not be able to proceed until the current thread relinquishes the lock on this object. The awakened thread will compete in the usual manner with any other threads that might be actively competing to synchronize on this object; for example, the awakened thread enjoys no reliable privilege or disadvantage in being the next thread to lock this object.（在当前线程放弃对该对象的锁定之前，被唤醒的线程将无法继续。被唤醒的线程将以通常的方式与可能正在积极竞争以在该对象上同步的任何其他线程竞争；例如，被唤醒的线程在成为下一个锁定该对象的线程时不享有可靠的特权或劣势。）&quot;,536873522]],[&quot;^14&quot;,[560,&quot;^N&quot;,&quot;^16&quot;,536873510]],[&quot;^14&quot;,[560,&quot;^E&quot;,550,536873513]],[&quot;^14&quot;,[560,&quot;^W&quot;,508,536873510]],[&quot;^14&quot;,[560,&quot;^T&quot;,508,536873510]],[&quot;^14&quot;,[560,&quot;^S&quot;,508,536873522]],[&quot;^14&quot;,[560,&quot;^&gt;&quot;,[&quot;^ &quot;],536873522]],[&quot;^14&quot;,[560,&quot;^17&quot;,true,536873510]],[&quot;^14&quot;,[560,&quot;^:&quot;,&quot;~ud532b57f-947b-4384-a6de-fd4d8bfb70de&quot;,536873510]],[&quot;^14&quot;,[561,&quot;^P&quot;,&quot;&quot;,536873525]],[&quot;^14&quot;,[561,&quot;^N&quot;,&quot;^16&quot;,536873525]],[&quot;^14&quot;,[561,&quot;^?&quot;,false,536873525]],[&quot;^14&quot;,[561,&quot;^E&quot;,560,536873525]],[&quot;^14&quot;,[561,&quot;^W&quot;,508,536873525]],[&quot;^14&quot;,[561,&quot;^T&quot;,508,536873525]],[&quot;^14&quot;,[561,&quot;^&gt;&quot;,[&quot;^ &quot;],536873525]],[&quot;^14&quot;,[561,&quot;^17&quot;,true,536873525]],[&quot;^14&quot;,[561,&quot;^:&quot;,&quot;~u62774d2f-349e-41e0-80bf-f0b2d7fd6a32&quot;,536873525]]]]]]"</script><script>window.logseq_state="{:ui/theme \"light\", :ui/sidebar-collapsed-blocks {}, :ui/show-recent? false, :config {\"local\" {:shortcuts {}, :default-templates {:journals \"\"}, :macros {}, :shortcut/doc-mode-enter-for-new-block? false, :favorites [\"Java并发\"], :ui/show-empty-bullets? false, :preferred-workflow :now, :publishing/all-pages-public? true, :ref/default-open-blocks-level 2, :feature/enable-block-timestamps? false, :start-of-week 6, :ref/linked-references-collapsed-threshold 50, :outliner/block-title-collapse-enabled? false, :commands [], :meta/version 1, :hidden [], :default-queries {:journals [{:title \"🔨 NOW\", :query [:find (pull ?h [*]) :in $ ?start ?today :where [?h :block/marker ?marker] [(contains? #{\"NOW\" \"DOING\"} ?marker)] [?h :block/page ?p] [?p :block/journal? true] [?p :block/journal-day ?d] [(>= ?d ?start)] [(<= ?d ?today)]], :inputs [:14d :today], :result-transform (fn [result] (sort-by (fn [h] (get h :block/priority \"Z\")) result)), :collapsed? false} {:title \"📅 NEXT\", :query [:find (pull ?h [*]) :in $ ?start ?next :where [?h :block/marker ?marker] [(contains? #{\"NOW\" \"LATER\" \"TODO\"} ?marker)] [?h :block/ref-pages ?p] [?p :block/journal? true] [?p :block/journal-day ?d] [(> ?d ?start)] [(< ?d ?next)]], :inputs [:today :7d-after], :collapsed? false}]}, :ui/enable-tooltip? true, :ui/show-command-doc? true}}}"</script><script type="text/javascript">// Single Page Apps for GitHub Pages
      // https://github.com/rafgraph/spa-github-pages
      // Copyright (c) 2016 Rafael Pedicini, licensed under the MIT License
      // ----------------------------------------------------------------------
      // This script checks to see if a redirect is present in the query string
      // and converts it back into the correct url and adds it to the
      // browser's history using window.history.replaceState(...),
      // which won't cause the browser to attempt to load the new url.
      // When the single page app is loaded further down in this file,
      // the correct url will be waiting in the browser's history for
      // the single page app to route accordingly.
      (function(l) {
        if (l.search) {
          var q = {};
          l.search.slice(1).split('&').forEach(function(v) {
            var a = v.split('=');
            q[a[0]] = a.slice(1).join('=').replace(/~and~/g, '&');
          });
          if (q.p !== undefined) {
            window.history.replaceState(null, null,
              l.pathname.slice(0, -1) + (q.p || '') +
              (q.q ? ('?' + q.q) : '') +
              l.hash
            );
          }
        }
      }(window.location))</script><script src="static/js/main.js"></script><script src="static/js/highlight.min.js"></script><script src="static/js/interact.min.js"></script><script src="static/js/code-editor.js"></script></body>